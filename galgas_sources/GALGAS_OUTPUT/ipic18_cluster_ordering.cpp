//-----------------------------------------------------------------------------*
//                                                                             *
//                     File 'ipic18_cluster_ordering.cpp'                      *
//                         Generated by version 2.6.0                          *
//                        july 6th, 2014, at 14h45'22"                         *
//                                                                             *
//-----------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "ipic18_cluster_ordering.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*

#include "piccolo_options.h"

//-----------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "ipic18_cluster_ordering.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//-----------------------------------------------------------------------------*
//                                                                             *
//                  Class for element of '@clusterList' list                   *
//                                                                             *
//-----------------------------------------------------------------------------*

class cCollectionElement_clusterList : public cCollectionElement {
  public : GALGAS_clusterList_2E_element mObject ;

//--- Constructor
  public : cCollectionElement_clusterList (const GALGAS_ipic_31__38_BlockList & in_mBlockList
                                           COMMA_LOCATION_ARGS) ;

//--- Virtual method for comparing elements
  public : virtual typeComparisonResult compare (const cCollectionElement * inOperand) const ;

//--- Virtual method that checks that all attributes are valid
  public : virtual bool isValid (void) const ;

//--- Virtual method that returns a copy of current object
  public : virtual cCollectionElement * copy (void) ;

//--- Description
 public : virtual void description (C_String & ioString, const int32_t inIndentation) const ;
} ;

//-----------------------------------------------------------------------------*

cCollectionElement_clusterList::cCollectionElement_clusterList (const GALGAS_ipic_31__38_BlockList & in_mBlockList
                                                                COMMA_LOCATION_ARGS) :
cCollectionElement (THERE),
mObject (in_mBlockList) {
}

//-----------------------------------------------------------------------------*

bool cCollectionElement_clusterList::isValid (void) const {
  return mObject.isValid () ;
}

//-----------------------------------------------------------------------------*

cCollectionElement * cCollectionElement_clusterList::copy (void) {
  cCollectionElement * result = NULL ;
  macroMyNew (result, cCollectionElement_clusterList (mObject.mAttribute_mBlockList COMMA_HERE)) ;
  return result ;
}

//-----------------------------------------------------------------------------*

void cCollectionElement_clusterList::description (C_String & ioString, const int32_t inIndentation) const {
  ioString << "\n" ;
  ioString.writeStringMultiple ("| ", inIndentation) ;
  ioString << "mBlockList" ":" ;
  mObject.mAttribute_mBlockList.description (ioString, inIndentation) ;
}

//-----------------------------------------------------------------------------*

typeComparisonResult cCollectionElement_clusterList::compare (const cCollectionElement * inOperand) const {
  cCollectionElement_clusterList * operand = (cCollectionElement_clusterList *) inOperand ;
  macroValidSharedObject (operand, cCollectionElement_clusterList) ;
  return mObject.objectCompare (operand->mObject) ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList::GALGAS_clusterList (void) :
AC_GALGAS_list () {
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList::GALGAS_clusterList (cSharedList * inSharedListPtr) :
AC_GALGAS_list (inSharedListPtr) {
  if (NULL == inSharedListPtr) {
    createNewEmptyList (HERE) ;
  }
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::constructor_emptyList (LOCATION_ARGS) {
  GALGAS_clusterList result ;
  result.createNewEmptyList (THERE) ;
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::constructor_listWithValue (const GALGAS_ipic_31__38_BlockList & inOperand0
                                                                  COMMA_LOCATION_ARGS) {
  GALGAS_clusterList result ;
  if (inOperand0.isValid ()) {
    result.createNewEmptyList (THERE) ;
    capCollectionElement attributes ;
    GALGAS_clusterList::makeAttributesFromObjects (attributes, inOperand0 COMMA_THERE) ;
    result.addObject (attributes) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::makeAttributesFromObjects (capCollectionElement & outAttributes,
                                                    const GALGAS_ipic_31__38_BlockList & in_mBlockList
                                                    COMMA_LOCATION_ARGS) {
  cCollectionElement_clusterList * p = NULL ;
  macroMyNew (p, cCollectionElement_clusterList (in_mBlockList COMMA_THERE)) ;
  outAttributes.setPointer (p) ;
  macroDetachSharedObject (p) ;
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::addAssign_operation (const GALGAS_ipic_31__38_BlockList & inOperand0
                                              COMMA_LOCATION_ARGS) {
  if (isValid () && inOperand0.isValid ()) {
    cCollectionElement * p = NULL ;
    macroMyNew (p, cCollectionElement_clusterList (inOperand0 COMMA_THERE)) ;
    capCollectionElement attributes ;
    attributes.setPointer (p) ;
    macroDetachSharedObject (p) ;
    addObject (attributes) ;
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::modifier_insertAtIndex (const GALGAS_ipic_31__38_BlockList inOperand0,
                                                 const GALGAS_uint inInsertionIndex,
                                                 C_Compiler * inCompiler
                                                 COMMA_LOCATION_ARGS) {
  if (isValid () && inInsertionIndex.isValid () && inOperand0.isValid ()) {
    cCollectionElement * p = NULL ;
    macroMyNew (p, cCollectionElement_clusterList (inOperand0 COMMA_THERE)) ;
    capCollectionElement attributes ;
    attributes.setPointer (p) ;
    macroDetachSharedObject (p) ;
    addObjectAtIndex (attributes, inInsertionIndex.uintValue (), inCompiler COMMA_THERE) ;
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::modifier_removeAtIndex (GALGAS_ipic_31__38_BlockList & outOperand0,
                                                 const GALGAS_uint inRemoveIndex,
                                                 C_Compiler * inCompiler
                                                 COMMA_LOCATION_ARGS) {
  if (isValid () && inRemoveIndex.isValid ()) {
    capCollectionElement attributes ;
    removeObjectAtIndex (attributes, inRemoveIndex.uintValue (), inCompiler COMMA_THERE) ;
    cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
    if (NULL == p) {
      outOperand0.drop () ;
    }else{
      macroValidSharedObject (p, cCollectionElement_clusterList) ;
      outOperand0 = p->mObject.mAttribute_mBlockList ;
    }
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::modifier_popFirst (GALGAS_ipic_31__38_BlockList & outOperand0,
                                            C_Compiler * inCompiler
                                            COMMA_LOCATION_ARGS) {
  capCollectionElement attributes ;
  removeFirstObject (attributes, inCompiler COMMA_THERE) ;
  cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
  if (NULL == p) {
    outOperand0.drop () ;
  }else{
    macroValidSharedObject (p, cCollectionElement_clusterList) ;
    outOperand0 = p->mObject.mAttribute_mBlockList ;
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::modifier_popLast (GALGAS_ipic_31__38_BlockList & outOperand0,
                                           C_Compiler * inCompiler
                                           COMMA_LOCATION_ARGS) {
  capCollectionElement attributes ;
  removeLastObject (attributes, inCompiler COMMA_THERE) ;
  cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
  if (NULL == p) {
    outOperand0.drop () ;
  }else{
    macroValidSharedObject (p, cCollectionElement_clusterList) ;
    outOperand0 = p->mObject.mAttribute_mBlockList ;
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::method_first (GALGAS_ipic_31__38_BlockList & outOperand0,
                                       C_Compiler * inCompiler
                                       COMMA_LOCATION_ARGS) const {
  capCollectionElement attributes ;
  readFirst (attributes, inCompiler COMMA_THERE) ;
  cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
  if (NULL == p) {
    outOperand0.drop () ;
  }else{
    macroValidSharedObject (p, cCollectionElement_clusterList) ;
    outOperand0 = p->mObject.mAttribute_mBlockList ;
  }
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::method_last (GALGAS_ipic_31__38_BlockList & outOperand0,
                                      C_Compiler * inCompiler
                                      COMMA_LOCATION_ARGS) const {
  capCollectionElement attributes ;
  readLast (attributes, inCompiler COMMA_THERE) ;
  cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
  if (NULL == p) {
    outOperand0.drop () ;
  }else{
    macroValidSharedObject (p, cCollectionElement_clusterList) ;
    outOperand0 = p->mObject.mAttribute_mBlockList ;
  }
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::operator_concat (const GALGAS_clusterList & inOperand
                                                        COMMA_UNUSED_LOCATION_ARGS) const {
  GALGAS_clusterList result ;
  if (isValid () && inOperand.isValid ()) {
    result = *this ;
    result.appendList (inOperand) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::reader_subListWithRange (const GALGAS_range & inRange,
                                                                C_Compiler * inCompiler
                                                                COMMA_LOCATION_ARGS) const {
  GALGAS_clusterList result = GALGAS_clusterList::constructor_emptyList (THERE) ;
  subListWithRange (result, inRange, inCompiler COMMA_THERE) ;
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::reader_subListFromIndex (const GALGAS_uint & inIndex,
                                                                C_Compiler * inCompiler
                                                                COMMA_LOCATION_ARGS) const {
  GALGAS_clusterList result = GALGAS_clusterList::constructor_emptyList (THERE) ;
  subListFromIndex (result, inIndex, inCompiler COMMA_THERE) ;
  return result ;
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList::dotAssign_operation (const GALGAS_clusterList inOperand
                                              COMMA_UNUSED_LOCATION_ARGS) {
  appendList (inOperand) ;
}

//-----------------------------------------------------------------------------*

GALGAS_ipic_31__38_BlockList GALGAS_clusterList::reader_mBlockListAtIndex (const GALGAS_uint & inIndex,
                                                                           C_Compiler * inCompiler
                                                                           COMMA_LOCATION_ARGS) const {
  capCollectionElement attributes = readObjectAtIndex (inIndex, inCompiler COMMA_THERE) ;
  cCollectionElement_clusterList * p = (cCollectionElement_clusterList *) attributes.ptr () ;
  GALGAS_ipic_31__38_BlockList result ;
  if (NULL != p) {
    macroValidSharedObject (p, cCollectionElement_clusterList) ;
    result = p->mObject.mAttribute_mBlockList ;
  }
  return result ;
}



//-----------------------------------------------------------------------------*

cEnumerator_clusterList::cEnumerator_clusterList (const GALGAS_clusterList & inEnumeratedObject,
                                                  const typeEnumerationOrder inOrder) :
cGenericAbstractEnumerator () {
  inEnumeratedObject.populateEnumerationArray (mEnumerationArray, inOrder) ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element cEnumerator_clusterList::current (LOCATION_ARGS) const {
  const cCollectionElement_clusterList * p = (const cCollectionElement_clusterList *) currentObjectPtr (THERE) ;
  macroValidSharedObject (p, cCollectionElement_clusterList) ;
  return p->mObject ;
}


//-----------------------------------------------------------------------------*

GALGAS_ipic_31__38_BlockList cEnumerator_clusterList::current_mBlockList (LOCATION_ARGS) const {
  const cCollectionElement_clusterList * p = (const cCollectionElement_clusterList *) currentObjectPtr (THERE) ;
  macroValidSharedObject (p, cCollectionElement_clusterList) ;
  return p->mObject.mAttribute_mBlockList ;
}




//-----------------------------------------------------------------------------*
//                                                                             *
//                              @clusterList type                              *
//                                                                             *
//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor
kTypeDescriptor_GALGAS_clusterList ("clusterList",
                                    NULL) ;

//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor * GALGAS_clusterList::staticTypeDescriptor (void) const {
  return & kTypeDescriptor_GALGAS_clusterList ;
}

//-----------------------------------------------------------------------------*

AC_GALGAS_root * GALGAS_clusterList::clonedObject (void) const {
  AC_GALGAS_root * result = NULL ;
  if (isValid ()) {
    macroMyNew (result, GALGAS_clusterList (*this)) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList GALGAS_clusterList::extractObject (const GALGAS_object & inObject,
                                                      C_Compiler * inCompiler
                                                      COMMA_LOCATION_ARGS) {
  GALGAS_clusterList result ;
  const GALGAS_clusterList * p = (const GALGAS_clusterList *) inObject.embeddedObject () ;
  if (NULL != p) {
    if (NULL != dynamic_cast <const GALGAS_clusterList *> (p)) {
      result = *p ;
    }else{
      inCompiler->castError ("clusterList", p->dynamicTypeDescriptor () COMMA_THERE) ;
    }  
  }
  return result ;
}

//-----------------------------------------------------------------------------*

cMapElement_neededConversionForClusterOrder::cMapElement_neededConversionForClusterOrder (const GALGAS_lstring & inKey,
                                                                                          const GALGAS_uint & in_mConversions
                                                                                          COMMA_LOCATION_ARGS) :
cMapElement (inKey COMMA_THERE),
mAttribute_mConversions (in_mConversions) {
}

//-----------------------------------------------------------------------------*

bool cMapElement_neededConversionForClusterOrder::isValid (void) const {
  return mAttribute_lkey.isValid () && mAttribute_mConversions.isValid () ;
}

//-----------------------------------------------------------------------------*

cMapElement * cMapElement_neededConversionForClusterOrder::copy (void) {
  cMapElement * result = NULL ;
  macroMyNew (result, cMapElement_neededConversionForClusterOrder (mAttribute_lkey, mAttribute_mConversions COMMA_HERE)) ;
  return result ;
}

//-----------------------------------------------------------------------------*

void cMapElement_neededConversionForClusterOrder::description (C_String & ioString, const int32_t inIndentation) const {
  ioString << "\n" ;
  ioString.writeStringMultiple ("| ", inIndentation) ;
  ioString << "mConversions" ":" ;
  mAttribute_mConversions.description (ioString, inIndentation) ;
}

//-----------------------------------------------------------------------------*

typeComparisonResult cMapElement_neededConversionForClusterOrder::compare (const cCollectionElement * inOperand) const {
  cMapElement_neededConversionForClusterOrder * operand = (cMapElement_neededConversionForClusterOrder *) inOperand ;
  typeComparisonResult result = mAttribute_lkey.objectCompare (operand->mAttribute_lkey) ;
  if (kOperandEqual == result) {
    result = mAttribute_mConversions.objectCompare (operand->mAttribute_mConversions) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder::GALGAS_neededConversionForClusterOrder (void) :
AC_GALGAS_map () {
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder::GALGAS_neededConversionForClusterOrder (const GALGAS_neededConversionForClusterOrder & inSource) :
AC_GALGAS_map (inSource) {
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder & GALGAS_neededConversionForClusterOrder::operator = (const GALGAS_neededConversionForClusterOrder & inSource) {
  * ((AC_GALGAS_map *) this) = inSource ;
  return * this ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder GALGAS_neededConversionForClusterOrder::constructor_emptyMap (LOCATION_ARGS) {
  GALGAS_neededConversionForClusterOrder result ;
  result.makeNewEmptyMap (THERE) ;
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder GALGAS_neededConversionForClusterOrder::constructor_mapWithMapToOverride (const GALGAS_neededConversionForClusterOrder & inMapToOverride
                                                                                                                 COMMA_LOCATION_ARGS) {
  GALGAS_neededConversionForClusterOrder result ;
  result.makeNewEmptyMapWithMapToOverride (inMapToOverride COMMA_THERE) ;
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder GALGAS_neededConversionForClusterOrder::reader_overriddenMap (C_Compiler * inCompiler
                                                                                                     COMMA_LOCATION_ARGS) const {
  GALGAS_neededConversionForClusterOrder result ;
  getOverridenMap (result, inCompiler COMMA_THERE) ;
  return result ;
}
//-----------------------------------------------------------------------------*

void GALGAS_neededConversionForClusterOrder::modifier_insertKey (GALGAS_lstring inKey,
                                                                 GALGAS_uint inArgument0,
                                                                 C_Compiler * inCompiler
                                                                 COMMA_LOCATION_ARGS) {
  cMapElement_neededConversionForClusterOrder * p = NULL ;
  macroMyNew (p, cMapElement_neededConversionForClusterOrder (inKey, inArgument0 COMMA_HERE)) ;
  capCollectionElement attributes ;
  attributes.setPointer (p) ;
  macroDetachSharedObject (p) ;
  const char * kInsertErrorMessage = "the '%K' key is already declared in %L" ;
  const char * kShadowErrorMessage = "" ;
  performInsert (attributes, inCompiler, kInsertErrorMessage, kShadowErrorMessage COMMA_THERE) ;
}

//-----------------------------------------------------------------------------*

const char * kSearchErrorMessage_neededConversionForClusterOrder_searchKey = "the '%K' key is not declared" ;

//-----------------------------------------------------------------------------*

void GALGAS_neededConversionForClusterOrder::method_searchKey (GALGAS_lstring inKey,
                                                               GALGAS_uint & outArgument0,
                                                               C_Compiler * inCompiler
                                                               COMMA_LOCATION_ARGS) const {
  const cMapElement_neededConversionForClusterOrder * p = (const cMapElement_neededConversionForClusterOrder *) performSearch (inKey,
                                                                                                                                 inCompiler,
                                                                                                                                 kSearchErrorMessage_neededConversionForClusterOrder_searchKey
                                                                                                                                 COMMA_THERE) ;
  if (NULL == p) {
    outArgument0.drop () ;
  }else{
    macroValidSharedObject (p, cMapElement_neededConversionForClusterOrder) ;
    outArgument0 = p->mAttribute_mConversions ;
  }
}

//-----------------------------------------------------------------------------*

GALGAS_uint GALGAS_neededConversionForClusterOrder::reader_mConversionsForKey (const GALGAS_string & inKey,
                                                                               C_Compiler * inCompiler
                                                                               COMMA_LOCATION_ARGS) const {
  const cCollectionElement * attributes = searchForReadingAttribute (inKey, inCompiler COMMA_THERE) ;
  const cMapElement_neededConversionForClusterOrder * p = (const cMapElement_neededConversionForClusterOrder *) attributes ;
  GALGAS_uint result ;
  if (NULL != p) {
    macroValidSharedObject (p, cMapElement_neededConversionForClusterOrder) ;
    result = p->mAttribute_mConversions ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

void GALGAS_neededConversionForClusterOrder::modifier_setMConversionsForKey (GALGAS_uint inAttributeValue,
                                                                             GALGAS_string inKey,
                                                                             C_Compiler * inCompiler
                                                                             COMMA_LOCATION_ARGS) {
  cCollectionElement * attributes = searchForReadWriteAttribute (inKey, inCompiler COMMA_THERE) ;
  cMapElement_neededConversionForClusterOrder * p = (cMapElement_neededConversionForClusterOrder *) attributes ;
  if (NULL != p) {
    macroValidSharedObject (p, cMapElement_neededConversionForClusterOrder) ;
    p->mAttribute_mConversions = inAttributeValue ;
  }
}

//-----------------------------------------------------------------------------*

cMapElement_neededConversionForClusterOrder * GALGAS_neededConversionForClusterOrder::readWriteAccessForWithInstruction_hasKey (C_Compiler * inCompiler,
                                                                                                                                const GALGAS_string & inKey
                                                                                                                                COMMA_LOCATION_ARGS) {
  cMapElement * p = searchForReadWriteAttribute (inKey, inCompiler COMMA_THERE) ;
  cMapElement_neededConversionForClusterOrder * result = (cMapElement_neededConversionForClusterOrder *) p ;
  macroNullOrValidSharedObject (result, cMapElement_neededConversionForClusterOrder) ;
  return result ;
}

//-----------------------------------------------------------------------------*

cMapElement_neededConversionForClusterOrder * GALGAS_neededConversionForClusterOrder::readWriteAccessForWithInstruction_searchKey (C_Compiler * inCompiler,
                                                                                                                                   const GALGAS_lstring & inKey
                                                                                                                                   COMMA_LOCATION_ARGS) {
  cMapElement * p = searchForReadWriteAttribute (inKey, inCompiler, kSearchErrorMessage_neededConversionForClusterOrder_searchKey COMMA_THERE) ;
  cMapElement_neededConversionForClusterOrder * result = (cMapElement_neededConversionForClusterOrder *) p ;
  macroNullOrValidSharedObject (result, cMapElement_neededConversionForClusterOrder) ;
  return result ;
}

//-----------------------------------------------------------------------------*

cEnumerator_neededConversionForClusterOrder::cEnumerator_neededConversionForClusterOrder (const GALGAS_neededConversionForClusterOrder & inEnumeratedObject,
                                                                                          const typeEnumerationOrder inOrder) :
cGenericAbstractEnumerator () {
  inEnumeratedObject.populateEnumerationArray (mEnumerationArray, inOrder) ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element cEnumerator_neededConversionForClusterOrder::current (LOCATION_ARGS) const {
  const cMapElement_neededConversionForClusterOrder * p = (const cMapElement_neededConversionForClusterOrder *) currentObjectPtr (THERE) ;
  macroValidSharedObject (p, cMapElement_neededConversionForClusterOrder) ;
  return GALGAS_neededConversionForClusterOrder_2E_element (p->mAttribute_lkey, p->mAttribute_mConversions) ;
}

//-----------------------------------------------------------------------------*

GALGAS_lstring cEnumerator_neededConversionForClusterOrder::current_lkey (LOCATION_ARGS) const {
  const cMapElement * p = (const cMapElement *) currentObjectPtr (THERE) ;
  macroValidSharedObject (p, cMapElement) ;
  return p->mAttribute_lkey ;
}

//-----------------------------------------------------------------------------*

GALGAS_uint cEnumerator_neededConversionForClusterOrder::current_mConversions (LOCATION_ARGS) const {
  const cMapElement_neededConversionForClusterOrder * p = (const cMapElement_neededConversionForClusterOrder *) currentObjectPtr (THERE) ;
  macroValidSharedObject (p, cMapElement_neededConversionForClusterOrder) ;
  return p->mAttribute_mConversions ;
}



//-----------------------------------------------------------------------------*
//                                                                             *
//                    @neededConversionForClusterOrder type                    *
//                                                                             *
//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor
kTypeDescriptor_GALGAS_neededConversionForClusterOrder ("neededConversionForClusterOrder",
                                                        NULL) ;

//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor * GALGAS_neededConversionForClusterOrder::staticTypeDescriptor (void) const {
  return & kTypeDescriptor_GALGAS_neededConversionForClusterOrder ;
}

//-----------------------------------------------------------------------------*

AC_GALGAS_root * GALGAS_neededConversionForClusterOrder::clonedObject (void) const {
  AC_GALGAS_root * result = NULL ;
  if (isValid ()) {
    macroMyNew (result, GALGAS_neededConversionForClusterOrder (*this)) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder GALGAS_neededConversionForClusterOrder::extractObject (const GALGAS_object & inObject,
                                                                                              C_Compiler * inCompiler
                                                                                              COMMA_LOCATION_ARGS) {
  GALGAS_neededConversionForClusterOrder result ;
  const GALGAS_neededConversionForClusterOrder * p = (const GALGAS_neededConversionForClusterOrder *) inObject.embeddedObject () ;
  if (NULL != p) {
    if (NULL != dynamic_cast <const GALGAS_neededConversionForClusterOrder *> (p)) {
      result = *p ;
    }else{
      inCompiler->castError ("neededConversionForClusterOrder", p->dynamicTypeDescriptor () COMMA_THERE) ;
    }  
  }
  return result ;
}

//-----------------------------------------------------------------------------*
//                                                                             *
//                             Function 'sortKey'                              *
//                                                                             *
//-----------------------------------------------------------------------------*

GALGAS_string function_sortKey (const GALGAS_clusterList & constinArgument_inClusterList,
                                C_Compiler * inCompiler
                                COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_string result_outKey ; // Returned variable
  result_outKey = GALGAS_string::makeEmptyString () ;
  cEnumerator_clusterList enumerator_729 (constinArgument_inClusterList, kEnumeration_up) ;
  while (enumerator_729.hasCurrentObject ()) {
    result_outKey.dotAssign_operation (enumerator_729.current_mBlockList (HERE).reader_mBlockAtIndex (GALGAS_uint ((uint32_t) 0U), inCompiler COMMA_SOURCE_FILE_AT_LINE (25)).mAttribute_mLabel.mAttribute_string COMMA_SOURCE_FILE_AT_LINE (25)) ;
    if (enumerator_729.hasNextObject ()) {
      result_outKey.dotAssign_operation (GALGAS_string (".") COMMA_SOURCE_FILE_AT_LINE (27)) ;
    }
    enumerator_729.gotoNextObject () ;
  }
//---
  return result_outKey ;
}


//-----------------------------------------------------------------------------*
//  Function introspection                                                     *
//-----------------------------------------------------------------------------*

static const C_galgas_type_descriptor * functionArgs_sortKey [2] = {
  & kTypeDescriptor_GALGAS_clusterList,
  NULL
} ;

//-----------------------------------------------------------------------------*

static GALGAS_object functionWithGenericHeader_sortKey (C_Compiler * inCompiler,
                                                        const cObjectArray & inEffectiveParameterArray,
                                                        const GALGAS_location & /* §§ inErrorLocation */
                                                        COMMA_LOCATION_ARGS) {
  const GALGAS_clusterList operand0 = GALGAS_clusterList::extractObject (inEffectiveParameterArray.objectAtIndex (0 COMMA_HERE),
                                                                         inCompiler
                                                                         COMMA_THERE) ;
  return function_sortKey (operand0,
                           inCompiler
                           COMMA_THERE).reader_object (THERE) ;
}

//-----------------------------------------------------------------------------*

C_galgas_function_descriptor functionDescriptor_sortKey ("sortKey",
                                                         functionWithGenericHeader_sortKey,
                                                         & kTypeDescriptor_GALGAS_string,
                                                         1,
                                                         functionArgs_sortKey) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//                     Routine 'perform_cluster_ordering'                      *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_perform_5F_cluster_5F_ordering (const GALGAS_clusterList constinArgument_inInitialClusterList,
                                             GALGAS_ipic_31__38_BlockList & ioArgument_ioBlockList,
                                             GALGAS_string & ioArgument_ioListFileContents,
                                             C_Compiler * inCompiler
                                             COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_bool var_optimize = GALGAS_bool (gOption_piccolo_5F_options_performOptimizations.reader_value ()).operator_and (GALGAS_bool (gOption_piccolo_5F_options_performOptimizations.reader_value ()).operator_or (GALGAS_string (gOption_piccolo_5F_options_optimizationFlags.reader_value ()).reader_containsCharacter (GALGAS_char (TO_UNICODE (66)) COMMA_SOURCE_FILE_AT_LINE (39)) COMMA_SOURCE_FILE_AT_LINE (39)) COMMA_SOURCE_FILE_AT_LINE (38)).operator_and (GALGAS_bool (gOption_piccolo_5F_options_doNotReorderCluster.reader_value ()).operator_not (SOURCE_FILE_AT_LINE (40)) COMMA_SOURCE_FILE_AT_LINE (39)) ;
  const enumGalgasBool test_0 = var_optimize.operator_not (SOURCE_FILE_AT_LINE (41)).boolEnum () ;
  if (kBoolTrue == test_0) {
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("Option '--").operator_concat (GALGAS_string (gOption_piccolo_5F_options_doNotReorderCluster.reader_string ()) COMMA_SOURCE_FILE_AT_LINE (42)).operator_concat (GALGAS_string ("': this optimization is not performed.n\n") COMMA_SOURCE_FILE_AT_LINE (42)) COMMA_SOURCE_FILE_AT_LINE (42)) ;
  }else if (kBoolFalse == test_0) {
    GALGAS_uint var_clusterCount = constinArgument_inInitialClusterList.reader_length (SOURCE_FILE_AT_LINE (44)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string::makeEmptyString ().reader_stringByLeftAndRightPadding (GALGAS_uint ((uint32_t) 79U), GALGAS_char (TO_UNICODE (42)) COMMA_SOURCE_FILE_AT_LINE (45)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (45)) COMMA_SOURCE_FILE_AT_LINE (45)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("*").operator_concat (GALGAS_string ("CLUSTER ORDERING OPTIMIZATION").reader_stringByLeftAndRightPadding (GALGAS_uint ((uint32_t) 77U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE_AT_LINE (46)) COMMA_SOURCE_FILE_AT_LINE (46)).operator_concat (GALGAS_string ("*\n") COMMA_SOURCE_FILE_AT_LINE (46)) COMMA_SOURCE_FILE_AT_LINE (46)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string::makeEmptyString ().reader_stringByLeftAndRightPadding (GALGAS_uint ((uint32_t) 79U), GALGAS_char (TO_UNICODE (42)) COMMA_SOURCE_FILE_AT_LINE (47)).operator_concat (GALGAS_string ("\n"
      "\n") COMMA_SOURCE_FILE_AT_LINE (47)) COMMA_SOURCE_FILE_AT_LINE (47)) ;
    //--- @ifExpressionForGeneration
    GALGAS_string temp_1 ;
    const enumGalgasBool test_2 = GALGAS_bool (kIsStrictSup, var_clusterCount.objectCompare (GALGAS_uint ((uint32_t) 1U))).boolEnum () ;
    if (kBoolTrue == test_2) {
      temp_1 = GALGAS_string ("s") ;
    }else if (kBoolFalse == test_2) {
      temp_1 = GALGAS_string::makeEmptyString () ;
    }
    GALGAS_string var_s = GALGAS_string ("Cluster ordering optimization (").operator_concat (var_clusterCount.reader_string (SOURCE_FILE_AT_LINE (48)) COMMA_SOURCE_FILE_AT_LINE (48)).operator_concat (GALGAS_string (" cluster") COMMA_SOURCE_FILE_AT_LINE (48)).operator_concat (temp_1 COMMA_SOURCE_FILE_AT_LINE (48)).operator_concat (GALGAS_string ("):\n") COMMA_SOURCE_FILE_AT_LINE (48)) ;
    ioArgument_ioListFileContents.dotAssign_operation (var_s.operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (49)) COMMA_SOURCE_FILE_AT_LINE (49)) ;
    const enumGalgasBool test_3 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
    if (kBoolTrue == test_3) {
      inCompiler->printMessage (var_s COMMA_SOURCE_FILE_AT_LINE (52)) ;
    }
    GALGAS_clusterList var_clusterList = constinArgument_inInitialClusterList ;
    GALGAS_neededConversionForClusterOrder var_neededConversionForClusterOrder = GALGAS_neededConversionForClusterOrder::constructor_emptyMap (SOURCE_FILE_AT_LINE (56)) ;
    GALGAS_bool var_continue = GALGAS_bool (true) ;
    GALGAS_uint var_pass = GALGAS_uint ((uint32_t) 0U) ;
    if (var_clusterList.reader_length (SOURCE_FILE_AT_LINE (59)).multiply_operation (var_clusterList.reader_length (SOURCE_FILE_AT_LINE (59)), inCompiler COMMA_SOURCE_FILE_AT_LINE (59)).isValid ()) {
      uint32_t variant_2345 = var_clusterList.reader_length (SOURCE_FILE_AT_LINE (59)).multiply_operation (var_clusterList.reader_length (SOURCE_FILE_AT_LINE (59)), inCompiler COMMA_SOURCE_FILE_AT_LINE (59)).uintValue () ;
      bool loop_2345 = true ;
      while (loop_2345) {
        loop_2345 = var_continue.isValid () ;
        if (loop_2345) {
          loop_2345 = var_continue.boolValue () ;
        }
        if (loop_2345 && (0 == variant_2345)) {
          loop_2345 = false ;
          inCompiler->loopRunTimeVariantError (SOURCE_FILE_AT_LINE (59)) ;
        }
        if (loop_2345) {
          variant_2345 -- ;
          var_pass.increment_operation (inCompiler COMMA_SOURCE_FILE_AT_LINE (61)) ;
          ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("Pass ").operator_concat (var_pass.reader_string (SOURCE_FILE_AT_LINE (62)) COMMA_SOURCE_FILE_AT_LINE (62)).operator_concat (GALGAS_string (":\n") COMMA_SOURCE_FILE_AT_LINE (62)) COMMA_SOURCE_FILE_AT_LINE (62)) ;
          GALGAS_ipic_31__38_BlockList var_workingBlockList = GALGAS_ipic_31__38_BlockList::constructor_emptyList (SOURCE_FILE_AT_LINE (64)) ;
          GALGAS_symbolTableForClusterOrdering var_symbolTable = GALGAS_symbolTableForClusterOrdering::constructor_emptyMap (SOURCE_FILE_AT_LINE (65)) ;
          cEnumerator_clusterList enumerator_2675 (var_clusterList, kEnumeration_up) ;
          GALGAS_uint index_2663 ((uint32_t) 0) ;
          while (enumerator_2675.hasCurrentObject ()) {
            var_workingBlockList.dotAssign_operation (enumerator_2675.current_mBlockList (HERE) COMMA_SOURCE_FILE_AT_LINE (67)) ;
            cEnumerator_ipic_31__38_BlockList enumerator_2765 (enumerator_2675.current_mBlockList (HERE), kEnumeration_up) ;
            while (enumerator_2765.hasCurrentObject ()) {
              {
              var_symbolTable.modifier_insertKey (enumerator_2765.current_mBlock (HERE).mAttribute_mLabel, index_2663, inCompiler COMMA_SOURCE_FILE_AT_LINE (69)) ;
              }
              enumerator_2765.gotoNextObject () ;
            }
            enumerator_2675.gotoNextObject () ;
            index_2663.increment_operation (inCompiler COMMA_SOURCE_FILE_AT_LINE (66)) ;
          }
          GALGAS_uint var_insertionIdx = var_workingBlockList.reader_length (SOURCE_FILE_AT_LINE (73)) ;
          cEnumerator_ipic_31__38_BlockList enumerator_3018 (ioArgument_ioBlockList, kEnumeration_down) ;
          bool bool_4 = var_continue.isValidAndTrue () ;
          if (enumerator_3018.hasCurrentObject () && bool_4) {
            while (enumerator_3018.hasCurrentObject () && bool_4) {
              var_continue = GALGAS_bool (kIsNotEqual, enumerator_3018.current_mBlock (HERE).mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (75)))) ;
              const enumGalgasBool test_5 = var_continue.boolEnum () ;
              if (kBoolTrue == test_5) {
                {
                var_symbolTable.modifier_insertKey (enumerator_3018.current_mBlock (HERE).mAttribute_mLabel, GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (77)), inCompiler COMMA_SOURCE_FILE_AT_LINE (77)) ;
                }
                {
                var_workingBlockList.modifier_insertAtIndex (enumerator_3018.current_mBlock (HERE), var_insertionIdx, inCompiler COMMA_SOURCE_FILE_AT_LINE (78)) ;
                }
              }
              enumerator_3018.gotoNextObject () ;
              if (enumerator_3018.hasCurrentObject ()) {
                bool_4 = var_continue.isValidAndTrue () ;
              }
            }
          }
          GALGAS_branchOverflowMap var_overflowMap ;
          {
          routine_ipic_31__38_RelativeBranchOverflow (var_workingBlockList, ioArgument_ioBlockList, var_overflowMap, inCompiler COMMA_SOURCE_FILE_AT_LINE (82)) ;
          }
          GALGAS_uint var_overflowCount = GALGAS_uint ((uint32_t) 0U) ;
          cEnumerator_branchOverflowMap enumerator_3539 (var_overflowMap, kEnumeration_up) ;
          while (enumerator_3539.hasCurrentObject ()) {
            cEnumerator_stringlist enumerator_3564 (enumerator_3539.current_mList (HERE), kEnumeration_up) ;
            while (enumerator_3564.hasCurrentObject ()) {
              var_overflowCount.increment_operation (inCompiler COMMA_SOURCE_FILE_AT_LINE (90)) ;
              GALGAS_uint var_sourceCluster ;
              var_symbolTable.method_searchKey (enumerator_3539.current_key (HERE).reader_nowhere (SOURCE_FILE_AT_LINE (91)), var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (91)) ;
              GALGAS_uint var_targetCluster ;
              var_symbolTable.method_searchKey (enumerator_3564.current_mValue (HERE).reader_nowhere (SOURCE_FILE_AT_LINE (92)), var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (92)) ;
              ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("  ").operator_concat (enumerator_3539.current_key (HERE) COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (GALGAS_string (" (cluster #") COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (var_sourceCluster.reader_string (SOURCE_FILE_AT_LINE (93)) COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (GALGAS_string (") --> ") COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (enumerator_3564.current_mValue (HERE) COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (GALGAS_string (" (cluster #") COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (var_targetCluster.reader_string (SOURCE_FILE_AT_LINE (93)) COMMA_SOURCE_FILE_AT_LINE (93)).operator_concat (GALGAS_string (")\n") COMMA_SOURCE_FILE_AT_LINE (93)) COMMA_SOURCE_FILE_AT_LINE (93)) ;
              enumerator_3564.gotoNextObject () ;
            }
            enumerator_3539.gotoNextObject () ;
          }
          {
          var_neededConversionForClusterOrder.modifier_insertKey (function_sortKey (var_clusterList, inCompiler COMMA_SOURCE_FILE_AT_LINE (97)).reader_nowhere (SOURCE_FILE_AT_LINE (97)), var_overflowCount, inCompiler COMMA_SOURCE_FILE_AT_LINE (96)) ;
          }
          const enumGalgasBool test_6 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
          if (kBoolTrue == test_6) {
            GALGAS_string var_s = GALGAS_string ("  Pass ").operator_concat (var_pass.reader_string (SOURCE_FILE_AT_LINE (101)) COMMA_SOURCE_FILE_AT_LINE (101)).operator_concat (GALGAS_string (": ") COMMA_SOURCE_FILE_AT_LINE (101)) ;
            const enumGalgasBool test_7 = GALGAS_bool (kIsEqual, var_overflowCount.objectCompare (GALGAS_uint ((uint32_t) 0U))).boolEnum () ;
            if (kBoolTrue == test_7) {
              var_s.dotAssign_operation (GALGAS_string ("no branch overflow") COMMA_SOURCE_FILE_AT_LINE (103)) ;
            }else if (kBoolFalse == test_7) {
              const enumGalgasBool test_8 = GALGAS_bool (kIsEqual, var_overflowCount.objectCompare (GALGAS_uint ((uint32_t) 1U))).boolEnum () ;
              if (kBoolTrue == test_8) {
                var_s.dotAssign_operation (GALGAS_string ("1 branch overflow") COMMA_SOURCE_FILE_AT_LINE (105)) ;
              }else if (kBoolFalse == test_8) {
                var_s.dotAssign_operation (var_overflowCount.reader_string (SOURCE_FILE_AT_LINE (107)).operator_concat (GALGAS_string (" branch overflows") COMMA_SOURCE_FILE_AT_LINE (107)) COMMA_SOURCE_FILE_AT_LINE (107)) ;
              }
            }
            inCompiler->printMessage (var_s COMMA_SOURCE_FILE_AT_LINE (109)) ;
          }
          GALGAS_bool var_correctionLoop = GALGAS_bool (true) ;
          cEnumerator_branchOverflowMap enumerator_4499 (var_overflowMap, kEnumeration_up) ;
          bool bool_9 = var_correctionLoop.isValidAndTrue () ;
          if (enumerator_4499.hasCurrentObject () && bool_9) {
            while (enumerator_4499.hasCurrentObject () && bool_9) {
              cEnumerator_stringlist enumerator_4545 (enumerator_4499.current_mList (HERE), kEnumeration_up) ;
              bool bool_10 = var_correctionLoop.isValidAndTrue () ;
              if (enumerator_4545.hasCurrentObject () && bool_10) {
                while (enumerator_4545.hasCurrentObject () && bool_10) {
                  GALGAS_uint var_targetCluster ;
                  var_symbolTable.method_searchKey (enumerator_4545.current_mValue (HERE).reader_nowhere (SOURCE_FILE_AT_LINE (115)), var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (115)) ;
                  const enumGalgasBool test_11 = GALGAS_bool (kIsNotEqual, var_targetCluster.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (116)))).boolEnum () ;
                  if (kBoolTrue == test_11) {
                    GALGAS_uint var_sourceCluster ;
                    var_symbolTable.method_searchKey (enumerator_4499.current_key (HERE).reader_nowhere (SOURCE_FILE_AT_LINE (117)), var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (117)) ;
                    const enumGalgasBool test_12 = GALGAS_bool (kIsEqual, var_sourceCluster.add_operation (GALGAS_uint ((uint32_t) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (118)).objectCompare (var_targetCluster)).boolEnum () ;
                    if (kBoolTrue == test_12) {
                      var_correctionLoop = GALGAS_bool (false) ;
                      var_continue = GALGAS_bool (true) ;
                      GALGAS_ipic_31__38_BlockList var_last ;
                      {
                      var_clusterList.modifier_removeAtIndex (var_last, var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (121)) ;
                      }
                      GALGAS_ipic_31__38_BlockList var_first ;
                      {
                      var_clusterList.modifier_removeAtIndex (var_first, var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (122)) ;
                      }
                      {
                      var_clusterList.modifier_insertAtIndex (var_first.operator_concat (var_last COMMA_SOURCE_FILE_AT_LINE (123)), var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (123)) ;
                      }
                      GALGAS_string var_m = GALGAS_string ("merge #").operator_concat (var_targetCluster.reader_string (SOURCE_FILE_AT_LINE (124)) COMMA_SOURCE_FILE_AT_LINE (124)).operator_concat (GALGAS_string (" into #") COMMA_SOURCE_FILE_AT_LINE (124)).operator_concat (var_sourceCluster.reader_string (SOURCE_FILE_AT_LINE (124)) COMMA_SOURCE_FILE_AT_LINE (124)).operator_concat (GALGAS_string ("]") COMMA_SOURCE_FILE_AT_LINE (124)) ;
                      ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("  --> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (125)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (125)) COMMA_SOURCE_FILE_AT_LINE (125)) ;
                      const enumGalgasBool test_13 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
                      if (kBoolTrue == test_13) {
                        inCompiler->printMessage (GALGAS_string (" -> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (127)) COMMA_SOURCE_FILE_AT_LINE (127)) ;
                      }
                    }else if (kBoolFalse == test_12) {
                      const enumGalgasBool test_14 = GALGAS_bool (kIsEqual, var_sourceCluster.objectCompare (var_targetCluster.add_operation (GALGAS_uint ((uint32_t) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (129)))).boolEnum () ;
                      if (kBoolTrue == test_14) {
                        var_correctionLoop = GALGAS_bool (false) ;
                        var_continue = GALGAS_bool (true) ;
                        GALGAS_ipic_31__38_BlockList var_last ;
                        {
                        var_clusterList.modifier_removeAtIndex (var_last, var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (132)) ;
                        }
                        GALGAS_ipic_31__38_BlockList var_first ;
                        {
                        var_clusterList.modifier_removeAtIndex (var_first, var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (133)) ;
                        }
                        {
                        var_clusterList.modifier_insertAtIndex (var_first.operator_concat (var_last COMMA_SOURCE_FILE_AT_LINE (134)), var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (134)) ;
                        }
                        GALGAS_string var_m = GALGAS_string ("merge #").operator_concat (var_sourceCluster.reader_string (SOURCE_FILE_AT_LINE (135)) COMMA_SOURCE_FILE_AT_LINE (135)).operator_concat (GALGAS_string (" into #") COMMA_SOURCE_FILE_AT_LINE (135)).operator_concat (var_targetCluster.reader_string (SOURCE_FILE_AT_LINE (135)) COMMA_SOURCE_FILE_AT_LINE (135)).operator_concat (GALGAS_string ("]") COMMA_SOURCE_FILE_AT_LINE (135)) ;
                        ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("  --> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (136)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (136)) COMMA_SOURCE_FILE_AT_LINE (136)) ;
                        const enumGalgasBool test_15 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
                        if (kBoolTrue == test_15) {
                          inCompiler->printMessage (GALGAS_string (" -> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (138)) COMMA_SOURCE_FILE_AT_LINE (138)) ;
                        }
                      }else if (kBoolFalse == test_14) {
                        const enumGalgasBool test_16 = GALGAS_bool (kIsStrictInf, var_sourceCluster.objectCompare (var_targetCluster)).boolEnum () ;
                        if (kBoolTrue == test_16) {
                          GALGAS_clusterList var_candidate = var_clusterList ;
                          GALGAS_ipic_31__38_BlockList var_b ;
                          {
                          var_candidate.modifier_removeAtIndex (var_b, var_targetCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (142)) ;
                          }
                          {
                          var_candidate.modifier_insertAtIndex (var_b, var_targetCluster.add_operation (var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (143)).divide_operation (GALGAS_uint ((uint32_t) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (143)), inCompiler COMMA_SOURCE_FILE_AT_LINE (143)) ;
                          }
                          const enumGalgasBool test_17 = var_neededConversionForClusterOrder.reader_hasKey (function_sortKey (var_candidate, inCompiler COMMA_SOURCE_FILE_AT_LINE (144)) COMMA_SOURCE_FILE_AT_LINE (144)).operator_not (SOURCE_FILE_AT_LINE (144)).boolEnum () ;
                          if (kBoolTrue == test_17) {
                            var_clusterList = var_candidate ;
                            var_correctionLoop = GALGAS_bool (false) ;
                            var_continue = GALGAS_bool (true) ;
                            GALGAS_string var_m = GALGAS_string ("roll up [#").operator_concat (var_targetCluster.add_operation (var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (148)).divide_operation (GALGAS_uint ((uint32_t) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (148)).reader_string (SOURCE_FILE_AT_LINE (148)) COMMA_SOURCE_FILE_AT_LINE (148)).operator_concat (GALGAS_string (", #") COMMA_SOURCE_FILE_AT_LINE (148)).operator_concat (var_targetCluster.reader_string (SOURCE_FILE_AT_LINE (148)) COMMA_SOURCE_FILE_AT_LINE (148)).operator_concat (GALGAS_string ("]") COMMA_SOURCE_FILE_AT_LINE (148)) ;
                            ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("  --> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (149)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (149)) COMMA_SOURCE_FILE_AT_LINE (149)) ;
                            const enumGalgasBool test_18 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
                            if (kBoolTrue == test_18) {
                              inCompiler->printMessage (GALGAS_string (" -> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (151)) COMMA_SOURCE_FILE_AT_LINE (151)) ;
                            }
                          }
                        }else if (kBoolFalse == test_16) {
                          const enumGalgasBool test_19 = GALGAS_bool (kIsStrictSup, var_sourceCluster.objectCompare (var_targetCluster)).boolEnum () ;
                          if (kBoolTrue == test_19) {
                            GALGAS_clusterList var_candidate = var_clusterList ;
                            GALGAS_ipic_31__38_BlockList var_b ;
                            {
                            var_candidate.modifier_removeAtIndex (var_b, var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (156)) ;
                            }
                            {
                            var_candidate.modifier_insertAtIndex (var_b, var_targetCluster.add_operation (var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (157)).divide_operation (GALGAS_uint ((uint32_t) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (157)), inCompiler COMMA_SOURCE_FILE_AT_LINE (157)) ;
                            }
                            const enumGalgasBool test_20 = var_neededConversionForClusterOrder.reader_hasKey (function_sortKey (var_candidate, inCompiler COMMA_SOURCE_FILE_AT_LINE (158)) COMMA_SOURCE_FILE_AT_LINE (158)).operator_not (SOURCE_FILE_AT_LINE (158)).boolEnum () ;
                            if (kBoolTrue == test_20) {
                              var_clusterList = var_candidate ;
                              var_correctionLoop = GALGAS_bool (false) ;
                              var_continue = GALGAS_bool (true) ;
                              GALGAS_string var_m = GALGAS_string ("roll up [#").operator_concat (var_targetCluster.reader_string (SOURCE_FILE_AT_LINE (162)) COMMA_SOURCE_FILE_AT_LINE (162)).operator_concat (GALGAS_string (", #") COMMA_SOURCE_FILE_AT_LINE (162)).operator_concat (var_targetCluster.add_operation (var_sourceCluster, inCompiler COMMA_SOURCE_FILE_AT_LINE (162)).divide_operation (GALGAS_uint ((uint32_t) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (162)).reader_string (SOURCE_FILE_AT_LINE (162)) COMMA_SOURCE_FILE_AT_LINE (162)).operator_concat (GALGAS_string ("]") COMMA_SOURCE_FILE_AT_LINE (162)) ;
                              ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("  --> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (163)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (163)) COMMA_SOURCE_FILE_AT_LINE (163)) ;
                              const enumGalgasBool test_21 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
                              if (kBoolTrue == test_21) {
                                inCompiler->printMessage (GALGAS_string (" -> ").operator_concat (var_m COMMA_SOURCE_FILE_AT_LINE (165)) COMMA_SOURCE_FILE_AT_LINE (165)) ;
                              }
                            }
                          }
                        }
                      }
                    }
                  }
                  enumerator_4545.gotoNextObject () ;
                  if (enumerator_4545.hasCurrentObject ()) {
                    bool_10 = var_correctionLoop.isValidAndTrue () ;
                  }
                }
              }
              enumerator_4499.gotoNextObject () ;
              if (enumerator_4499.hasCurrentObject ()) {
                bool_9 = var_correctionLoop.isValidAndTrue () ;
              }
            }
          }
          const enumGalgasBool test_22 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
          if (kBoolTrue == test_22) {
            inCompiler->printMessage (GALGAS_string (".\n") COMMA_SOURCE_FILE_AT_LINE (173)) ;
          }
        }
      }
    }
    const enumGalgasBool test_23 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
    if (kBoolTrue == test_23) {
      inCompiler->printMessage (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (177)) ;
    }
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (179)) ;
    GALGAS_ipic_31__38_BlockList var_newBlockList = GALGAS_ipic_31__38_BlockList::constructor_emptyList (SOURCE_FILE_AT_LINE (181)) ;
    var_continue = GALGAS_bool (true) ;
    cEnumerator_ipic_31__38_BlockList enumerator_8159 (ioArgument_ioBlockList, kEnumeration_up) ;
    bool bool_24 = var_continue.isValidAndTrue () ;
    if (enumerator_8159.hasCurrentObject () && bool_24) {
      while (enumerator_8159.hasCurrentObject () && bool_24) {
        var_continue = GALGAS_bool (kIsNotEqual, enumerator_8159.current_mBlock (HERE).mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (185)))) ;
        const enumGalgasBool test_25 = var_continue.boolEnum () ;
        if (kBoolTrue == test_25) {
          var_newBlockList.addAssign_operation (enumerator_8159.current_mBlock (HERE) COMMA_SOURCE_FILE_AT_LINE (187)) ;
        }
        enumerator_8159.gotoNextObject () ;
        if (enumerator_8159.hasCurrentObject ()) {
          bool_24 = var_continue.isValidAndTrue () ;
        }
      }
    }
    cEnumerator_clusterList enumerator_8373 (var_clusterList, kEnumeration_up) ;
    while (enumerator_8373.hasCurrentObject ()) {
      var_newBlockList.dotAssign_operation (enumerator_8373.current_mBlockList (HERE) COMMA_SOURCE_FILE_AT_LINE (192)) ;
      enumerator_8373.gotoNextObject () ;
    }
    GALGAS_uint var_insertionIndex = var_newBlockList.reader_length (SOURCE_FILE_AT_LINE (195)) ;
    var_continue = GALGAS_bool (true) ;
    cEnumerator_ipic_31__38_BlockList enumerator_8579 (ioArgument_ioBlockList, kEnumeration_down) ;
    bool bool_26 = var_continue.isValidAndTrue () ;
    if (enumerator_8579.hasCurrentObject () && bool_26) {
      while (enumerator_8579.hasCurrentObject () && bool_26) {
        var_continue = GALGAS_bool (kIsNotEqual, enumerator_8579.current_mBlock (HERE).mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (198)))) ;
        const enumGalgasBool test_27 = var_continue.boolEnum () ;
        if (kBoolTrue == test_27) {
          {
          var_newBlockList.modifier_insertAtIndex (enumerator_8579.current_mBlock (HERE), var_insertionIndex, inCompiler COMMA_SOURCE_FILE_AT_LINE (200)) ;
          }
        }
        enumerator_8579.gotoNextObject () ;
        if (enumerator_8579.hasCurrentObject ()) {
          bool_26 = var_continue.isValidAndTrue () ;
        }
      }
    }
    ioArgument_ioBlockList = var_newBlockList ;
  }
}


//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element::GALGAS_clusterList_2E_element (void) :
mAttribute_mBlockList () {
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element::~ GALGAS_clusterList_2E_element (void) {
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element::GALGAS_clusterList_2E_element (const GALGAS_ipic_31__38_BlockList & inOperand0) :
mAttribute_mBlockList (inOperand0) {
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element GALGAS_clusterList_2E_element::constructor_default (UNUSED_LOCATION_ARGS) {
  return GALGAS_clusterList_2E_element (GALGAS_ipic_31__38_BlockList::constructor_emptyList (HERE)) ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element GALGAS_clusterList_2E_element::constructor_new (const GALGAS_ipic_31__38_BlockList & inOperand0 
                                                                              COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_clusterList_2E_element result ;
  if (inOperand0.isValid ()) {
    result = GALGAS_clusterList_2E_element (inOperand0) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

typeComparisonResult GALGAS_clusterList_2E_element::objectCompare (const GALGAS_clusterList_2E_element & inOperand) const {
   typeComparisonResult result = kOperandEqual ;
  if (result == kOperandEqual) {
    result = mAttribute_mBlockList.objectCompare (inOperand.mAttribute_mBlockList) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

bool GALGAS_clusterList_2E_element::isValid (void) const {
  return mAttribute_mBlockList.isValid () ;
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList_2E_element::drop (void) {
  mAttribute_mBlockList.drop () ;
}

//-----------------------------------------------------------------------------*

void GALGAS_clusterList_2E_element::description (C_String & ioString,
                                                 const int32_t inIndentation) const {
  ioString << "<struct @clusterList.element:" ;
  if (! isValid ()) {
    ioString << " not built" ;
  }else{
    mAttribute_mBlockList.description (ioString, inIndentation+1) ;
  }
  ioString << ">" ;
}

//-----------------------------------------------------------------------------*

GALGAS_ipic_31__38_BlockList GALGAS_clusterList_2E_element::reader_mBlockList (UNUSED_LOCATION_ARGS) const {
  return mAttribute_mBlockList ;
}



//-----------------------------------------------------------------------------*
//                                                                             *
//                          @clusterList.element type                          *
//                                                                             *
//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor
kTypeDescriptor_GALGAS_clusterList_2E_element ("clusterList.element",
                                               NULL) ;

//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor * GALGAS_clusterList_2E_element::staticTypeDescriptor (void) const {
  return & kTypeDescriptor_GALGAS_clusterList_2E_element ;
}

//-----------------------------------------------------------------------------*

AC_GALGAS_root * GALGAS_clusterList_2E_element::clonedObject (void) const {
  AC_GALGAS_root * result = NULL ;
  if (isValid ()) {
    macroMyNew (result, GALGAS_clusterList_2E_element (*this)) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_clusterList_2E_element GALGAS_clusterList_2E_element::extractObject (const GALGAS_object & inObject,
                                                                            C_Compiler * inCompiler
                                                                            COMMA_LOCATION_ARGS) {
  GALGAS_clusterList_2E_element result ;
  const GALGAS_clusterList_2E_element * p = (const GALGAS_clusterList_2E_element *) inObject.embeddedObject () ;
  if (NULL != p) {
    if (NULL != dynamic_cast <const GALGAS_clusterList_2E_element *> (p)) {
      result = *p ;
    }else{
      inCompiler->castError ("clusterList.element", p->dynamicTypeDescriptor () COMMA_THERE) ;
    }  
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element::GALGAS_neededConversionForClusterOrder_2E_element (void) :
mAttribute_lkey (),
mAttribute_mConversions () {
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element::~ GALGAS_neededConversionForClusterOrder_2E_element (void) {
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element::GALGAS_neededConversionForClusterOrder_2E_element (const GALGAS_lstring & inOperand0,
                                                                                                      const GALGAS_uint & inOperand1) :
mAttribute_lkey (inOperand0),
mAttribute_mConversions (inOperand1) {
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element GALGAS_neededConversionForClusterOrder_2E_element::constructor_default (UNUSED_LOCATION_ARGS) {
  return GALGAS_neededConversionForClusterOrder_2E_element (GALGAS_lstring::constructor_default (HERE),
                                                            GALGAS_uint::constructor_default (HERE)) ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element GALGAS_neededConversionForClusterOrder_2E_element::constructor_new (const GALGAS_lstring & inOperand0,
                                                                                                                      const GALGAS_uint & inOperand1 
                                                                                                                      COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_neededConversionForClusterOrder_2E_element result ;
  if (inOperand0.isValid () && inOperand1.isValid ()) {
    result = GALGAS_neededConversionForClusterOrder_2E_element (inOperand0, inOperand1) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

typeComparisonResult GALGAS_neededConversionForClusterOrder_2E_element::objectCompare (const GALGAS_neededConversionForClusterOrder_2E_element & inOperand) const {
   typeComparisonResult result = kOperandEqual ;
  if (result == kOperandEqual) {
    result = mAttribute_lkey.objectCompare (inOperand.mAttribute_lkey) ;
  }
  if (result == kOperandEqual) {
    result = mAttribute_mConversions.objectCompare (inOperand.mAttribute_mConversions) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

bool GALGAS_neededConversionForClusterOrder_2E_element::isValid (void) const {
  return mAttribute_lkey.isValid () && mAttribute_mConversions.isValid () ;
}

//-----------------------------------------------------------------------------*

void GALGAS_neededConversionForClusterOrder_2E_element::drop (void) {
  mAttribute_lkey.drop () ;
  mAttribute_mConversions.drop () ;
}

//-----------------------------------------------------------------------------*

void GALGAS_neededConversionForClusterOrder_2E_element::description (C_String & ioString,
                                                                     const int32_t inIndentation) const {
  ioString << "<struct @neededConversionForClusterOrder.element:" ;
  if (! isValid ()) {
    ioString << " not built" ;
  }else{
    mAttribute_lkey.description (ioString, inIndentation+1) ;
    ioString << ", " ;
    mAttribute_mConversions.description (ioString, inIndentation+1) ;
  }
  ioString << ">" ;
}

//-----------------------------------------------------------------------------*

GALGAS_lstring GALGAS_neededConversionForClusterOrder_2E_element::reader_lkey (UNUSED_LOCATION_ARGS) const {
  return mAttribute_lkey ;
}

//-----------------------------------------------------------------------------*

GALGAS_uint GALGAS_neededConversionForClusterOrder_2E_element::reader_mConversions (UNUSED_LOCATION_ARGS) const {
  return mAttribute_mConversions ;
}



//-----------------------------------------------------------------------------*
//                                                                             *
//                @neededConversionForClusterOrder.element type                *
//                                                                             *
//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor
kTypeDescriptor_GALGAS_neededConversionForClusterOrder_2E_element ("neededConversionForClusterOrder.element",
                                                                   NULL) ;

//-----------------------------------------------------------------------------*

const C_galgas_type_descriptor * GALGAS_neededConversionForClusterOrder_2E_element::staticTypeDescriptor (void) const {
  return & kTypeDescriptor_GALGAS_neededConversionForClusterOrder_2E_element ;
}

//-----------------------------------------------------------------------------*

AC_GALGAS_root * GALGAS_neededConversionForClusterOrder_2E_element::clonedObject (void) const {
  AC_GALGAS_root * result = NULL ;
  if (isValid ()) {
    macroMyNew (result, GALGAS_neededConversionForClusterOrder_2E_element (*this)) ;
  }
  return result ;
}

//-----------------------------------------------------------------------------*

GALGAS_neededConversionForClusterOrder_2E_element GALGAS_neededConversionForClusterOrder_2E_element::extractObject (const GALGAS_object & inObject,
                                                                                                                    C_Compiler * inCompiler
                                                                                                                    COMMA_LOCATION_ARGS) {
  GALGAS_neededConversionForClusterOrder_2E_element result ;
  const GALGAS_neededConversionForClusterOrder_2E_element * p = (const GALGAS_neededConversionForClusterOrder_2E_element *) inObject.embeddedObject () ;
  if (NULL != p) {
    if (NULL != dynamic_cast <const GALGAS_neededConversionForClusterOrder_2E_element *> (p)) {
      result = *p ;
    }else{
      inCompiler->castError ("neededConversionForClusterOrder.element", p->dynamicTypeDescriptor () COMMA_THERE) ;
    }  
  }
  return result ;
}

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


