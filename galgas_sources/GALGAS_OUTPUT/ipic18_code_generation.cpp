//---------------------------------------------------------------------------*
//                                                                           *
//                    File 'ipic18_code_generation.cpp'                      *
//                        Generated by version 2.5.4                         *
//                     january 30th, 2014, at 17h15'8"                       *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "ipic18_code_generation.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_io.h"
#include "galgas2/C_galgas_CLI_Options.h"
#include "utilities/C_PrologueEpilogue.h"

//-----------------------------------------------------------------------------*

#include "piccolo_options.h"

//-----------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "ipic18_code_generation.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//-----------------------------------------------------------------------------*
//                                                                             *
//                      Routine 'generateLineWithCode'                       *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_generateLineWithCode (const GALGAS_uint constinArgument0,
                                   const GALGAS_codeList constinArgument1,
                                   const GALGAS_stringlist constinArgument2,
                                   GALGAS_string & ioArgument3,
                                   C_Compiler * inCompiler
                                   COMMA_LOCATION_ARGS) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//                    Routine 'pic18GenerateAssemblyFile'                    *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_pic_31__38_GenerateAssemblyFile (const GALGAS_string constinArgument0,
                                              const GALGAS_string constinArgument1,
                                              const GALGAS_registerTable constinArgument2,
                                              const GALGAS_registerTable constinArgument3,
                                              const GALGAS_actualConfigurationMap constinArgument4,
                                              const GALGAS_string constinArgument5,
                                              C_Compiler * inCompiler
                                              COMMA_LOCATION_ARGS) ;

//-----------------------------------------------------------------------------*
//                                                                             *
//                      Routine 'generateLineWithCode'                       *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_generateLineWithCode (const GALGAS_uint constinArgument_inAddress,
                                   const GALGAS_codeList constinArgument_inCode,
                                   const GALGAS_stringlist constinArgument_inIpicText,
                                   GALGAS_string & ioArgument_ioListFileContents,
                                   C_Compiler * inCompiler
                                   COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_stringlist var_ipicText = constinArgument_inIpicText ;
  if (constinArgument_inCode.reader_length (SOURCE_FILE_AT_LINE (40)).add_operation (GALGAS_uint ((PMUInt32) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (40)).isValid ()) {
    PMUInt32 variant_1428 = constinArgument_inCode.reader_length (SOURCE_FILE_AT_LINE (40)).add_operation (GALGAS_uint ((PMUInt32) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (40)).uintValue () ;
    bool loop_1428 = true ;
    while (loop_1428) {
      loop_1428 = GALGAS_bool (kIsStrictInf, var_ipicText.reader_length (SOURCE_FILE_AT_LINE (41)).objectCompare (constinArgument_inCode.reader_length (SOURCE_FILE_AT_LINE (41)))).isValid () ;
      if (loop_1428) {
        loop_1428 = GALGAS_bool (kIsStrictInf, var_ipicText.reader_length (SOURCE_FILE_AT_LINE (41)).objectCompare (constinArgument_inCode.reader_length (SOURCE_FILE_AT_LINE (41)))).boolValue () ;
      }
      if (loop_1428 && (0 == variant_1428)) {
        loop_1428 = false ;
        inCompiler->loopRunTimeVariantError (SOURCE_FILE_AT_LINE (40)) ;
      }
      if (loop_1428) {
        variant_1428 -- ;
        var_ipicText.addAssign_operation (GALGAS_string::makeEmptyString () COMMA_SOURCE_FILE_AT_LINE (42)) ;
      }
    }
  }
  GALGAS_uint var_address = constinArgument_inAddress ;
  cEnumerator_stringlist enumerator_1587 (var_ipicText, kEnumeration_up) ;
  cEnumerator_codeList enumerator_1595 (constinArgument_inCode, kEnumeration_up) ;
  while (enumerator_1587.hasCurrentObject () && enumerator_1595.hasCurrentObject ()) {
    ioArgument_ioListFileContents.dotAssign_operation (categoryReader_x_36_string (var_address, inCompiler COMMA_SOURCE_FILE_AT_LINE (47)) COMMA_SOURCE_FILE_AT_LINE (47)) ;
    var_address = var_address.add_operation (GALGAS_uint ((PMUInt32) 2U).multiply_operation (enumerator_1595.current_mBinaryCode (HERE).reader_length (SOURCE_FILE_AT_LINE (48)), inCompiler COMMA_SOURCE_FILE_AT_LINE (48)), inCompiler COMMA_SOURCE_FILE_AT_LINE (48)) ;
    GALGAS_string var_s = GALGAS_string (" ") ;
    cEnumerator_uintlist enumerator_1744 (enumerator_1595.current_mBinaryCode (HERE), kEnumeration_up) ;
    while (enumerator_1744.hasCurrentObject ()) {
      var_s.dotAssign_operation (GALGAS_string (" ").operator_concat (categoryReader_x_34_string (enumerator_1744.current_mValue (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (51)) COMMA_SOURCE_FILE_AT_LINE (51)) COMMA_SOURCE_FILE_AT_LINE (51)) ;
      enumerator_1744.gotoNextObject () ;
    }
    ioArgument_ioListFileContents.dotAssign_operation (var_s.reader_stringByRightPadding (GALGAS_uint ((PMUInt32) 13U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE_AT_LINE (53)) COMMA_SOURCE_FILE_AT_LINE (53)) ;
    ioArgument_ioListFileContents.dotAssign_operation (enumerator_1595.current_mAssemblyCode (HERE).reader_stringByRightPadding (GALGAS_uint ((PMUInt32) 50U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE_AT_LINE (54)) COMMA_SOURCE_FILE_AT_LINE (54)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string (" ") COMMA_SOURCE_FILE_AT_LINE (55)) ;
    ioArgument_ioListFileContents.dotAssign_operation (enumerator_1587.current_mValue (HERE) COMMA_SOURCE_FILE_AT_LINE (56)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (57)) ;
    enumerator_1587.gotoNextObject () ;
    enumerator_1595.gotoNextObject () ;
  }
  cEnumerator_stringlist enumerator_2178 (var_ipicText.reader_subListFromIndex (constinArgument_inCode.reader_length (SOURCE_FILE_AT_LINE (61)), inCompiler COMMA_SOURCE_FILE_AT_LINE (61)), kEnumeration_up) ;
  while (enumerator_2178.hasCurrentObject ()) {
    ioArgument_ioListFileContents.dotAssign_operation (categoryReader_x_36_string (var_address, inCompiler COMMA_SOURCE_FILE_AT_LINE (62)) COMMA_SOURCE_FILE_AT_LINE (62)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string::makeEmptyString ().reader_stringByRightPadding (GALGAS_uint ((PMUInt32) 64U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE_AT_LINE (63)) COMMA_SOURCE_FILE_AT_LINE (63)) ;
    ioArgument_ioListFileContents.dotAssign_operation (enumerator_2178.current_mValue (HERE) COMMA_SOURCE_FILE_AT_LINE (64)) ;
    ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (65)) ;
    enumerator_2178.gotoNextObject () ;
  }
}


//-----------------------------------------------------------------------------*
//                                                                             *
//                       Routine 'ipic18GenerateCode'                        *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_ipic_31__38_GenerateCode (const GALGAS_string constinArgument_inSourceFileName,
                                       const GALGAS_programKind constinArgument_inProgramKind,
                                       const GALGAS_uint constinArgument_inBootloaderReservedROMsize,
                                       const GALGAS_uint constinArgument_inROMsize,
                                       const GALGAS_string constinArgument_inProcessorName,
                                       const GALGAS_registerTable constinArgument_inPredefinedRegisters,
                                       const GALGAS_registerTable constinArgument_inAllRegisters,
                                       const GALGAS_pic_31__38__5F_dataMap constinArgument_inDataMap,
                                       const GALGAS_actualConfigurationMap constinArgument_inActualConfigurationMap,
                                       GALGAS_string & ioArgument_ioListFileContents,
                                       const GALGAS_ipic_31__38_BlockList constinArgument_inGeneratedBlockList,
                                       GALGAS_uint & outArgument_outUsedROMsize,
                                       C_Compiler * inCompiler
                                       COMMA_UNUSED_LOCATION_ARGS) {
  outArgument_outUsedROMsize.drop () ; // Release 'out' argument
  ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string::makeEmptyString ().reader_stringByLeftAndRightPadding (GALGAS_uint ((PMUInt32) 79U), GALGAS_char (TO_UNICODE (42)) COMMA_SOURCE_FILE_AT_LINE (189)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (189)) COMMA_SOURCE_FILE_AT_LINE (189)) ;
  ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("*").operator_concat (GALGAS_string ("CODE GENERATION").reader_stringByLeftAndRightPadding (GALGAS_uint ((PMUInt32) 77U), GALGAS_char (TO_UNICODE (32)) COMMA_SOURCE_FILE_AT_LINE (190)) COMMA_SOURCE_FILE_AT_LINE (190)).operator_concat (GALGAS_string ("*\n") COMMA_SOURCE_FILE_AT_LINE (190)) COMMA_SOURCE_FILE_AT_LINE (190)) ;
  ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string::makeEmptyString ().reader_stringByLeftAndRightPadding (GALGAS_uint ((PMUInt32) 79U), GALGAS_char (TO_UNICODE (42)) COMMA_SOURCE_FILE_AT_LINE (191)).operator_concat (GALGAS_string ("\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (191)) COMMA_SOURCE_FILE_AT_LINE (191)) ;
  const enumGalgasBool test_0 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
  if (kBoolTrue == test_0) {
    inCompiler->printMessage (GALGAS_string ("Code generation:\n") COMMA_SOURCE_FILE_AT_LINE (193)) ;
  }
  GALGAS_symbolTableForRelativesResolution var_symbolTable ;
  GALGAS_uint var_firstDataAddress ;
  {
  routine_computeLabelAbsoluteAddressMap (constinArgument_inGeneratedBlockList, GALGAS_ipic_31__38_BlockList::constructor_emptyList (SOURCE_FILE_AT_LINE (198)), var_symbolTable, var_firstDataAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (196)) ;
  }
  GALGAS_uint var_dataAddress = var_firstDataAddress ;
  GALGAS_pic_31__38__5F_dataAddressMap var_dataAddressMap = GALGAS_pic_31__38__5F_dataAddressMap::constructor_emptyMap (SOURCE_FILE_AT_LINE (204)) ;
  cEnumerator_pic_31__38__5F_dataMap enumerator_7320 (constinArgument_inDataMap, kEnumeration_up) ;
  while (enumerator_7320.hasCurrentObject ()) {
    {
    var_dataAddressMap.modifier_insertKey (enumerator_7320.current_lkey (HERE), var_dataAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (206)) ;
    }
    var_dataAddress = var_dataAddress.add_operation (enumerator_7320.current_mData (HERE).reader_length (SOURCE_FILE_AT_LINE (207)).multiply_operation (GALGAS_uint ((PMUInt32) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (207)), inCompiler COMMA_SOURCE_FILE_AT_LINE (207)) ;
    enumerator_7320.gotoNextObject () ;
  }
  {
  routine_initCodeGenerator (inCompiler COMMA_SOURCE_FILE_AT_LINE (210)) ;
  }
  GALGAS_string var_assemblyString = GALGAS_string::makeEmptyString () ;
  GALGAS_uint var_relocatableCodeSize = GALGAS_uint ((PMUInt32) 0U) ;
  GALGAS_uint var_blockStartAddress = GALGAS_uint ((PMUInt32) 0U) ;
  cEnumerator_ipic_31__38_BlockList enumerator_7652 (constinArgument_inGeneratedBlockList, kEnumeration_up) ;
  GALGAS_uint index_7631 ((PMUInt32) 0) ;
  while (enumerator_7652.hasCurrentObject ()) {
    GALGAS_string var_nextBlockLabel ;
    const enumGalgasBool test_1 = GALGAS_bool (kIsStrictInf, index_7631.add_operation (GALGAS_uint ((PMUInt32) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (216)).objectCompare (constinArgument_inGeneratedBlockList.reader_length (SOURCE_FILE_AT_LINE (216)))).boolEnum () ;
    if (kBoolTrue == test_1) {
      var_nextBlockLabel = constinArgument_inGeneratedBlockList.reader_mBlockAtIndex (index_7631.add_operation (GALGAS_uint ((PMUInt32) 1U), inCompiler COMMA_SOURCE_FILE_AT_LINE (217)), inCompiler COMMA_SOURCE_FILE_AT_LINE (217)).mAttribute_mLabel.mAttribute_string ;
    }else if (kBoolFalse == test_1) {
      var_nextBlockLabel = GALGAS_string::makeEmptyString () ;
    }
    const enumGalgasBool test_2 = GALGAS_bool (kIsNotEqual, enumerator_7652.current_mBlock (HERE).mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (221)))).boolEnum () ;
    if (kBoolTrue == test_2) {
      var_blockStartAddress = enumerator_7652.current_mBlock (HERE).mAttribute_mAddress ;
      {
      routine_setEmitAddress (var_blockStartAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (223)) ;
      }
    }
    categoryMethod_generateCode (enumerator_7652.current_mBlock (HERE), var_symbolTable, var_dataAddressMap, var_blockStartAddress, var_nextBlockLabel, ioArgument_ioListFileContents, var_assemblyString, inCompiler COMMA_SOURCE_FILE_AT_LINE (225)) ;
    GALGAS_uint var_blockSize = categoryReader_blockSize (enumerator_7652.current_mBlock (HERE), var_nextBlockLabel, inCompiler COMMA_SOURCE_FILE_AT_LINE (226)) ;
    var_blockStartAddress = var_blockStartAddress.add_operation (var_blockSize, inCompiler COMMA_SOURCE_FILE_AT_LINE (227)) ;
    const enumGalgasBool test_3 = GALGAS_bool (kIsEqual, enumerator_7652.current_mBlock (HERE).mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (228)))).boolEnum () ;
    if (kBoolTrue == test_3) {
      var_relocatableCodeSize = var_relocatableCodeSize.add_operation (var_blockSize, inCompiler COMMA_SOURCE_FILE_AT_LINE (229)) ;
    }
    enumerator_7652.gotoNextObject () ;
    index_7631.increment_operation (inCompiler COMMA_SOURCE_FILE_AT_LINE (214)) ;
  }
  var_dataAddress = var_firstDataAddress ;
  cEnumerator_pic_31__38__5F_dataMap enumerator_8521 (constinArgument_inDataMap, kEnumeration_up) ;
  const bool bool_4 = true ;
  if (enumerator_8521.hasCurrentObject () && bool_4) {
    {
    routine_setEmitAddress (var_dataAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (236)) ;
    }
    {
    routine_generateLineWithCode (var_dataAddress, GALGAS_codeList::constructor_listWithValue (GALGAS_string ("    ORG ").operator_concat (var_dataAddress.reader_hexString (SOURCE_FILE_AT_LINE (239)) COMMA_SOURCE_FILE_AT_LINE (239)), GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (239)) COMMA_SOURCE_FILE_AT_LINE (239)), GALGAS_stringlist::constructor_listWithValue (GALGAS_string ("    ORG ").operator_concat (var_dataAddress.reader_hexString (SOURCE_FILE_AT_LINE (240)) COMMA_SOURCE_FILE_AT_LINE (240)) COMMA_SOURCE_FILE_AT_LINE (240)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (237)) ;
    }
    var_assemblyString.dotAssign_operation (GALGAS_string ("    ORG ").operator_concat (var_dataAddress.reader_hexString (SOURCE_FILE_AT_LINE (243)) COMMA_SOURCE_FILE_AT_LINE (243)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (243)) COMMA_SOURCE_FILE_AT_LINE (243)) ;
    while (enumerator_8521.hasCurrentObject () && bool_4) {
      {
      routine_generateLineWithCode (var_dataAddress, GALGAS_codeList::constructor_listWithValue (GALGAS_string ("_data_").operator_concat (enumerator_8521.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (247)) COMMA_SOURCE_FILE_AT_LINE (247)).operator_concat (GALGAS_string (":") COMMA_SOURCE_FILE_AT_LINE (247)), GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (247)) COMMA_SOURCE_FILE_AT_LINE (247)), GALGAS_stringlist::constructor_listWithValue (GALGAS_string ("_data_").operator_concat (enumerator_8521.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (248)) COMMA_SOURCE_FILE_AT_LINE (248)).operator_concat (GALGAS_string (":") COMMA_SOURCE_FILE_AT_LINE (248)) COMMA_SOURCE_FILE_AT_LINE (248)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (245)) ;
      }
      var_assemblyString.dotAssign_operation (GALGAS_string ("_data_").operator_concat (enumerator_8521.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (251)) COMMA_SOURCE_FILE_AT_LINE (251)).operator_concat (GALGAS_string (":\n") COMMA_SOURCE_FILE_AT_LINE (251)) COMMA_SOURCE_FILE_AT_LINE (251)) ;
      cEnumerator_uintlist enumerator_9161 (enumerator_8521.current_mData (HERE), kEnumeration_up) ;
      while (enumerator_9161.hasCurrentObject ()) {
        var_assemblyString.dotAssign_operation (GALGAS_string ("    DW ").operator_concat (enumerator_9161.current_mValue (HERE).reader_hexString (SOURCE_FILE_AT_LINE (253)) COMMA_SOURCE_FILE_AT_LINE (253)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (253)) COMMA_SOURCE_FILE_AT_LINE (253)) ;
        {
        routine_emitCode (enumerator_9161.current_mValue (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (254)) ;
        }
        {
        routine_generateLineWithCode (var_dataAddress, GALGAS_codeList::constructor_listWithValue (GALGAS_string ("    DW ").operator_concat (enumerator_9161.current_mValue (HERE).reader_hexString (SOURCE_FILE_AT_LINE (257)) COMMA_SOURCE_FILE_AT_LINE (257)), GALGAS_uintlist::constructor_listWithValue (enumerator_9161.current_mValue (HERE) COMMA_SOURCE_FILE_AT_LINE (257)) COMMA_SOURCE_FILE_AT_LINE (257)), GALGAS_stringlist::constructor_listWithValue (GALGAS_string ("    DW ").operator_concat (enumerator_9161.current_mValue (HERE).reader_hexString (SOURCE_FILE_AT_LINE (258)) COMMA_SOURCE_FILE_AT_LINE (258)) COMMA_SOURCE_FILE_AT_LINE (258)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (255)) ;
        }
        var_dataAddress = var_dataAddress.add_operation (GALGAS_uint ((PMUInt32) 2U), inCompiler COMMA_SOURCE_FILE_AT_LINE (261)) ;
        enumerator_9161.gotoNextObject () ;
      }
      ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (263)) ;
      enumerator_8521.gotoNextObject () ;
    }
  }
  const enumGalgasBool test_5 = GALGAS_bool (gOption_galgas_5F_builtin_5F_options_verbose_5F_output.reader_value ()).boolEnum () ;
  if (kBoolTrue == test_5) {
    inCompiler->printMessage (GALGAS_string ("  Relocatable code size: ").operator_concat (var_relocatableCodeSize.reader_string (SOURCE_FILE_AT_LINE (266)) COMMA_SOURCE_FILE_AT_LINE (266)).operator_concat (GALGAS_string (" bytes.\n"
      "\n") COMMA_SOURCE_FILE_AT_LINE (266)) COMMA_SOURCE_FILE_AT_LINE (266)) ;
  }
  outArgument_outUsedROMsize = var_dataAddress ;
  if (constinArgument_inProgramKind.isValid ()) {
    switch (constinArgument_inProgramKind.enumValue ()) {
    case GALGAS_programKind::kNotBuilt:
      break ;
    case GALGAS_programKind::kEnum_regularProgram: case GALGAS_programKind::kEnum_userProgram: {
      const enumGalgasBool test_6 = GALGAS_bool (kIsStrictSup, outArgument_outUsedROMsize.objectCompare (constinArgument_inROMsize)).boolEnum () ;
      if (kBoolTrue == test_6) {
        inCompiler->emitSemanticError (inCompiler->here (), GALGAS_string ("the program uses ").operator_concat (outArgument_outUsedROMsize.reader_string (SOURCE_FILE_AT_LINE (274)) COMMA_SOURCE_FILE_AT_LINE (274)).operator_concat (GALGAS_string (" bytes, greater than reserved size (") COMMA_SOURCE_FILE_AT_LINE (274)).operator_concat (constinArgument_inROMsize.reader_string (SOURCE_FILE_AT_LINE (274)) COMMA_SOURCE_FILE_AT_LINE (274)).operator_concat (GALGAS_string (" bytes)") COMMA_SOURCE_FILE_AT_LINE (274)) COMMA_SOURCE_FILE_AT_LINE (274)) ;
      }
      } break ;
    case GALGAS_programKind::kEnum_bootloaderProgram: {
      const enumGalgasBool test_7 = GALGAS_bool (kIsStrictSup, outArgument_outUsedROMsize.objectCompare (constinArgument_inBootloaderReservedROMsize)).boolEnum () ;
      if (kBoolTrue == test_7) {
        inCompiler->emitSemanticError (inCompiler->here (), GALGAS_string ("the bootloader uses ").operator_concat (outArgument_outUsedROMsize.reader_string (SOURCE_FILE_AT_LINE (278)) COMMA_SOURCE_FILE_AT_LINE (278)).operator_concat (GALGAS_string (" bytes, greater than reserved size (") COMMA_SOURCE_FILE_AT_LINE (278)).operator_concat (constinArgument_inBootloaderReservedROMsize.reader_string (SOURCE_FILE_AT_LINE (278)) COMMA_SOURCE_FILE_AT_LINE (278)).operator_concat (GALGAS_string (" bytes)") COMMA_SOURCE_FILE_AT_LINE (278)) COMMA_SOURCE_FILE_AT_LINE (278)) ;
      }
      } break ;
    }
  }
  cEnumerator_actualConfigurationMap enumerator_10469 (constinArgument_inActualConfigurationMap, kEnumeration_up) ;
  while (enumerator_10469.hasCurrentObject ()) {
    {
    routine_setEmitAddress (enumerator_10469.current_mRegisterAddress (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (284)) ;
    }
    {
    routine_emitByte (enumerator_10469.current_mRegisterValue (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (285)) ;
    }
    enumerator_10469.gotoNextObject () ;
  }
  GALGAS_string var_contents ;
  {
  routine_getGeneratedContents (var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (288)) ;
  }
  GALGAS_string var_destinationFile = constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (289)).operator_concat (GALGAS_string (".hex") COMMA_SOURCE_FILE_AT_LINE (289)) ;
  GALGAS_bool joker_10774_0 ; // Joker input parameter
  var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_10774_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (290)) ;
  const enumGalgasBool test_8 = GALGAS_bool (gOption_piccolo_5F_options_output_5F_C_5F_Array.reader_value ()).boolEnum () ;
  if (kBoolTrue == test_8) {
    GALGAS_string var_baseName = constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (293)).reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (293)) ;
    GALGAS_string var_cContents ;
    {
    routine_get_5F_C_5F_ArrayImplementation (var_baseName, var_cContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (294)) ;
    }
    var_destinationFile = constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (295)).operator_concat (GALGAS_string (".c") COMMA_SOURCE_FILE_AT_LINE (295)) ;
    GALGAS_bool joker_11180_0 ; // Joker input parameter
    var_cContents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_11180_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (296)) ;
    GALGAS_string var_hContents ;
    {
    routine_get_5F_C_5F_ArrayHeader (var_baseName, var_hContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (297)) ;
    }
    var_destinationFile = constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (298)).operator_concat (GALGAS_string (".h") COMMA_SOURCE_FILE_AT_LINE (298)) ;
    GALGAS_bool joker_11386_0 ; // Joker input parameter
    var_hContents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_11386_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (299)) ;
  }
  const enumGalgasBool test_9 = GALGAS_bool (gOption_piccolo_5F_options_generateAssembly.reader_value ()).operator_and (GALGAS_bool (kIsEqual, GALGAS_uint::constructor_errorCount (SOURCE_FILE_AT_LINE (302)).objectCompare (GALGAS_uint ((PMUInt32) 0U))) COMMA_SOURCE_FILE_AT_LINE (302)).boolEnum () ;
  if (kBoolTrue == test_9) {
    {
    routine_pic_31__38_GenerateAssemblyFile (constinArgument_inSourceFileName, constinArgument_inProcessorName, constinArgument_inPredefinedRegisters, constinArgument_inAllRegisters, constinArgument_inActualConfigurationMap, var_assemblyString, inCompiler COMMA_SOURCE_FILE_AT_LINE (303)) ;
    }
  }
}


//-----------------------------------------------------------------------------*
//                                                                             *
//                    Routine 'pic18GenerateAssemblyFile'                    *
//                                                                             *
//-----------------------------------------------------------------------------*

void routine_pic_31__38_GenerateAssemblyFile (const GALGAS_string constinArgument_inSourceFileName,
                                              const GALGAS_string constinArgument_inProcessorName,
                                              const GALGAS_registerTable constinArgument_inPredefinedRegisters,
                                              const GALGAS_registerTable constinArgument_inAllRegisters,
                                              const GALGAS_actualConfigurationMap constinArgument_inActualConfigurationMap,
                                              const GALGAS_string constinArgument_inAssemblyCode,
                                              C_Compiler * inCompiler
                                              COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_string var_assemblyString = GALGAS_string ("  PROCESSOR ").operator_concat (constinArgument_inProcessorName COMMA_SOURCE_FILE_AT_LINE (328)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (328)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string (";--- Code\n") COMMA_SOURCE_FILE_AT_LINE (330)) ;
  var_assemblyString.dotAssign_operation (constinArgument_inAssemblyCode COMMA_SOURCE_FILE_AT_LINE (331)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string (";--- Prefefined registers\n") COMMA_SOURCE_FILE_AT_LINE (333)) ;
  cEnumerator_registerTable enumerator_12668 (constinArgument_inPredefinedRegisters, kEnumeration_up) ;
  while (enumerator_12668.hasCurrentObject ()) {
    GALGAS_uint var_firstRegister ;
    enumerator_12668.current_mRegisterAddressList (HERE).method_first (var_firstRegister, inCompiler COMMA_SOURCE_FILE_AT_LINE (335)) ;
    var_assemblyString.dotAssign_operation (enumerator_12668.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (336)).operator_concat (GALGAS_string (" EQU ") COMMA_SOURCE_FILE_AT_LINE (336)).operator_concat (var_firstRegister.reader_hexString (SOURCE_FILE_AT_LINE (336)) COMMA_SOURCE_FILE_AT_LINE (336)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (336)) COMMA_SOURCE_FILE_AT_LINE (336)) ;
    enumerator_12668.gotoNextObject () ;
  }
  var_assemblyString.dotAssign_operation (GALGAS_string ("\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (338)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string (";--- User defined registers (in RAM)\n") COMMA_SOURCE_FILE_AT_LINE (340)) ;
  cEnumerator_registerTable enumerator_12979 (constinArgument_inAllRegisters, kEnumeration_up) ;
  while (enumerator_12979.hasCurrentObject ()) {
    const enumGalgasBool test_0 = constinArgument_inPredefinedRegisters.reader_hasKey (enumerator_12979.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (342)) COMMA_SOURCE_FILE_AT_LINE (342)).operator_not (SOURCE_FILE_AT_LINE (342)).boolEnum () ;
    if (kBoolTrue == test_0) {
      GALGAS_uint var_firstRegister ;
      enumerator_12979.current_mRegisterAddressList (HERE).method_first (var_firstRegister, inCompiler COMMA_SOURCE_FILE_AT_LINE (343)) ;
      var_assemblyString.dotAssign_operation (enumerator_12979.current_lkey (HERE).reader_string (SOURCE_FILE_AT_LINE (344)).operator_concat (GALGAS_string (" EQU ") COMMA_SOURCE_FILE_AT_LINE (344)).operator_concat (var_firstRegister.reader_hexString (SOURCE_FILE_AT_LINE (344)) COMMA_SOURCE_FILE_AT_LINE (344)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (344)) COMMA_SOURCE_FILE_AT_LINE (344)) ;
    }
    enumerator_12979.gotoNextObject () ;
  }
  var_assemblyString.dotAssign_operation (GALGAS_string ("\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (347)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string (";--- Piccolo defined symbols\n") COMMA_SOURCE_FILE_AT_LINE (349)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string ("W EQU 1\n") COMMA_SOURCE_FILE_AT_LINE (350)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string ("FAST EQU 1\n") COMMA_SOURCE_FILE_AT_LINE (351)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string ("BSR_ACCESS EQU 1\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (352)) ;
  const enumGalgasBool test_1 = GALGAS_bool (kIsStrictSup, constinArgument_inActualConfigurationMap.reader_count (SOURCE_FILE_AT_LINE (354)).objectCompare (GALGAS_uint ((PMUInt32) 0U))).boolEnum () ;
  if (kBoolTrue == test_1) {
    var_assemblyString.dotAssign_operation (GALGAS_string (";--- Configuration\n"
      "\n") COMMA_SOURCE_FILE_AT_LINE (355)) ;
    cEnumerator_actualConfigurationMap enumerator_13631 (constinArgument_inActualConfigurationMap, kEnumeration_up) ;
    while (enumerator_13631.hasCurrentObject ()) {
      var_assemblyString.dotAssign_operation (GALGAS_string ("  __config ").operator_concat (enumerator_13631.current_mRegisterAddress (HERE).reader_hexString (SOURCE_FILE_AT_LINE (357)) COMMA_SOURCE_FILE_AT_LINE (357)).operator_concat (GALGAS_string (", ") COMMA_SOURCE_FILE_AT_LINE (357)).operator_concat (enumerator_13631.current_mRegisterValue (HERE).operator_and (GALGAS_uint ((PMUInt32) 255U) COMMA_SOURCE_FILE_AT_LINE (357)).reader_hexString (SOURCE_FILE_AT_LINE (357)) COMMA_SOURCE_FILE_AT_LINE (357)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (357)) COMMA_SOURCE_FILE_AT_LINE (357)) ;
      enumerator_13631.gotoNextObject () ;
    }
  }
  var_assemblyString.dotAssign_operation (GALGAS_string (";---\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (361)) ;
  var_assemblyString.dotAssign_operation (GALGAS_string ("  END\n"
    "\n") COMMA_SOURCE_FILE_AT_LINE (362)) ;
  GALGAS_string var_asmDestinationFile = constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (364)).operator_concat (GALGAS_string (".asm") COMMA_SOURCE_FILE_AT_LINE (364)) ;
  GALGAS_bool joker_14106_0 ; // Joker input parameter
  var_assemblyString.method_writeToFileWhenDifferentContents (var_asmDestinationFile, joker_14106_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (365)) ;
}


//---------------------------------------------------------------------------*
//                                                                           *
//                     Category Reader '@uint x4string'                      *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string categoryReader_x_34_string (const GALGAS_uint & inObject,
                                          C_Compiler * inCompiler
                                          COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_string result_outResult ; // Returned variable
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_0 = inObject ;
  result_outResult = temp_0.divide_operation (GALGAS_uint ((PMUInt32) 4096U), inCompiler COMMA_SOURCE_FILE_AT_LINE (13)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (13)).reader_xString (SOURCE_FILE_AT_LINE (13)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_1 = inObject ;
  result_outResult.dotAssign_operation (temp_1.divide_operation (GALGAS_uint ((PMUInt32) 256U), inCompiler COMMA_SOURCE_FILE_AT_LINE (14)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (14)).reader_xString (SOURCE_FILE_AT_LINE (14)) COMMA_SOURCE_FILE_AT_LINE (14)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_2 = inObject ;
  result_outResult.dotAssign_operation (temp_2.divide_operation (GALGAS_uint ((PMUInt32) 16U), inCompiler COMMA_SOURCE_FILE_AT_LINE (15)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (15)).reader_xString (SOURCE_FILE_AT_LINE (15)) COMMA_SOURCE_FILE_AT_LINE (15)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_3 = inObject ;
  result_outResult.dotAssign_operation (temp_3.operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (16)).reader_xString (SOURCE_FILE_AT_LINE (16)) COMMA_SOURCE_FILE_AT_LINE (16)) ;
//---
  return result_outResult ;
}




//---------------------------------------------------------------------------*
//                                                                           *
//                     Category Reader '@uint x6string'                      *
//                                                                           *
//---------------------------------------------------------------------------*

GALGAS_string categoryReader_x_36_string (const GALGAS_uint & inObject,
                                          C_Compiler * inCompiler
                                          COMMA_UNUSED_LOCATION_ARGS) {
  GALGAS_string result_outResult ; // Returned variable
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_0 = inObject ;
  result_outResult = temp_0.divide_operation (GALGAS_uint ((PMUInt32) 1048576U), inCompiler COMMA_SOURCE_FILE_AT_LINE (22)).reader_xString (SOURCE_FILE_AT_LINE (22)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_1 = inObject ;
  result_outResult = temp_1.divide_operation (GALGAS_uint ((PMUInt32) 65536U), inCompiler COMMA_SOURCE_FILE_AT_LINE (23)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (23)).reader_xString (SOURCE_FILE_AT_LINE (23)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_2 = inObject ;
  result_outResult.dotAssign_operation (temp_2.divide_operation (GALGAS_uint ((PMUInt32) 4096U), inCompiler COMMA_SOURCE_FILE_AT_LINE (24)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (24)).reader_xString (SOURCE_FILE_AT_LINE (24)) COMMA_SOURCE_FILE_AT_LINE (24)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_3 = inObject ;
  result_outResult.dotAssign_operation (temp_3.divide_operation (GALGAS_uint ((PMUInt32) 256U), inCompiler COMMA_SOURCE_FILE_AT_LINE (25)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (25)).reader_xString (SOURCE_FILE_AT_LINE (25)) COMMA_SOURCE_FILE_AT_LINE (25)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_4 = inObject ;
  result_outResult.dotAssign_operation (temp_4.divide_operation (GALGAS_uint ((PMUInt32) 16U), inCompiler COMMA_SOURCE_FILE_AT_LINE (26)).operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (26)).reader_xString (SOURCE_FILE_AT_LINE (26)) COMMA_SOURCE_FILE_AT_LINE (26)) ;
  //--- @selfCopyInExpressionForGeneration
  const GALGAS_uint temp_5 = inObject ;
  result_outResult.dotAssign_operation (temp_5.operator_and (GALGAS_uint ((PMUInt32) 15U) COMMA_SOURCE_FILE_AT_LINE (27)).reader_xString (SOURCE_FILE_AT_LINE (27)) COMMA_SOURCE_FILE_AT_LINE (27)) ;
//---
  return result_outResult ;
}




//---------------------------------------------------------------------------*
//                                                                           *
//                Category method '@ipic18Block generateCode'                *
//                                                                           *
//---------------------------------------------------------------------------*

void categoryMethod_generateCode (const GALGAS_ipic_31__38_Block inObject,
                                  const GALGAS_symbolTableForRelativesResolution constinArgument_inSymbolTable,
                                  const GALGAS_pic_31__38__5F_dataAddressMap constinArgument_inDataMap,
                                  const GALGAS_uint constinArgument_inBlockAddress,
                                  const GALGAS_string constinArgument_inNextBlockLabel,
                                  GALGAS_string & ioArgument_ioListFileContents,
                                  GALGAS_string & ioArgument_ioAssemblyString,
                                  C_Compiler * inCompiler
                                  COMMA_UNUSED_LOCATION_ARGS) {
  ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("Addr.  Code       Assembly                                           Intermediate Representation\n") COMMA_SOURCE_FILE_AT_LINE (79)) ;
  const enumGalgasBool test_0 = GALGAS_bool (kIsEqual, inObject.mAttribute_mAddress.objectCompare (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (80)))).boolEnum () ;
  if (kBoolTrue == test_0) {
    {
    routine_generateLineWithCode (constinArgument_inBlockAddress, GALGAS_codeList::constructor_listWithValue (inObject.mAttribute_mLabel.mAttribute_string.operator_concat (GALGAS_string (":") COMMA_SOURCE_FILE_AT_LINE (83)), GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (83)) COMMA_SOURCE_FILE_AT_LINE (83)), GALGAS_stringlist::constructor_listWithValue (GALGAS_string ("LABEL ").operator_concat (inObject.mAttribute_mLabel.reader_string (SOURCE_FILE_AT_LINE (84)) COMMA_SOURCE_FILE_AT_LINE (84)) COMMA_SOURCE_FILE_AT_LINE (84)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (81)) ;
    }
    ioArgument_ioAssemblyString.dotAssign_operation (inObject.mAttribute_mLabel.mAttribute_string.operator_concat (GALGAS_string (":\n") COMMA_SOURCE_FILE_AT_LINE (87)) COMMA_SOURCE_FILE_AT_LINE (87)) ;
  }else if (kBoolFalse == test_0) {
    GALGAS_codeList var_cd = GALGAS_codeList::constructor_emptyList (SOURCE_FILE_AT_LINE (89)) ;
    var_cd.addAssign_operation (GALGAS_string ("ORG ").operator_concat (constinArgument_inBlockAddress.reader_hexString (SOURCE_FILE_AT_LINE (90)) COMMA_SOURCE_FILE_AT_LINE (90)), GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (90)) COMMA_SOURCE_FILE_AT_LINE (90)) ;
    var_cd.addAssign_operation (inObject.mAttribute_mLabel.mAttribute_string.operator_concat (GALGAS_string (":") COMMA_SOURCE_FILE_AT_LINE (91)), GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (91)) COMMA_SOURCE_FILE_AT_LINE (91)) ;
    {
    routine_generateLineWithCode (constinArgument_inBlockAddress, var_cd, GALGAS_stringlist::constructor_listWithValue (GALGAS_string ("LABEL ").operator_concat (inObject.mAttribute_mLabel.reader_string (SOURCE_FILE_AT_LINE (95)) COMMA_SOURCE_FILE_AT_LINE (95)).operator_concat (GALGAS_string (", ORG ") COMMA_SOURCE_FILE_AT_LINE (95)).operator_concat (constinArgument_inBlockAddress.reader_hexString (SOURCE_FILE_AT_LINE (95)) COMMA_SOURCE_FILE_AT_LINE (95)) COMMA_SOURCE_FILE_AT_LINE (95)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (92)) ;
    }
    ioArgument_ioAssemblyString.dotAssign_operation (GALGAS_string ("    ORG ").operator_concat (constinArgument_inBlockAddress.reader_hexString (SOURCE_FILE_AT_LINE (98)) COMMA_SOURCE_FILE_AT_LINE (98)).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (98)) COMMA_SOURCE_FILE_AT_LINE (98)) ;
    ioArgument_ioAssemblyString.dotAssign_operation (inObject.mAttribute_mLabel.mAttribute_string.operator_concat (GALGAS_string (":\n") COMMA_SOURCE_FILE_AT_LINE (99)) COMMA_SOURCE_FILE_AT_LINE (99)) ;
  }
  GALGAS_uint var_address = constinArgument_inBlockAddress ;
  cEnumerator_ipic_31__38_SequentialInstructionList enumerator_3728 (inObject.mAttribute_mInstructionList, kEnumeration_up) ;
  while (enumerator_3728.hasCurrentObject ()) {
    GALGAS_codeList var_code ;
    callCategoryMethod_generateCode ((const cPtr_ipic_31__38_SequentialInstruction *) enumerator_3728.current_mInstruction (HERE).ptr (), var_address, constinArgument_inSymbolTable, constinArgument_inDataMap, var_code, inCompiler COMMA_SOURCE_FILE_AT_LINE (104)) ;
    {
    routine_generateLineWithCode (var_address, var_code, callCategoryReader_instructionDisplay ((const cPtr_ipic_31__38_SequentialInstruction *) enumerator_3728.current_mInstruction (HERE).ptr (), inCompiler COMMA_SOURCE_FILE_AT_LINE (113)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (110)) ;
    }
    cEnumerator_codeList enumerator_3989 (var_code, kEnumeration_up) ;
    while (enumerator_3989.hasCurrentObject ()) {
      cEnumerator_uintlist enumerator_4018 (enumerator_3989.current_mBinaryCode (HERE), kEnumeration_up) ;
      while (enumerator_4018.hasCurrentObject ()) {
        {
        routine_emitCode (enumerator_4018.current_mValue (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (118)) ;
        }
        enumerator_4018.gotoNextObject () ;
      }
      ioArgument_ioAssemblyString.dotAssign_operation (enumerator_3989.current_mAssemblyCode (HERE).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (120)) COMMA_SOURCE_FILE_AT_LINE (120)) ;
      enumerator_3989.gotoNextObject () ;
    }
    var_address = var_address.add_operation (callCategoryReader_instructionSize ((const cPtr_ipic_31__38_SequentialInstruction *) enumerator_3728.current_mInstruction (HERE).ptr (), inCompiler COMMA_SOURCE_FILE_AT_LINE (122)), inCompiler COMMA_SOURCE_FILE_AT_LINE (122)) ;
    GALGAS_uint var_generatedCodeSize = GALGAS_uint ((PMUInt32) 0U) ;
    cEnumerator_codeList enumerator_4307 (var_code, kEnumeration_up) ;
    while (enumerator_4307.hasCurrentObject ()) {
      var_generatedCodeSize = var_generatedCodeSize.add_operation (GALGAS_uint ((PMUInt32) 2U).multiply_operation (enumerator_4307.current_mBinaryCode (HERE).reader_length (SOURCE_FILE_AT_LINE (126)), inCompiler COMMA_SOURCE_FILE_AT_LINE (126)), inCompiler COMMA_SOURCE_FILE_AT_LINE (126)) ;
      enumerator_4307.gotoNextObject () ;
    }
    const enumGalgasBool test_1 = GALGAS_bool (kIsNotEqual, var_generatedCodeSize.objectCompare (callCategoryReader_instructionSize ((const cPtr_ipic_31__38_SequentialInstruction *) enumerator_3728.current_mInstruction (HERE).ptr (), inCompiler COMMA_SOURCE_FILE_AT_LINE (128)))).boolEnum () ;
    if (kBoolTrue == test_1) {
      GALGAS_string var_s = GALGAS_string ("*** INTERNAL ERROR ** generated code size (").operator_concat (var_generatedCodeSize.reader_string (SOURCE_FILE_AT_LINE (129)) COMMA_SOURCE_FILE_AT_LINE (129)).operator_concat (GALGAS_string (") != instruction size (") COMMA_SOURCE_FILE_AT_LINE (130)).operator_concat (callCategoryReader_instructionSize ((const cPtr_ipic_31__38_SequentialInstruction *) enumerator_3728.current_mInstruction (HERE).ptr (), inCompiler COMMA_SOURCE_FILE_AT_LINE (130)).reader_string (SOURCE_FILE_AT_LINE (130)) COMMA_SOURCE_FILE_AT_LINE (130)).operator_concat (GALGAS_string (")") COMMA_SOURCE_FILE_AT_LINE (130)) ;
      inCompiler->emitSemanticError (GALGAS_location::constructor_nowhere (SOURCE_FILE_AT_LINE (131)), var_s COMMA_SOURCE_FILE_AT_LINE (131)) ;
      ioArgument_ioListFileContents.dotAssign_operation (var_s.operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (132)) COMMA_SOURCE_FILE_AT_LINE (132)) ;
    }
    enumerator_3728.gotoNextObject () ;
  }
  GALGAS_codeList var_code ;
  callCategoryMethod_generateCode ((const cPtr_ipic_31__38_AbstractBlockTerminator *) inObject.mAttribute_mTerminator.ptr (), var_address, constinArgument_inSymbolTable, constinArgument_inNextBlockLabel, var_code, inCompiler COMMA_SOURCE_FILE_AT_LINE (136)) ;
  {
  routine_generateLineWithCode (var_address, var_code, GALGAS_stringlist::constructor_listWithValue (callCategoryReader_terminatorDisplay ((const cPtr_ipic_31__38_AbstractBlockTerminator *) inObject.mAttribute_mTerminator.ptr (), constinArgument_inNextBlockLabel, inCompiler COMMA_SOURCE_FILE_AT_LINE (145)) COMMA_SOURCE_FILE_AT_LINE (145)), ioArgument_ioListFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (142)) ;
  }
  cEnumerator_codeList enumerator_5046 (var_code, kEnumeration_up) ;
  while (enumerator_5046.hasCurrentObject ()) {
    cEnumerator_uintlist enumerator_5073 (enumerator_5046.current_mBinaryCode (HERE), kEnumeration_up) ;
    while (enumerator_5073.hasCurrentObject ()) {
      {
      routine_emitCode (enumerator_5073.current_mValue (HERE), inCompiler COMMA_SOURCE_FILE_AT_LINE (150)) ;
      }
      enumerator_5073.gotoNextObject () ;
    }
    ioArgument_ioAssemblyString.dotAssign_operation (enumerator_5046.current_mAssemblyCode (HERE).operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (152)) COMMA_SOURCE_FILE_AT_LINE (152)) ;
    enumerator_5046.gotoNextObject () ;
  }
  GALGAS_uint var_generatedCodeSize = GALGAS_uint ((PMUInt32) 0U) ;
  cEnumerator_codeList enumerator_5295 (var_code, kEnumeration_up) ;
  while (enumerator_5295.hasCurrentObject ()) {
    var_generatedCodeSize = var_generatedCodeSize.add_operation (GALGAS_uint ((PMUInt32) 2U).multiply_operation (enumerator_5295.current_mBinaryCode (HERE).reader_length (SOURCE_FILE_AT_LINE (157)), inCompiler COMMA_SOURCE_FILE_AT_LINE (157)), inCompiler COMMA_SOURCE_FILE_AT_LINE (157)) ;
    enumerator_5295.gotoNextObject () ;
  }
  const enumGalgasBool test_2 = GALGAS_bool (kIsNotEqual, var_generatedCodeSize.objectCompare (callCategoryReader_terminatorSize ((const cPtr_ipic_31__38_AbstractBlockTerminator *) inObject.mAttribute_mTerminator.ptr (), constinArgument_inNextBlockLabel, inCompiler COMMA_SOURCE_FILE_AT_LINE (159)))).boolEnum () ;
  if (kBoolTrue == test_2) {
    GALGAS_string var_s = GALGAS_string ("*** INTERNAL ERROR ** generated code size (").operator_concat (var_generatedCodeSize.reader_string (SOURCE_FILE_AT_LINE (160)) COMMA_SOURCE_FILE_AT_LINE (160)).operator_concat (GALGAS_string (") != instruction size (") COMMA_SOURCE_FILE_AT_LINE (161)).operator_concat (callCategoryReader_terminatorSize ((const cPtr_ipic_31__38_AbstractBlockTerminator *) inObject.mAttribute_mTerminator.ptr (), constinArgument_inNextBlockLabel, inCompiler COMMA_SOURCE_FILE_AT_LINE (161)).reader_string (SOURCE_FILE_AT_LINE (161)) COMMA_SOURCE_FILE_AT_LINE (161)).operator_concat (GALGAS_string (")") COMMA_SOURCE_FILE_AT_LINE (161)) ;
    inCompiler->emitSemanticError (GALGAS_location::constructor_nowhere (SOURCE_FILE_AT_LINE (162)), var_s COMMA_SOURCE_FILE_AT_LINE (162)) ;
    ioArgument_ioListFileContents.dotAssign_operation (var_s.operator_concat (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (163)) COMMA_SOURCE_FILE_AT_LINE (163)) ;
  }
  ioArgument_ioListFileContents.dotAssign_operation (GALGAS_string ("\n") COMMA_SOURCE_FILE_AT_LINE (166)) ;
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


