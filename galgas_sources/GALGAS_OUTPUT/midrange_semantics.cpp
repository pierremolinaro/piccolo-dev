//---------------------------------------------------------------------------*
//                                                                           *
//                      File 'midrange_semantics.cpp'                        *
//                 Generated by version GALGAS_BETA_VERSION                  *
//                     october 28th, 2010, at 22h16'37"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "midrange_semantics.h"
#include "galgas2/C_Compiler.h"
#include "galgas2/C_galgas_CLI_Options.h"

//---------------------------------------------------------------------------*

#include "piccolo_options.h"
#include "piccoloDevice_grammar.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "midrange_semantics.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//                        Routine 'midrange_analyze'                         *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_midrange_5F_analyze (const GALGAS_midrange_5F_model constinArgument_inPiccoloModel,
                                  const GALGAS_string constinArgument_inSourceFileName,
                                  C_Compiler * inCompiler
                                  COMMA_UNUSED_LOCATION_ARGS) {
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_0 (constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (31))) ;
  GALGAS_string temp_1 (temp_0.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (31))) ;
  GALGAS_string var_sourceFileBaseName (temp_1) ;
  //-------- @ifInstructionForGeneration
  //--- @notEqualExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_lstring temp_2 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (32))) ;
  GALGAS_string temp_3 (temp_2.reader_string (SOURCE_FILE_AT_LINE (32))) ;
  GALGAS_bool temp_4 (kIsNotEqual, var_sourceFileBaseName.objectCompare (temp_3)) ;
  if (temp_4.isValidAndTrue ()) {
    //-------- @errorInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_lstring temp_5 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (33))) ;
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_6 ("the program name ('") ;
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_lstring temp_7 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (33))) ;
    GALGAS_string temp_8 (temp_7.reader_string (SOURCE_FILE_AT_LINE (33))) ;
    GALGAS_string temp_9 (temp_6.operator_concat (temp_8 COMMA_SOURCE_FILE_AT_LINE (33))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_10 ("') should be identical to the file base name '") ;
    GALGAS_string temp_11 (temp_9.operator_concat (temp_10 COMMA_SOURCE_FILE_AT_LINE (34))) ;
    GALGAS_string temp_12 (temp_11.operator_concat (var_sourceFileBaseName COMMA_SOURCE_FILE_AT_LINE (34))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_13 ("'") ;
    GALGAS_string temp_14 (temp_12.operator_concat (temp_13 COMMA_SOURCE_FILE_AT_LINE (34))) ;
    GALGAS_location location_15 (temp_5.reader_location (HERE)) ; // Implicit use of 'location' reader
    inCompiler->emitSemanticError (location_15, temp_14 COMMA_SOURCE_FILE_AT_LINE (33)) ;
  }
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_16 ("") ;
  GALGAS_string var_listFileContents (temp_16) ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_piccoloDeviceModel var_piccoloDeviceModel ;
  { //-------- @routineCallInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_lstring temp_17 (constinArgument_inPiccoloModel.reader_mDeviceName (SOURCE_FILE_AT_LINE (39))) ;
  routine_parseDeviceDefinition (temp_17, var_piccoloDeviceModel, inCompiler COMMA_SOURCE_FILE_AT_LINE (39)) ;
  } //-------- @routineCallInstructionForGeneration
  //------- @switchInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_processorType temp_18 (var_piccoloDeviceModel.reader_mProcessorType (SOURCE_FILE_AT_LINE (40))) ;
  if (temp_18.isValid ()) {
    switch (temp_18.enumValue ()) {
    case GALGAS_processorType::kNotBuilt:
      break ;
    case GALGAS_processorType::kEnum_midrange: {
      } break ;
    case GALGAS_processorType::kEnum_pic_31__38__5F__36__30_: case GALGAS_processorType::kEnum_pic_31__38__5F__38__30_: {
      //-------- @errorInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_19 (constinArgument_inPiccoloModel.reader_mDeviceName (SOURCE_FILE_AT_LINE (42))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_20 ("a pic18 device is not accepted here : only a mid-range device") ;
      GALGAS_location location_21 (temp_19.reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_21, temp_20 COMMA_SOURCE_FILE_AT_LINE (42)) ;
      } break ;
    case GALGAS_processorType::kEnum_baseline: {
      //-------- @errorInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_22 (constinArgument_inPiccoloModel.reader_mDeviceName (SOURCE_FILE_AT_LINE (43))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_23 ("a baseline device is not accepted here : only a mid-range device") ;
      GALGAS_location location_24 (temp_22.reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_24, temp_23 COMMA_SOURCE_FILE_AT_LINE (43)) ;
      } break ;
    }
  }
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @falseExpressionForGeneration
  GALGAS_bool temp_25 (false) ;
  GALGAS_bool var_hasInterrupt (temp_25) ;
  //-------- @foreachInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_midrange_5F_interruptDefinitionList temp_26 (constinArgument_inPiccoloModel.reader_mInterruptDefinitionList (SOURCE_FILE_AT_LINE (47))) ;
  cEnumerator_midrange_5F_interruptDefinitionList enumerator_2797 (temp_26, true) ;
  //--- simple foreach instruction
  while (enumerator_2797.hasCurrentObject ()) {
    //-------- @ifInstructionForGeneration
    if (var_hasInterrupt.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_27 ("only one interrupt routine can be defined") ;
      inCompiler->emitSemanticError (enumerator_2797.current_mInterruptLocation (), temp_27 COMMA_SOURCE_FILE_AT_LINE (49)) ;
    }
    //-------- @assignmentInstructionForGeneration
    //--- @trueExpressionForGeneration
    GALGAS_bool temp_28 (true) ;
    var_hasInterrupt = temp_28 ;
    enumerator_2797.gotoNextObject () ;
  }
  //-------- @localVariableDeclarationForGeneration
  GALGAS_actualConfigurationMap var_actualConfigurationMap ;
  { //-------- @routineCallInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_configRegisterMap temp_29 (var_piccoloDeviceModel.reader_mConfigRegisterMap (SOURCE_FILE_AT_LINE (56))) ;
  //--- @readerCallExpressionForGeneration
  GALGAS_configDefinitionList temp_30 (constinArgument_inPiccoloModel.reader_mConfigDefinitionList (SOURCE_FILE_AT_LINE (57))) ;
  //--- @readerCallExpressionForGeneration
  GALGAS_bool temp_31 (constinArgument_inPiccoloModel.reader_mAcceptDefaultConfiguration (SOURCE_FILE_AT_LINE (58))) ;
  routine_buildConfig (temp_29, temp_30, temp_31, var_listFileContents, var_actualConfigurationMap, inCompiler COMMA_SOURCE_FILE_AT_LINE (55)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_ramBankTable temp_32 (var_piccoloDeviceModel.reader_mRamBankTable (SOURCE_FILE_AT_LINE (63))) ;
  GALGAS_ramBankTable var_ramBank (temp_32) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_registerTable temp_33 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (64))) ;
  GALGAS_registerTable var_registerTable (temp_33) ;
  { //-------- @routineCallInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_34 ("DECLARED VARIABLES") ;
  //--- @readerCallExpressionForGeneration
  GALGAS_ramDefinitionList temp_35 (constinArgument_inPiccoloModel.reader_mRamDefinitionList (SOURCE_FILE_AT_LINE (67))) ;
  //--- @readerCallExpressionForGeneration
  GALGAS_registerTable temp_36 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (69))) ;
  routine_analyze_5F_ram_5F_sections (temp_34, temp_35, var_ramBank, temp_36, var_listFileContents, var_registerTable, inCompiler COMMA_SOURCE_FILE_AT_LINE (65)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @localVariableDeclarationForGeneration
  GALGAS_midrange_5F_ipic_5F_instructionList var_generatedInstructionList ;
  { //-------- @routineCallInstructionForGeneration
  //--- @divisionExpressionForGeneration
  //--- @addExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_luint temp_37 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (76))) ;
  GALGAS_uint temp_38 (temp_37.reader_uint (SOURCE_FILE_AT_LINE (76))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_39 ((PMUInt32) 2047U) ;
  GALGAS_uint temp_40 (temp_38.add_operation (temp_39, inCompiler COMMA_SOURCE_FILE_AT_LINE (76))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_41 ((PMUInt32) 2048U) ;
  GALGAS_uint temp_42 (temp_40.divide_operation (temp_41, inCompiler COMMA_SOURCE_FILE_AT_LINE (76))) ;
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_luint temp_43 (var_piccoloDeviceModel.reader_mBankCount (SOURCE_FILE_AT_LINE (77))) ;
  GALGAS_uint temp_44 (temp_43.reader_uint (SOURCE_FILE_AT_LINE (77))) ;
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_luint temp_45 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (78))) ;
  GALGAS_uint temp_46 (temp_45.reader_uint (SOURCE_FILE_AT_LINE (78))) ;
  GALGAS_sint temp_47 (temp_46.reader_sint (inCompiler COMMA_SOURCE_FILE_AT_LINE (78))) ;
  //--- @notEqualExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_48 (var_piccoloDeviceModel.reader_mSharedBankName (SOURCE_FILE_AT_LINE (79))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_49 ("") ;
  GALGAS_bool temp_50 (kIsNotEqual, temp_48.objectCompare (temp_49)) ;
  routine_build_5F_midrange_5F_assembly_5F_instruction_5F_list (temp_42, temp_44, temp_47, temp_50, var_registerTable, constinArgument_inPiccoloModel, var_hasInterrupt, var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (75)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @ifInstructionForGeneration
  //--- @andExpressionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_51 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (87))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_52 ((PMUInt32) 0U) ;
  GALGAS_bool temp_53 (kIsEqual, temp_51.objectCompare (temp_52)) ;
  //--- @optionValueExpressionForGeneration
  GALGAS_bool temp_54 (gOption_piccolo_5F_options_performOptimizations.reader_value ()) ;
  GALGAS_bool temp_55 (temp_53.operator_and (temp_54 COMMA_SOURCE_FILE_AT_LINE (87))) ;
  if (temp_55.isValidAndTrue ()) {
    { //-------- @routineCallInstructionForGeneration
    routine_perform_5F_midrange_5F_optimizations (var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (88)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_56 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (91))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_57 ((PMUInt32) 0U) ;
  GALGAS_bool temp_58 (kIsEqual, temp_56.objectCompare (temp_57)) ;
  if (temp_58.isValidAndTrue ()) {
    { //-------- @routineCallInstructionForGeneration
    routine_midrange_5F_compute_5F_JSR_5F_JUMP (var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (92)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @optionValueExpressionForGeneration
  GALGAS_bool temp_59 (gOption_piccolo_5F_options_ouputListingFile.reader_value ()) ;
  if (temp_59.isValidAndTrue ()) {
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_60 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (96))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_61 (".list") ;
    GALGAS_string temp_62 (temp_60.operator_concat (temp_61 COMMA_SOURCE_FILE_AT_LINE (96))) ;
    GALGAS_string var_listFile (temp_62) ;
    //-------- @methodCallInstructionForGeneration
    GALGAS_bool joker_4822_0 ; // Joker input parameter
    var_listFileContents.method_writeToFileWhenDifferentContents (var_listFile, joker_4822_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (97)) ;
    //-------- END @methodCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_63 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (101))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_64 ((PMUInt32) 0U) ;
  GALGAS_bool temp_65 (kIsEqual, temp_63.objectCompare (temp_64)) ;
  if (temp_65.isValidAndTrue ()) {
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uint var_usedROMsize ;
    { //-------- @routineCallInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_luint temp_66 (var_piccoloDeviceModel.reader_mBankCount (SOURCE_FILE_AT_LINE (106))) ;
    GALGAS_uint temp_67 (temp_66.reader_uint (SOURCE_FILE_AT_LINE (106))) ;
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_luint temp_68 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (108))) ;
    GALGAS_uint temp_69 (temp_68.reader_uint (SOURCE_FILE_AT_LINE (108))) ;
    routine_build_5F_midrange_5F_ipic_5F_binary_5F_code (var_registerTable, temp_67, var_generatedInstructionList, temp_69, var_actualConfigurationMap, var_usedROMsize, inCompiler COMMA_SOURCE_FILE_AT_LINE (104)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @localVariableDeclarationForGeneration
    GALGAS_string var_contents ;
    { //-------- @routineCallInstructionForGeneration
    routine_getGeneratedContents (var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (113)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_70 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (114))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_71 (".hex") ;
    GALGAS_string temp_72 (temp_70.operator_concat (temp_71 COMMA_SOURCE_FILE_AT_LINE (114))) ;
    GALGAS_string var_destinationFile (temp_72) ;
    //-------- @methodCallInstructionForGeneration
    GALGAS_bool joker_5463_0 ; // Joker input parameter
    var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_5463_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (115)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_73 (gOption_piccolo_5F_options_output_5F_C_5F_Array.reader_value ()) ;
    if (temp_73.isValidAndTrue ()) {
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_74 (constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (117))) ;
      GALGAS_string temp_75 (temp_74.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (117))) ;
      GALGAS_string var_baseName (temp_75) ;
      { //-------- @routineCallInstructionForGeneration
      routine_get_5F_C_5F_ArrayImplementation (var_baseName, var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (118)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @assignmentInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_76 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (119))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_77 (".c") ;
      GALGAS_string temp_78 (temp_76.operator_concat (temp_77 COMMA_SOURCE_FILE_AT_LINE (119))) ;
      var_destinationFile = temp_78 ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_5833_0 ; // Joker input parameter
      var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_5833_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (120)) ;
      //-------- END @methodCallInstructionForGeneration
      { //-------- @routineCallInstructionForGeneration
      routine_get_5F_C_5F_ArrayHeader (var_baseName, var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (121)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @assignmentInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_79 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (122))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_80 (".h") ;
      GALGAS_string temp_81 (temp_79.operator_concat (temp_80 COMMA_SOURCE_FILE_AT_LINE (122))) ;
      var_destinationFile = temp_81 ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_6034_0 ; // Joker input parameter
      var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_6034_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (123)) ;
      //-------- END @methodCallInstructionForGeneration
    }
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_82 (gOption_galgas_5F_cli_5F_options_verbose_5F_output.reader_value ()) ;
    if (temp_82.isValidAndTrue ()) {
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_83 ("  ROM size: ") ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_luint temp_84 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (127))) ;
      GALGAS_uint temp_85 (temp_84.reader_uint (SOURCE_FILE_AT_LINE (127))) ;
      GALGAS_string temp_86 (temp_85.reader_string (SOURCE_FILE_AT_LINE (127))) ;
      GALGAS_string temp_87 (temp_83.operator_concat (temp_86 COMMA_SOURCE_FILE_AT_LINE (127))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_88 (" words;") ;
      GALGAS_string temp_89 (temp_87.operator_concat (temp_88 COMMA_SOURCE_FILE_AT_LINE (127))) ;
      GALGAS_string var_verboseMessage (temp_89) ;
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_90 (" used: ") ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_91 (var_usedROMsize.reader_string (SOURCE_FILE_AT_LINE (128))) ;
      GALGAS_string temp_92 (temp_90.operator_concat (temp_91 COMMA_SOURCE_FILE_AT_LINE (128))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_93 (" words (") ;
      GALGAS_string temp_94 (temp_92.operator_concat (temp_93 COMMA_SOURCE_FILE_AT_LINE (128))) ;
      var_verboseMessage.dotAssign_operation (temp_94 COMMA_SOURCE_FILE_AT_LINE (128)) ;
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @divisionExpressionForGeneration
      //--- @multiplicationExpressionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_95 ((PMUInt32) 100U) ;
      GALGAS_uint temp_96 (var_usedROMsize .multiply_operation (temp_95, inCompiler COMMA_SOURCE_FILE_AT_LINE (129))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_luint temp_97 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (129))) ;
      GALGAS_uint temp_98 (temp_97.reader_uint (SOURCE_FILE_AT_LINE (129))) ;
      GALGAS_uint temp_99 (temp_96.divide_operation (temp_98, inCompiler COMMA_SOURCE_FILE_AT_LINE (129))) ;
      GALGAS_string temp_100 (temp_99.reader_string (SOURCE_FILE_AT_LINE (129))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_101 ("%).\n") ;
      GALGAS_string temp_102 (temp_100.operator_concat (temp_101 COMMA_SOURCE_FILE_AT_LINE (129))) ;
      var_verboseMessage.dotAssign_operation (temp_102 COMMA_SOURCE_FILE_AT_LINE (129)) ;
      //-------- @foreachInstructionForGeneration
      cEnumerator_ramBankTable enumerator_6439 (var_ramBank, true) ;
      //--- simple foreach instruction
      while (enumerator_6439.hasCurrentObject ()) {
        //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
        //--- @subExpressionForGeneration
        GALGAS_uint temp_103 (enumerator_6439.current_mLastAddressPlusOne ().substract_operation (enumerator_6439.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (131))) ;
        GALGAS_uint var_bankSize (temp_103) ;
        //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
        //--- @subExpressionForGeneration
        GALGAS_uint temp_104 (enumerator_6439.current_mFirstFreeAddress ().substract_operation (enumerator_6439.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (132))) ;
        GALGAS_uint var_usedSize (temp_104) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_105 ("  RAM bank '") ;
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_106 (enumerator_6439.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (133))) ;
        GALGAS_string temp_107 (temp_105.operator_concat (temp_106 COMMA_SOURCE_FILE_AT_LINE (133))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_108 ("': ") ;
        GALGAS_string temp_109 (temp_107.operator_concat (temp_108 COMMA_SOURCE_FILE_AT_LINE (133))) ;
        var_verboseMessage.dotAssign_operation (temp_109 COMMA_SOURCE_FILE_AT_LINE (133)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_110 (var_bankSize.reader_string (SOURCE_FILE_AT_LINE (134))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_111 (" bytes, used ") ;
        GALGAS_string temp_112 (temp_110.operator_concat (temp_111 COMMA_SOURCE_FILE_AT_LINE (134))) ;
        var_verboseMessage.dotAssign_operation (temp_112 COMMA_SOURCE_FILE_AT_LINE (134)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_113 (var_usedSize.reader_string (SOURCE_FILE_AT_LINE (135))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_114 (" bytes (") ;
        GALGAS_string temp_115 (temp_113.operator_concat (temp_114 COMMA_SOURCE_FILE_AT_LINE (135))) ;
        var_verboseMessage.dotAssign_operation (temp_115 COMMA_SOURCE_FILE_AT_LINE (135)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        //--- @divisionExpressionForGeneration
        //--- @multiplicationExpressionForGeneration
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_116 ((PMUInt32) 100U) ;
        GALGAS_uint temp_117 (var_usedSize .multiply_operation (temp_116, inCompiler COMMA_SOURCE_FILE_AT_LINE (136))) ;
        GALGAS_uint temp_118 (temp_117.divide_operation (var_bankSize, inCompiler COMMA_SOURCE_FILE_AT_LINE (136))) ;
        GALGAS_string temp_119 (temp_118.reader_string (SOURCE_FILE_AT_LINE (136))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_120 ("%).\n") ;
        GALGAS_string temp_121 (temp_119.operator_concat (temp_120 COMMA_SOURCE_FILE_AT_LINE (136))) ;
        var_verboseMessage.dotAssign_operation (temp_121 COMMA_SOURCE_FILE_AT_LINE (136)) ;
        enumerator_6439.gotoNextObject () ;
      }
      //-------- @messageInstructionForGeneration
      inCompiler->printMessage (var_verboseMessage COMMA_SOURCE_FILE_AT_LINE (138)) ;
    }
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_122 (gOption_piccolo_5F_options_generateAssembly.reader_value ()) ;
    if (temp_122.isValidAndTrue ()) {
      //-------- @localVariableDeclarationForGeneration
      GALGAS_string var_assemblyCode ;
      { //-------- @routineCallInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_123 (var_piccoloDeviceModel.reader_mDeviceName (SOURCE_FILE_AT_LINE (144))) ;
      GALGAS_string temp_124 (temp_123.reader_string (SOURCE_FILE_AT_LINE (144))) ;
      //--- @readerCallExpressionForGeneration
      GALGAS_registerTable temp_125 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (145))) ;
      routine_midrange_5F_build_5F_assembly_5F_code (temp_124, temp_125, var_registerTable, var_generatedInstructionList, var_actualConfigurationMap, var_assemblyCode, inCompiler COMMA_SOURCE_FILE_AT_LINE (143)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_126 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (151))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_127 (".asm") ;
      GALGAS_string temp_128 (temp_126.operator_concat (temp_127 COMMA_SOURCE_FILE_AT_LINE (151))) ;
      GALGAS_string var_asmDestinationFile (temp_128) ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_7454_0 ; // Joker input parameter
      var_assemblyCode.method_writeToFileWhenDifferentContents (var_asmDestinationFile, joker_7454_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (152)) ;
      //-------- END @methodCallInstructionForGeneration
    }
  }else{
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_129 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (155))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_130 (".hex") ;
    GALGAS_string temp_131 (temp_129.operator_concat (temp_130 COMMA_SOURCE_FILE_AT_LINE (155))) ;
    GALGAS_string var_hexDestinationFile (temp_131) ;
    //-------- @ifInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_bool temp_132 (var_hexDestinationFile.reader_fileExists (SOURCE_FILE_AT_LINE (156))) ;
    if (temp_132.isValidAndTrue ()) {
      { //-------- @typeMethodInstructionForGeneration
      GALGAS_string::class_method_deleteFile (var_hexDestinationFile, inCompiler COMMA_SOURCE_FILE_AT_LINE (157)) ;
      } //-------- @routineCallInstructionForGeneration
    }
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_133 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (159))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_134 (".asm") ;
    GALGAS_string temp_135 (temp_133.operator_concat (temp_134 COMMA_SOURCE_FILE_AT_LINE (159))) ;
    GALGAS_string var_asmDestinationFile (temp_135) ;
    //-------- @ifInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_bool temp_136 (var_asmDestinationFile.reader_fileExists (SOURCE_FILE_AT_LINE (160))) ;
    if (temp_136.isValidAndTrue ()) {
      { //-------- @typeMethodInstructionForGeneration
      GALGAS_string::class_method_deleteFile (var_asmDestinationFile, inCompiler COMMA_SOURCE_FILE_AT_LINE (161)) ;
      } //-------- @routineCallInstructionForGeneration
    }
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


