//---------------------------------------------------------------------------*
//                                                                           *
//           File 'pic18_bootloader_specification_semantics.cpp'             *
//             Generated by version GALGAS_BETA_VERSION [debug]              *
//                     october 23th, 2010, at 13h39'52"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "pic18_bootloader_specification_semantics.h"
#include "galgas-utilities/C_Compiler.h"
#include "galgas/C_galgas_CLI_Options.h"

//---------------------------------------------------------------------------*

#include "piccoloDevice_grammar.h"
#include "piccolo_options.h"
#include "piccolo_grammar.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "pic18_bootloader_specification_semantics.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//              Routine 'pic18BootloaderSpecificationAnalysis'               *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_pic_31__38_BootloaderSpecificationAnalysis (const GALGAS_string constinArgument_inSourceFileName,
                                                         const GALGAS_lstring constinArgument_inBootloaderName,
                                                         const GALGAS_lstring constinArgument_inDeviceName,
                                                         const GALGAS_routineDeclarationList constinArgument_inBootloaderRoutineDeclarationList,
                                                         const GALGAS_bootloaderReservedRAMmap constinArgument_inBootloaderReservedRAMmap,
                                                         const GALGAS_luint constinArgument_inReservedRomSize,
                                                         const GALGAS_routineDeclarationList constinArgument_inUserRoutineDeclarationList,
                                                         const GALGAS_ramDefinitionList constinArgument_inSharedRamDefinitionList,
                                                         GALGAS_string & outArgument_outListFileContents,
                                                         GALGAS_piccoloDeviceModel & outArgument_outPiccoloDeviceModel,
                                                         GALGAS_uint & outArgument_outAccessBankSplitOffset,
                                                         GALGAS_ramBankTable & outArgument_outRamBank,
                                                         GALGAS_registerTable & outArgument_outRegisterTable,
                                                         C_Compiler * inCompiler
                                                         COMMA_UNUSED_LOCATION_ARGS) {
  outArgument_outListFileContents.drop () ; // Release 'out' argument
  outArgument_outPiccoloDeviceModel.drop () ; // Release 'out' argument
  outArgument_outAccessBankSplitOffset.drop () ; // Release 'out' argument
  outArgument_outRamBank.drop () ; // Release 'out' argument
  outArgument_outRegisterTable.drop () ; // Release 'out' argument
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_0 (constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (23))) ;
  GALGAS_string temp_1 (temp_0.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (23))) ;
  GALGAS_string var_sourceFileBaseName (temp_1) ;
  //-------- @ifInstructionForGeneration
  //--- @notEqualExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_2 (constinArgument_inBootloaderName.reader_string (SOURCE_FILE_AT_LINE (24))) ;
  GALGAS_bool temp_3 (kIsNotEqual, var_sourceFileBaseName.objectCompare (temp_2)) ;
  if (temp_3.isValidAndTrue ()) {
    //-------- @errorInstructionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_4 ("the bootloader name ('") ;
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_5 (constinArgument_inBootloaderName.reader_string (SOURCE_FILE_AT_LINE (25))) ;
    GALGAS_string temp_6 (temp_4.operator_concat (temp_5 COMMA_SOURCE_FILE_AT_LINE (25))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_7 ("') should be identical to the file base name '") ;
    GALGAS_string temp_8 (temp_6.operator_concat (temp_7 COMMA_SOURCE_FILE_AT_LINE (26))) ;
    GALGAS_string temp_9 (temp_8.operator_concat (var_sourceFileBaseName COMMA_SOURCE_FILE_AT_LINE (26))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_10 ("'") ;
    GALGAS_string temp_11 (temp_9.operator_concat (temp_10 COMMA_SOURCE_FILE_AT_LINE (26))) ;
    GALGAS_location location_12 (constinArgument_inBootloaderName.reader_location (HERE)) ; // Implicit use of 'location' reader
    inCompiler->emitSemanticError (location_12, temp_11 COMMA_SOURCE_FILE_AT_LINE (25)) ;
  }
  //-------- @assignmentInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_13 ("") ;
  outArgument_outListFileContents = temp_13 ;
  { //-------- @routineCallInstructionForGeneration
  routine_parseDeviceDefinition (constinArgument_inDeviceName, outArgument_outPiccoloDeviceModel, inCompiler COMMA_SOURCE_FILE_AT_LINE (30)) ;
  } //-------- @routineCallInstructionForGeneration
  //------- @switchInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_processorType temp_14 (outArgument_outPiccoloDeviceModel.reader_mProcessorType (SOURCE_FILE_AT_LINE (31))) ;
  if (temp_14.isValid ()) {
    switch (temp_14.enumValue ()) {
    case GALGAS_processorType::kNotBuilt:
      break ;
    case GALGAS_processorType::kEnum_pic_31__38__5F__36__30_: {
      //-------- @assignmentInstructionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_15 ((PMUInt32) 96U) ;
      outArgument_outAccessBankSplitOffset = temp_15 ;
      } break ;
    case GALGAS_processorType::kEnum_pic_31__38__5F__38__30_: {
      //-------- @assignmentInstructionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_16 ((PMUInt32) 128U) ;
      outArgument_outAccessBankSplitOffset = temp_16 ;
      } break ;
    case GALGAS_processorType::kEnum_midrange: {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_17 ("a midrange device is not accepted here") ;
      GALGAS_location location_18 (constinArgument_inDeviceName.reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_18, temp_17 COMMA_SOURCE_FILE_AT_LINE (34)) ;
      outArgument_outAccessBankSplitOffset.drop () ; // Release error dropped variable
      } break ;
    case GALGAS_processorType::kEnum_baseline: {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_19 ("a baseline device is not accepted here") ;
      GALGAS_location location_20 (constinArgument_inDeviceName.reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_20, temp_19 COMMA_SOURCE_FILE_AT_LINE (35)) ;
      outArgument_outAccessBankSplitOffset.drop () ; // Release error dropped variable
      } break ;
    }
  }
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_21 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_22 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_23 (TO_UNICODE (42)) ;
  GALGAS_string temp_24 (temp_21.reader_stringByLeftAndRightPadding (temp_22, temp_23 COMMA_SOURCE_FILE_AT_LINE (38))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_25 ("\n") ;
  GALGAS_string temp_26 (temp_24.operator_concat (temp_25 COMMA_SOURCE_FILE_AT_LINE (38))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_26 COMMA_SOURCE_FILE_AT_LINE (38)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @concatExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_27 ("*") ;
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_28 ("BOOTLOADER FOOTPRINT") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_29 ((PMUInt32) 77U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_30 (TO_UNICODE (32)) ;
  GALGAS_string temp_31 (temp_28.reader_stringByLeftAndRightPadding (temp_29, temp_30 COMMA_SOURCE_FILE_AT_LINE (39))) ;
  GALGAS_string temp_32 (temp_27.operator_concat (temp_31 COMMA_SOURCE_FILE_AT_LINE (39))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_33 ("*\n") ;
  GALGAS_string temp_34 (temp_32.operator_concat (temp_33 COMMA_SOURCE_FILE_AT_LINE (39))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_34 COMMA_SOURCE_FILE_AT_LINE (39)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_35 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_36 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_37 (TO_UNICODE (42)) ;
  GALGAS_string temp_38 (temp_35.reader_stringByLeftAndRightPadding (temp_36, temp_37 COMMA_SOURCE_FILE_AT_LINE (40))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_39 ("\n"
    "\n") ;
  GALGAS_string temp_40 (temp_38.operator_concat (temp_39 COMMA_SOURCE_FILE_AT_LINE (40))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_40 COMMA_SOURCE_FILE_AT_LINE (40)) ;
  //-------- @ifInstructionForGeneration
  //--- @greaterOrEqualExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_uint temp_41 (constinArgument_inReservedRomSize.reader_uint (SOURCE_FILE_AT_LINE (41))) ;
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_luint temp_42 (outArgument_outPiccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (41))) ;
  GALGAS_uint temp_43 (temp_42.reader_uint (SOURCE_FILE_AT_LINE (41))) ;
  GALGAS_bool temp_44 (kIsSupOrEqual, temp_41.objectCompare (temp_43)) ;
  if (temp_44.isValidAndTrue ()) {
    //-------- @errorInstructionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_45 ("reserved size for bootloader (") ;
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_uint temp_46 (constinArgument_inReservedRomSize.reader_uint (SOURCE_FILE_AT_LINE (43))) ;
    GALGAS_string temp_47 (temp_46.reader_string (SOURCE_FILE_AT_LINE (43))) ;
    GALGAS_string temp_48 (temp_45.operator_concat (temp_47 COMMA_SOURCE_FILE_AT_LINE (43))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_49 (" bytes) is greater than ROM size (") ;
    GALGAS_string temp_50 (temp_48.operator_concat (temp_49 COMMA_SOURCE_FILE_AT_LINE (43))) ;
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_luint temp_51 (outArgument_outPiccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (44))) ;
    GALGAS_uint temp_52 (temp_51.reader_uint (SOURCE_FILE_AT_LINE (44))) ;
    GALGAS_string temp_53 (temp_52.reader_string (SOURCE_FILE_AT_LINE (44))) ;
    GALGAS_string temp_54 (temp_50.operator_concat (temp_53 COMMA_SOURCE_FILE_AT_LINE (44))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_55 (" bytes) of ") ;
    GALGAS_string temp_56 (temp_54.operator_concat (temp_55 COMMA_SOURCE_FILE_AT_LINE (44))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_57 (constinArgument_inDeviceName.reader_string (SOURCE_FILE_AT_LINE (45))) ;
    GALGAS_string temp_58 (temp_56.operator_concat (temp_57 COMMA_SOURCE_FILE_AT_LINE (45))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_59 (" micro controller") ;
    GALGAS_string temp_60 (temp_58.operator_concat (temp_59 COMMA_SOURCE_FILE_AT_LINE (45))) ;
    GALGAS_location location_61 (constinArgument_inReservedRomSize.reader_location (HERE)) ; // Implicit use of 'location' reader
    inCompiler->emitSemanticError (location_61, temp_60 COMMA_SOURCE_FILE_AT_LINE (42)) ;
  }
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @concatExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_62 ("ROM size : ") ;
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_uint temp_63 (constinArgument_inReservedRomSize.reader_uint (SOURCE_FILE_AT_LINE (47))) ;
  GALGAS_string temp_64 (temp_63.reader_string (SOURCE_FILE_AT_LINE (47))) ;
  GALGAS_string temp_65 (temp_62.operator_concat (temp_64 COMMA_SOURCE_FILE_AT_LINE (47))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_66 (" bytes.\n"
    "\n") ;
  GALGAS_string temp_67 (temp_65.operator_concat (temp_66 COMMA_SOURCE_FILE_AT_LINE (47))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_67 COMMA_SOURCE_FILE_AT_LINE (47)) ;
  //-------- @assignmentInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_ramBankTable temp_68 (outArgument_outPiccoloDeviceModel.reader_mRamBankTable (SOURCE_FILE_AT_LINE (49))) ;
  outArgument_outRamBank = temp_68 ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_bootloaderReservedRAMmap enumerator_2696 (constinArgument_inBootloaderReservedRAMmap, true) ;
  //--- simple foreach instruction
  while (enumerator_2696.hasCurrentObject ()) {
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uint var_firstAddress ;
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uint var_firstFreeAddress ;
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uint var_lastAddressPlusOne ;
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uintlist var_mirrorOffsetList ;
    //-------- @methodCallInstructionForGeneration
    outArgument_outRamBank.method_searchKey (enumerator_2696.current_lkey (), var_firstAddress, var_firstFreeAddress, var_lastAddressPlusOne, var_mirrorOffsetList, inCompiler COMMA_SOURCE_FILE_AT_LINE (55)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @assignmentInstructionForGeneration
    //--- @addExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_uint temp_69 (enumerator_2696.current_mReservedSize ().reader_uint (SOURCE_FILE_AT_LINE (56))) ;
    GALGAS_uint temp_70 (var_firstFreeAddress.add_operation (temp_69, inCompiler COMMA_SOURCE_FILE_AT_LINE (56))) ;
    var_firstFreeAddress = temp_70 ;
    //-------- @ifInstructionForGeneration
    //--- @strictGreaterExpressionForGeneration
    GALGAS_bool temp_71 (kIsStrictSup, var_firstFreeAddress.objectCompare (var_lastAddressPlusOne)) ;
    if (temp_71.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_72 ("reserved size is greater than size of '") ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_73 (enumerator_2696.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (58))) ;
      GALGAS_string temp_74 (temp_72.operator_concat (temp_73 COMMA_SOURCE_FILE_AT_LINE (58))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_75 ("' bank (") ;
      GALGAS_string temp_76 (temp_74.operator_concat (temp_75 COMMA_SOURCE_FILE_AT_LINE (58))) ;
      //--- @readerCallExpressionForGeneration
      //--- @subExpressionForGeneration
      GALGAS_uint temp_77 (var_lastAddressPlusOne.substract_operation (var_firstAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (59))) ;
      GALGAS_string temp_78 (temp_77.reader_string (SOURCE_FILE_AT_LINE (59))) ;
      GALGAS_string temp_79 (temp_76.operator_concat (temp_78 COMMA_SOURCE_FILE_AT_LINE (59))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_80 (" bytes)") ;
      GALGAS_string temp_81 (temp_79.operator_concat (temp_80 COMMA_SOURCE_FILE_AT_LINE (59))) ;
      GALGAS_location location_82 (enumerator_2696.current_mReservedSize ().reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_82, temp_81 COMMA_SOURCE_FILE_AT_LINE (58)) ;
    }else{
      { //-------- @modifierCallInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_83 (enumerator_2696.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (61))) ;
      outArgument_outRamBank.modifier_setMFirstFreeAddressForKey (var_firstFreeAddress, temp_83, inCompiler COMMA_SOURCE_FILE_AT_LINE (61)) ;
      } //-------- END @typeMethodInstructionForGeneration
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_84 ("'") ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_85 (enumerator_2696.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (62))) ;
      GALGAS_string temp_86 (temp_84.operator_concat (temp_85 COMMA_SOURCE_FILE_AT_LINE (62))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_87 ("' RAM size : ") ;
      GALGAS_string temp_88 (temp_86.operator_concat (temp_87 COMMA_SOURCE_FILE_AT_LINE (62))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_uint temp_89 (enumerator_2696.current_mReservedSize ().reader_uint (SOURCE_FILE_AT_LINE (62))) ;
      GALGAS_string temp_90 (temp_89.reader_string (SOURCE_FILE_AT_LINE (62))) ;
      GALGAS_string temp_91 (temp_88.operator_concat (temp_90 COMMA_SOURCE_FILE_AT_LINE (62))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_92 (" bytes (from ") ;
      GALGAS_string temp_93 (temp_91.operator_concat (temp_92 COMMA_SOURCE_FILE_AT_LINE (62))) ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_94 (var_firstAddress.reader_hexString (SOURCE_FILE_AT_LINE (63))) ;
      GALGAS_string temp_95 (temp_93.operator_concat (temp_94 COMMA_SOURCE_FILE_AT_LINE (63))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_96 (" to ") ;
      GALGAS_string temp_97 (temp_95.operator_concat (temp_96 COMMA_SOURCE_FILE_AT_LINE (63))) ;
      //--- @readerCallExpressionForGeneration
      //--- @subExpressionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_98 ((PMUInt32) 1U) ;
      GALGAS_uint temp_99 (var_firstFreeAddress.substract_operation (temp_98, inCompiler COMMA_SOURCE_FILE_AT_LINE (63))) ;
      GALGAS_string temp_100 (temp_99.reader_hexString (SOURCE_FILE_AT_LINE (63))) ;
      GALGAS_string temp_101 (temp_97.operator_concat (temp_100 COMMA_SOURCE_FILE_AT_LINE (63))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_102 (").\n"
        "\n") ;
      GALGAS_string temp_103 (temp_101.operator_concat (temp_102 COMMA_SOURCE_FILE_AT_LINE (63))) ;
      outArgument_outListFileContents.dotAssign_operation (temp_103 COMMA_SOURCE_FILE_AT_LINE (62)) ;
    }
    enumerator_2696.gotoNextObject () ;
  }
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_104 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_105 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_106 (TO_UNICODE (42)) ;
  GALGAS_string temp_107 (temp_104.reader_stringByLeftAndRightPadding (temp_105, temp_106 COMMA_SOURCE_FILE_AT_LINE (67))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_108 ("\n") ;
  GALGAS_string temp_109 (temp_107.operator_concat (temp_108 COMMA_SOURCE_FILE_AT_LINE (67))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_109 COMMA_SOURCE_FILE_AT_LINE (67)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @concatExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_110 ("*") ;
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_111 ("BOOTLOADER ROUTINES") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_112 ((PMUInt32) 77U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_113 (TO_UNICODE (32)) ;
  GALGAS_string temp_114 (temp_111.reader_stringByLeftAndRightPadding (temp_112, temp_113 COMMA_SOURCE_FILE_AT_LINE (68))) ;
  GALGAS_string temp_115 (temp_110.operator_concat (temp_114 COMMA_SOURCE_FILE_AT_LINE (68))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_116 ("*\n") ;
  GALGAS_string temp_117 (temp_115.operator_concat (temp_116 COMMA_SOURCE_FILE_AT_LINE (68))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_117 COMMA_SOURCE_FILE_AT_LINE (68)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_118 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_119 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_120 (TO_UNICODE (42)) ;
  GALGAS_string temp_121 (temp_118.reader_stringByLeftAndRightPadding (temp_119, temp_120 COMMA_SOURCE_FILE_AT_LINE (69))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_122 ("\n"
    "\n") ;
  GALGAS_string temp_123 (temp_121.operator_concat (temp_122 COMMA_SOURCE_FILE_AT_LINE (69))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_123 COMMA_SOURCE_FILE_AT_LINE (69)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_124 ("Routine") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_125 ((PMUInt32) 40U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_126 (TO_UNICODE (32)) ;
  GALGAS_string temp_127 (temp_124.reader_stringByLeftPadding (temp_125, temp_126 COMMA_SOURCE_FILE_AT_LINE (70))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_128 (" Entry point address\n") ;
  GALGAS_string temp_129 (temp_127.operator_concat (temp_128 COMMA_SOURCE_FILE_AT_LINE (70))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_129 COMMA_SOURCE_FILE_AT_LINE (70)) ;
  //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
  GALGAS_stringset var_routineNameSet (GALGAS_stringset::constructor_emptySet (SOURCE_FILE_AT_LINE (71))) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_130 ((PMUInt32) 4U) ;
  GALGAS_uint var_entryPointAddress (temp_130) ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_routineDeclarationList enumerator_4055 (constinArgument_inBootloaderRoutineDeclarationList, true) ;
  //--- simple foreach instruction
  while (enumerator_4055.hasCurrentObject ()) {
    //-------- @ifInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_131 (enumerator_4055.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (74))) ;
    GALGAS_bool temp_132 (var_routineNameSet.reader_hasKey (temp_131 COMMA_SOURCE_FILE_AT_LINE (74))) ;
    if (temp_132.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_133 ("This routine is already declared") ;
      GALGAS_location location_134 (enumerator_4055.current_mRoutineName ().reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_134, temp_133 COMMA_SOURCE_FILE_AT_LINE (75)) ;
    }
    //-------- @addAssignInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_135 (enumerator_4055.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (77))) ;
    var_routineNameSet.addAssign_operation (temp_135 COMMA_SOURCE_FILE_AT_LINE (77)) ;
    //-------- @appendInstructionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_136 (enumerator_4055.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (78))) ;
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_137 ((PMUInt32) 40U) ;
    //--- @literalCharExpressionForGeneration
    GALGAS_char temp_138 (TO_UNICODE (32)) ;
    GALGAS_string temp_139 (temp_136.reader_stringByLeftPadding (temp_137, temp_138 COMMA_SOURCE_FILE_AT_LINE (78))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_140 (" ") ;
    GALGAS_string temp_141 (temp_139.operator_concat (temp_140 COMMA_SOURCE_FILE_AT_LINE (78))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_142 (var_entryPointAddress.reader_hexString (SOURCE_FILE_AT_LINE (78))) ;
    GALGAS_string temp_143 (temp_141.operator_concat (temp_142 COMMA_SOURCE_FILE_AT_LINE (78))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_144 ("\n") ;
    GALGAS_string temp_145 (temp_143.operator_concat (temp_144 COMMA_SOURCE_FILE_AT_LINE (78))) ;
    outArgument_outListFileContents.dotAssign_operation (temp_145 COMMA_SOURCE_FILE_AT_LINE (78)) ;
    //-------- @assignmentInstructionForGeneration
    //--- @addExpressionForGeneration
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_146 ((PMUInt32) 4U) ;
    GALGAS_uint temp_147 (var_entryPointAddress.add_operation (temp_146, inCompiler COMMA_SOURCE_FILE_AT_LINE (79))) ;
    var_entryPointAddress = temp_147 ;
    //-------- @ifInstructionForGeneration
    //--- @equalExpressionForGeneration
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_148 ((PMUInt32) 8U) ;
    GALGAS_bool temp_149 (kIsEqual, var_entryPointAddress.objectCompare (temp_148)) ;
    if (temp_149.isValidAndTrue ()) {
      //-------- @assignmentInstructionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_150 ((PMUInt32) 12U) ;
      var_entryPointAddress = temp_150 ;
    }else{
      //-------- @ifInstructionForGeneration
      //--- @equalExpressionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_151 ((PMUInt32) 24U) ;
      GALGAS_bool temp_152 (kIsEqual, var_entryPointAddress.objectCompare (temp_151)) ;
      if (temp_152.isValidAndTrue ()) {
        //-------- @assignmentInstructionForGeneration
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_153 ((PMUInt32) 28U) ;
        var_entryPointAddress = temp_153 ;
      }
    }
    enumerator_4055.gotoNextObject () ;
  }
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_154 ("\n") ;
  outArgument_outListFileContents.dotAssign_operation (temp_154 COMMA_SOURCE_FILE_AT_LINE (86)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_155 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_156 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_157 (TO_UNICODE (42)) ;
  GALGAS_string temp_158 (temp_155.reader_stringByLeftAndRightPadding (temp_156, temp_157 COMMA_SOURCE_FILE_AT_LINE (88))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_159 ("\n") ;
  GALGAS_string temp_160 (temp_158.operator_concat (temp_159 COMMA_SOURCE_FILE_AT_LINE (88))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_160 COMMA_SOURCE_FILE_AT_LINE (88)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @concatExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_161 ("*") ;
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_162 ("USER PROGRAM ROUTINES") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_163 ((PMUInt32) 77U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_164 (TO_UNICODE (32)) ;
  GALGAS_string temp_165 (temp_162.reader_stringByLeftAndRightPadding (temp_163, temp_164 COMMA_SOURCE_FILE_AT_LINE (89))) ;
  GALGAS_string temp_166 (temp_161.operator_concat (temp_165 COMMA_SOURCE_FILE_AT_LINE (89))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_167 ("*\n") ;
  GALGAS_string temp_168 (temp_166.operator_concat (temp_167 COMMA_SOURCE_FILE_AT_LINE (89))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_168 COMMA_SOURCE_FILE_AT_LINE (89)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_169 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_170 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_171 (TO_UNICODE (42)) ;
  GALGAS_string temp_172 (temp_169.reader_stringByLeftAndRightPadding (temp_170, temp_171 COMMA_SOURCE_FILE_AT_LINE (90))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_173 ("\n"
    "\n") ;
  GALGAS_string temp_174 (temp_172.operator_concat (temp_173 COMMA_SOURCE_FILE_AT_LINE (90))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_174 COMMA_SOURCE_FILE_AT_LINE (90)) ;
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_175 ("Routine") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_176 ((PMUInt32) 40U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_177 (TO_UNICODE (32)) ;
  GALGAS_string temp_178 (temp_175.reader_stringByLeftPadding (temp_176, temp_177 COMMA_SOURCE_FILE_AT_LINE (91))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_179 (" Entry point address\n") ;
  GALGAS_string temp_180 (temp_178.operator_concat (temp_179 COMMA_SOURCE_FILE_AT_LINE (91))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_180 COMMA_SOURCE_FILE_AT_LINE (91)) ;
  //-------- @assignmentInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_uint temp_181 (constinArgument_inReservedRomSize.reader_uint (SOURCE_FILE_AT_LINE (92))) ;
  var_entryPointAddress = temp_181 ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_routineDeclarationList enumerator_5127 (constinArgument_inUserRoutineDeclarationList, true) ;
  //--- simple foreach instruction
  while (enumerator_5127.hasCurrentObject ()) {
    //-------- @ifInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_182 (enumerator_5127.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (94))) ;
    GALGAS_bool temp_183 (var_routineNameSet.reader_hasKey (temp_182 COMMA_SOURCE_FILE_AT_LINE (94))) ;
    if (temp_183.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_184 ("This routine is already declared") ;
      GALGAS_location location_185 (enumerator_5127.current_mRoutineName ().reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_185, temp_184 COMMA_SOURCE_FILE_AT_LINE (95)) ;
    }
    //-------- @addAssignInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_186 (enumerator_5127.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (97))) ;
    var_routineNameSet.addAssign_operation (temp_186 COMMA_SOURCE_FILE_AT_LINE (97)) ;
    //-------- @appendInstructionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_187 (enumerator_5127.current_mRoutineName ().reader_string (SOURCE_FILE_AT_LINE (98))) ;
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_188 ((PMUInt32) 40U) ;
    //--- @literalCharExpressionForGeneration
    GALGAS_char temp_189 (TO_UNICODE (32)) ;
    GALGAS_string temp_190 (temp_187.reader_stringByLeftPadding (temp_188, temp_189 COMMA_SOURCE_FILE_AT_LINE (98))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_191 (" ") ;
    GALGAS_string temp_192 (temp_190.operator_concat (temp_191 COMMA_SOURCE_FILE_AT_LINE (98))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_193 (var_entryPointAddress.reader_hexString (SOURCE_FILE_AT_LINE (98))) ;
    GALGAS_string temp_194 (temp_192.operator_concat (temp_193 COMMA_SOURCE_FILE_AT_LINE (98))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_195 ("\n") ;
    GALGAS_string temp_196 (temp_194.operator_concat (temp_195 COMMA_SOURCE_FILE_AT_LINE (98))) ;
    outArgument_outListFileContents.dotAssign_operation (temp_196 COMMA_SOURCE_FILE_AT_LINE (98)) ;
    //-------- @assignmentInstructionForGeneration
    //--- @addExpressionForGeneration
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_197 ((PMUInt32) 4U) ;
    GALGAS_uint temp_198 (var_entryPointAddress.add_operation (temp_197, inCompiler COMMA_SOURCE_FILE_AT_LINE (99))) ;
    var_entryPointAddress = temp_198 ;
    enumerator_5127.gotoNextObject () ;
  }
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_199 ("\n") ;
  outArgument_outListFileContents.dotAssign_operation (temp_199 COMMA_SOURCE_FILE_AT_LINE (101)) ;
  //-------- @assignmentInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_registerTable temp_200 (outArgument_outPiccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (103))) ;
  outArgument_outRegisterTable = temp_200 ;
  { //-------- @routineCallInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_201 ("SHARED VARIABLES") ;
  //--- @readerCallExpressionForGeneration
  GALGAS_registerTable temp_202 (outArgument_outPiccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (108))) ;
  routine_analyze_5F_ram_5F_sections (temp_201, constinArgument_inSharedRamDefinitionList, outArgument_outRamBank, temp_202, outArgument_outListFileContents, outArgument_outRegisterTable, inCompiler COMMA_SOURCE_FILE_AT_LINE (104)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @appendInstructionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_203 ("") ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_204 ((PMUInt32) 79U) ;
  //--- @literalCharExpressionForGeneration
  GALGAS_char temp_205 (TO_UNICODE (42)) ;
  GALGAS_string temp_206 (temp_203.reader_stringByLeftAndRightPadding (temp_204, temp_205 COMMA_SOURCE_FILE_AT_LINE (112))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_207 ("\n"
    "\n") ;
  GALGAS_string temp_208 (temp_206.operator_concat (temp_207 COMMA_SOURCE_FILE_AT_LINE (112))) ;
  outArgument_outListFileContents.dotAssign_operation (temp_208 COMMA_SOURCE_FILE_AT_LINE (112)) ;
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


