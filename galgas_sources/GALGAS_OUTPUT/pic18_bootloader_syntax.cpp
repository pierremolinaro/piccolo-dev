//---------------------------------------------------------------------------*
//                                                                           *
//                    File 'pic18_bootloader_syntax.cpp'                     *
//             Generated by version GALGAS_BETA_VERSION [debug]              *
//                     october 23th, 2010, at 13h39'47"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "pic18_bootloader_syntax.h"
#include "galgas/C_galgas_CLI_Options.h"

//---------------------------------------------------------------------------*

#include "piccoloDevice_grammar.h"
#include "piccolo_options.h"
#include "piccolo_grammar.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "pic18_bootloader_syntax.gSyntax", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

void cParser_pic_31__38__5F_bootloader_5F_syntax::rule_pic_31__38__5F_bootloader_5F_syntax_parse_5F_bootloader_i0_ (GALGAS_lstring & outArgument_outBootloaderName,
                                                                                                                    GALGAS_lstring & outArgument_outDeviceName,
                                                                                                                    GALGAS_routineDeclarationList & outArgument_outBootloaderRoutineDeclarationList,
                                                                                                                    GALGAS_bootloaderReservedRAMmap & outArgument_outBootloaderReservedRAMmap,
                                                                                                                    GALGAS_luint & outArgument_outReservedRomSize,
                                                                                                                    GALGAS_routineDeclarationList & outArgument_outUserRoutineDeclarationList,
                                                                                                                    GALGAS_ramDefinitionList & outArgument_outSharedRamDefinitionList,
                                                                                                                    GALGAS_string & outArgument_outListFileContents,
                                                                                                                    GALGAS_piccoloDeviceModel & outArgument_outPiccoloDeviceModel,
                                                                                                                    GALGAS_uint & outArgument_outAccessBankSplitOffset,
                                                                                                                    GALGAS_ramBankTable & outArgument_outRamBank,
                                                                                                                    GALGAS_registerTable & outArgument_outRegisterTable,
                                                                                                                    C_Lexique_piccolo_5F_lexique * inCompiler) {
  outArgument_outBootloaderName.drop () ; // Release 'out' argument
  outArgument_outDeviceName.drop () ; // Release 'out' argument
  outArgument_outBootloaderRoutineDeclarationList.drop () ; // Release 'out' argument
  outArgument_outBootloaderReservedRAMmap.drop () ; // Release 'out' argument
  outArgument_outReservedRomSize.drop () ; // Release 'out' argument
  outArgument_outUserRoutineDeclarationList.drop () ; // Release 'out' argument
  outArgument_outSharedRamDefinitionList.drop () ; // Release 'out' argument
  outArgument_outListFileContents.drop () ; // Release 'out' argument
  outArgument_outPiccoloDeviceModel.drop () ; // Release 'out' argument
  outArgument_outAccessBankSplitOffset.drop () ; // Release 'out' argument
  outArgument_outRamBank.drop () ; // Release 'out' argument
  outArgument_outRegisterTable.drop () ; // Release 'out' argument
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_pic_31__38_) COMMA_SOURCE_FILE_AT_LINE (64)) ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_bootloader) COMMA_SOURCE_FILE_AT_LINE (65)) ;
  //-------- @terminalCheckInstructionForGeneration
  outArgument_outBootloaderName = inCompiler->synthetizedAttribute_tokenString () ;
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_identifier) COMMA_SOURCE_FILE_AT_LINE (66)) ;
  //-------- @terminalCheckInstructionForGeneration
  outArgument_outDeviceName = inCompiler->synthetizedAttribute_tokenString () ;
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_literal_5F_string) COMMA_SOURCE_FILE_AT_LINE (67)) ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7B_) COMMA_SOURCE_FILE_AT_LINE (69)) ;
  //-------- @assignmentInstructionForGeneration
  GALGAS_routineDeclarationList temp_0 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (70))) ;
  outArgument_outBootloaderRoutineDeclarationList = temp_0 ;
  //-------- @assignmentInstructionForGeneration
  GALGAS_bootloaderReservedRAMmap temp_1 (GALGAS_bootloaderReservedRAMmap::constructor_emptyMap (SOURCE_FILE_AT_LINE (71))) ;
  outArgument_outBootloaderReservedRAMmap = temp_1 ;
  //-------- @assignmentInstructionForGeneration
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_2 ((PMUInt32) 0U) ;
  GALGAS_location temp_3 (inCompiler->here ()) ;
  GALGAS_luint temp_4 (GALGAS_luint::constructor_new (temp_2, temp_3 COMMA_SOURCE_FILE_AT_LINE (72))) ;
  outArgument_outReservedRomSize = temp_4 ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_5 = true ;
  while (repeatFlag_5) {
    switch (select_pic_31__38__5F_bootloader_5F_syntax_0 (inCompiler)) {
    case 2: {
      //-------- @nonterminalInstructionForGeneration
      nt_routine_5F_declaration_ (outArgument_outBootloaderRoutineDeclarationList, inCompiler) ;
    } break ;
    case 3: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_rom) COMMA_SOURCE_FILE_AT_LINE (77)) ;
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__3D_) COMMA_SOURCE_FILE_AT_LINE (78)) ;
      //-------- @terminalCheckInstructionForGeneration
      GALGAS_luint var_rs = inCompiler->synthetizedAttribute_uint_33__32_value () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_integer) COMMA_SOURCE_FILE_AT_LINE (79)) ;
      //-------- @ifInstructionForGeneration
      //--- @notEqualExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_uint temp_6 (outArgument_outReservedRomSize.reader_uint (SOURCE_FILE_AT_LINE (80))) ;
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_7 ((PMUInt32) 0U) ;
      GALGAS_bool temp_8 (kIsNotEqual, temp_6.objectCompare (temp_7)) ;
      if (temp_8.isValidAndTrue ()) {
        //-------- @errorInstructionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_9 ("ROM size already defined") ;
        GALGAS_location location_10 (var_rs.reader_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_10, temp_9 COMMA_SOURCE_FILE_AT_LINE (81)) ;
      }else{
        //-------- @ifInstructionForGeneration
        //--- @equalExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_uint temp_11 (var_rs.reader_uint (SOURCE_FILE_AT_LINE (82))) ;
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_12 ((PMUInt32) 0U) ;
        GALGAS_bool temp_13 (kIsEqual, temp_11.objectCompare (temp_12)) ;
        if (temp_13.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_14 ("ROM size should be > 0") ;
          GALGAS_location location_15 (var_rs.reader_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_15, temp_14 COMMA_SOURCE_FILE_AT_LINE (83)) ;
        }else{
          //-------- @ifInstructionForGeneration
          //--- @notEqualExpressionForGeneration
          //--- @moduloExpressionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGAS_uint temp_16 (var_rs.reader_uint (SOURCE_FILE_AT_LINE (84))) ;
          //--- @literalUIntExpressionForGeneration
          GALGAS_uint temp_17 ((PMUInt32) 8U) ;
          GALGAS_uint temp_18 (temp_16.modulo_operation (temp_17, inCompiler COMMA_SOURCE_FILE_AT_LINE (84))) ;
          //--- @literalUIntExpressionForGeneration
          GALGAS_uint temp_19 ((PMUInt32) 0U) ;
          GALGAS_bool temp_20 (kIsNotEqual, temp_18.objectCompare (temp_19)) ;
          if (temp_20.isValidAndTrue ()) {
            //-------- @errorInstructionForGeneration
            //--- @literalStringExpressionForGeneration
            GALGAS_string temp_21 ("ROM size should be a multiple of 8") ;
            GALGAS_location location_22 (var_rs.reader_location (HERE)) ; // Implicit use of 'location' reader
            inCompiler->emitSemanticError (location_22, temp_21 COMMA_SOURCE_FILE_AT_LINE (85)) ;
          }else{
            //-------- @assignmentInstructionForGeneration
            outArgument_outReservedRomSize = var_rs ;
          }
        }
      }
    } break ;
    case 4: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_ram) COMMA_SOURCE_FILE_AT_LINE (90)) ;
      //-------- @terminalCheckInstructionForGeneration
      GALGAS_lstring var_bankName = inCompiler->synthetizedAttribute_tokenString () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_identifier) COMMA_SOURCE_FILE_AT_LINE (91)) ;
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__3D_) COMMA_SOURCE_FILE_AT_LINE (92)) ;
      //-------- @terminalCheckInstructionForGeneration
      GALGAS_luint var_rs = inCompiler->synthetizedAttribute_uint_33__32_value () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_integer) COMMA_SOURCE_FILE_AT_LINE (93)) ;
      //-------- @ifInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_23 (var_bankName.reader_string (SOURCE_FILE_AT_LINE (94))) ;
      GALGAS_bool temp_24 (outArgument_outBootloaderReservedRAMmap.reader_hasKey (temp_23 COMMA_SOURCE_FILE_AT_LINE (94))) ;
      if (temp_24.isValidAndTrue ()) {
        //-------- @errorInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_25 ("RAM size already defined for '") ;
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_26 (var_bankName.reader_string (SOURCE_FILE_AT_LINE (95))) ;
        GALGAS_string temp_27 (temp_25.operator_concat (temp_26 COMMA_SOURCE_FILE_AT_LINE (95))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_28 ("' bank") ;
        GALGAS_string temp_29 (temp_27.operator_concat (temp_28 COMMA_SOURCE_FILE_AT_LINE (95))) ;
        GALGAS_location location_30 (var_rs.reader_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_30, temp_29 COMMA_SOURCE_FILE_AT_LINE (95)) ;
      }else{
        //-------- @ifInstructionForGeneration
        //--- @equalExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_uint temp_31 (var_rs.reader_uint (SOURCE_FILE_AT_LINE (96))) ;
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_32 ((PMUInt32) 0U) ;
        GALGAS_bool temp_33 (kIsEqual, temp_31.objectCompare (temp_32)) ;
        if (temp_33.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_34 ("RAM size should be > 0") ;
          GALGAS_location location_35 (var_rs.reader_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_35, temp_34 COMMA_SOURCE_FILE_AT_LINE (97)) ;
        }else{
          { //-------- @modifierCallInstructionForGeneration
          outArgument_outBootloaderReservedRAMmap.modifier_insertKey (var_bankName, var_rs, inCompiler COMMA_SOURCE_FILE_AT_LINE (99)) ;
          } //-------- END @typeMethodInstructionForGeneration
        }
      }
    } break ;
    default:
      repeatFlag_5 = false ;
      break ;
    }
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7D_) COMMA_SOURCE_FILE_AT_LINE (102)) ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7B_) COMMA_SOURCE_FILE_AT_LINE (104)) ;
  //-------- @assignmentInstructionForGeneration
  GALGAS_routineDeclarationList temp_36 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (105))) ;
  outArgument_outUserRoutineDeclarationList = temp_36 ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_37 = true ;
  while (repeatFlag_37) {
    switch (select_pic_31__38__5F_bootloader_5F_syntax_1 (inCompiler)) {
    case 2: {
      //-------- @nonterminalInstructionForGeneration
      nt_routine_5F_declaration_ (outArgument_outUserRoutineDeclarationList, inCompiler) ;
    } break ;
    default:
      repeatFlag_37 = false ;
      break ;
    }
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7D_) COMMA_SOURCE_FILE_AT_LINE (110)) ;
  //-------- @assignmentInstructionForGeneration
  GALGAS_ramDefinitionList temp_38 (GALGAS_ramDefinitionList::constructor_emptyList (SOURCE_FILE_AT_LINE (112))) ;
  outArgument_outSharedRamDefinitionList = temp_38 ;
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7B_) COMMA_SOURCE_FILE_AT_LINE (113)) ;
  //-------- @repeatInstructionForGeneration
  bool repeatFlag_39 = true ;
  while (repeatFlag_39) {
    switch (select_pic_31__38__5F_bootloader_5F_syntax_2 (inCompiler)) {
    case 2: {
      //-------- @nonterminalInstructionForGeneration
      nt_ram_5F_definition_ (outArgument_outSharedRamDefinitionList, inCompiler) ;
    } break ;
    default:
      repeatFlag_39 = false ;
      break ;
    }
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__7D_) COMMA_SOURCE_FILE_AT_LINE (118)) ;
  { //-------- @routineCallInstructionForGeneration
  GALGAS_string temp_40 (GALGAS_string::constructor_stringWithSourceFilePath (inCompiler COMMA_SOURCE_FILE_AT_LINE (121))) ;
  routine_pic_31__38_BootloaderSpecificationAnalysis (temp_40, outArgument_outBootloaderName, outArgument_outDeviceName, outArgument_outBootloaderRoutineDeclarationList, outArgument_outBootloaderReservedRAMmap, outArgument_outReservedRomSize, outArgument_outUserRoutineDeclarationList, outArgument_outSharedRamDefinitionList, outArgument_outListFileContents, outArgument_outPiccoloDeviceModel, outArgument_outAccessBankSplitOffset, outArgument_outRamBank, outArgument_outRegisterTable, inCompiler COMMA_SOURCE_FILE_AT_LINE (120)) ;
  } //-------- @routineCallInstructionForGeneration
}

void cParser_pic_31__38__5F_bootloader_5F_syntax::rule_pic_31__38__5F_bootloader_5F_syntax_start_5F_symbol_i1_ (C_Lexique_piccolo_5F_lexique * inCompiler) {
  //-------- @localVariableDeclarationForGeneration
  GALGAS_lstring var_bootloaderName ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_lstring var_deviceName ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_bootloaderRoutineDeclarationList ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_bootloaderReservedRAMmap var_bootloaderReservedRAMmap ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_luint var_reservedRomSize ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_userRoutineDeclarationList ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_ramDefinitionList var_sharedRamDefinitionList ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_string var_listFileContents ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_piccoloDeviceModel var_piccoloDeviceModel ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_uint var_accessBankSplitOffset ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_ramBankTable var_ramBank ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_registerTable var_registerTable ;
  //-------- @nonterminalInstructionForGeneration
  nt_parse_5F_bootloader_ (var_bootloaderName, var_deviceName, var_bootloaderRoutineDeclarationList, var_bootloaderReservedRAMmap, var_reservedRomSize, var_userRoutineDeclarationList, var_sharedRamDefinitionList, var_listFileContents, var_piccoloDeviceModel, var_accessBankSplitOffset, var_ramBank, var_registerTable, inCompiler) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @concatExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_0 (GALGAS_string::constructor_stringWithSourceFilePath (inCompiler COMMA_SOURCE_FILE_AT_LINE (167))) ;
  GALGAS_string temp_1 (temp_0.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (167))) ;
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_2 (".list") ;
  GALGAS_string temp_3 (temp_1.operator_concat (temp_2 COMMA_SOURCE_FILE_AT_LINE (167))) ;
  GALGAS_string var_listingFile (temp_3) ;
  //-------- @ifInstructionForGeneration
  //--- @andExpressionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_4 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (168))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_5 ((PMUInt32) 0U) ;
  GALGAS_bool temp_6 (kIsEqual, temp_4.objectCompare (temp_5)) ;
  //--- @optionValueExpressionForGeneration
  GALGAS_bool temp_7 (gOption_piccolo_5F_options_ouputListingFile.mValue) ;
  GALGAS_bool temp_8 (temp_6.operator_and (temp_7 COMMA_SOURCE_FILE_AT_LINE (168))) ;
  if (temp_8.isValidAndTrue ()) {
    //-------- @methodCallInstructionForGeneration
    GALGAS_bool joker_5411_0 ; // Joker input parameter
    var_listFileContents.method_writeToFileWhenDifferentContents (var_listingFile, joker_5411_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (169)) ;
    //-------- END @methodCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @strictGreaterExpressionForGeneration
  GALGAS_uint temp_9 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (171))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_10 ((PMUInt32) 0U) ;
  GALGAS_bool temp_11 (kIsStrictSup, temp_9.objectCompare (temp_10)) ;
  if (temp_11.isValidAndTrue ()) {
    { //-------- @typeMethodInstructionForGeneration
    GALGAS_string::class_method_deleteFileIfExists (var_listingFile, inCompiler COMMA_SOURCE_FILE_AT_LINE (172)) ;
    } //-------- @routineCallInstructionForGeneration
  }
}

void cParser_pic_31__38__5F_bootloader_5F_syntax::rule_pic_31__38__5F_bootloader_5F_syntax_start_5F_symbol_i1_importBootloaderSpecification (GALGAS_piccoloDeviceModel & outArgument_outPiccoloDeviceModel,
                                                                                                                                             GALGAS_uint & outArgument_outAccessBankSplitOffset,
                                                                                                                                             GALGAS_ramBankTable & outArgument_outRamBank,
                                                                                                                                             GALGAS_registerTable & outArgument_outRegisterTable,
                                                                                                                                             GALGAS_bootloaderReservedRAMmap & outArgument_outBootloaderReservedRAMmap,
                                                                                                                                             GALGAS_routineDeclarationList & outArgument_outBootloaderRoutineDeclarationList,
                                                                                                                                             GALGAS_routineDeclarationList & outArgument_outUserRoutineDeclarationList,
                                                                                                                                             GALGAS_luint & outArgument_outBootloaderReservedROMsize,
                                                                                                                                             C_Lexique_piccolo_5F_lexique * inCompiler) {
  outArgument_outPiccoloDeviceModel.drop () ; // Release 'out' argument
  outArgument_outAccessBankSplitOffset.drop () ; // Release 'out' argument
  outArgument_outRamBank.drop () ; // Release 'out' argument
  outArgument_outRegisterTable.drop () ; // Release 'out' argument
  outArgument_outBootloaderReservedRAMmap.drop () ; // Release 'out' argument
  outArgument_outBootloaderRoutineDeclarationList.drop () ; // Release 'out' argument
  outArgument_outUserRoutineDeclarationList.drop () ; // Release 'out' argument
  outArgument_outBootloaderReservedROMsize.drop () ; // Release 'out' argument
  //-------- @localVariableDeclarationForGeneration
  GALGAS_lstring var_bootloaderName ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_lstring var_deviceName ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_ramDefinitionList var_sharedRamDefinitionList ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_string var_listFileContents ;
  //-------- @nonterminalInstructionForGeneration
  nt_parse_5F_bootloader_ (var_bootloaderName, var_deviceName, outArgument_outBootloaderRoutineDeclarationList, outArgument_outBootloaderReservedRAMmap, outArgument_outBootloaderReservedROMsize, outArgument_outUserRoutineDeclarationList, var_sharedRamDefinitionList, var_listFileContents, outArgument_outPiccoloDeviceModel, outArgument_outAccessBankSplitOffset, outArgument_outRamBank, outArgument_outRegisterTable, inCompiler) ;
}

void cParser_pic_31__38__5F_bootloader_5F_syntax::rule_pic_31__38__5F_bootloader_5F_syntax_routine_5F_declaration_i2_ (GALGAS_routineDeclarationList & ioArgument_ioRoutineDefinitionList,
                                                                                                                       C_Lexique_piccolo_5F_lexique * inCompiler) {
  //-------- @localVariableDeclarationForGeneration
  GALGAS_bool var_noreturn ;
  //-------- @selectInstructionForGeneration
  switch (select_pic_31__38__5F_bootloader_5F_syntax_3 (inCompiler)) {
  case 1: {
    //-------- @assignmentInstructionForGeneration
    //--- @falseExpressionForGeneration
    GALGAS_bool temp_0 (false) ;
    var_noreturn = temp_0 ;
  } break ;
  case 2: {
    //-------- @terminalCheckInstructionForGeneration
    inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_noreturn) COMMA_SOURCE_FILE_AT_LINE (213)) ;
    //-------- @assignmentInstructionForGeneration
    //--- @trueExpressionForGeneration
    GALGAS_bool temp_1 (true) ;
    var_noreturn = temp_1 ;
  } break ;
  default:
    break ;
  }
  //-------- @terminalCheckInstructionForGeneration
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_routine) COMMA_SOURCE_FILE_AT_LINE (216)) ;
  //-------- @terminalCheckInstructionForGeneration
  GALGAS_lstring var_routineName = inCompiler->synthetizedAttribute_tokenString () ;
  inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_identifier) COMMA_SOURCE_FILE_AT_LINE (217)) ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_luint var_requiredBank ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_luint var_returnedBank ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_bool var_preservesBank ;
  //-------- @selectInstructionForGeneration
  switch (select_pic_31__38__5F_bootloader_5F_syntax_4 (inCompiler)) {
  case 1: {
    //-------- @assignmentInstructionForGeneration
    GALGAS_uint temp_2 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (222))) ;
    GALGAS_location temp_3 (inCompiler->here ()) ;
    GALGAS_luint temp_4 (GALGAS_luint::constructor_new (temp_2, temp_3 COMMA_SOURCE_FILE_AT_LINE (222))) ;
    var_requiredBank = temp_4 ;
    //-------- @assignmentInstructionForGeneration
    GALGAS_uint temp_5 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (223))) ;
    GALGAS_location temp_6 (inCompiler->here ()) ;
    GALGAS_luint temp_7 (GALGAS_luint::constructor_new (temp_5, temp_6 COMMA_SOURCE_FILE_AT_LINE (223))) ;
    var_returnedBank = temp_7 ;
    //-------- @assignmentInstructionForGeneration
    //--- @falseExpressionForGeneration
    GALGAS_bool temp_8 (false) ;
    var_preservesBank = temp_8 ;
  } break ;
  case 2: {
    //-------- @terminalCheckInstructionForGeneration
    inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_bank) COMMA_SOURCE_FILE_AT_LINE (226)) ;
    //-------- @terminalCheckInstructionForGeneration
    inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken__3A_) COMMA_SOURCE_FILE_AT_LINE (227)) ;
    //-------- @selectInstructionForGeneration
    switch (select_pic_31__38__5F_bootloader_5F_syntax_5 (inCompiler)) {
    case 1: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_preserved) COMMA_SOURCE_FILE_AT_LINE (229)) ;
      //-------- @ifInstructionForGeneration
      if (var_noreturn.isValidAndTrue ()) {
        //-------- @errorInstructionForGeneration
        GALGAS_location temp_9 (inCompiler->here ()) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_10 ("a \"noreturn\" routine cannot accept \"bank:preserved\" setting") ;
        inCompiler->emitSemanticError (temp_9, temp_10 COMMA_SOURCE_FILE_AT_LINE (231)) ;
      }
      //-------- @assignmentInstructionForGeneration
      //--- @trueExpressionForGeneration
      GALGAS_bool temp_11 (true) ;
      var_preservesBank = temp_11 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_uint temp_12 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (234))) ;
      GALGAS_location temp_13 (inCompiler->here ()) ;
      GALGAS_luint temp_14 (GALGAS_luint::constructor_new (temp_12, temp_13 COMMA_SOURCE_FILE_AT_LINE (234))) ;
      var_requiredBank = temp_14 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_uint temp_15 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (235))) ;
      GALGAS_location temp_16 (inCompiler->here ()) ;
      GALGAS_luint temp_17 (GALGAS_luint::constructor_new (temp_15, temp_16 COMMA_SOURCE_FILE_AT_LINE (235))) ;
      var_returnedBank = temp_17 ;
    } break ;
    case 2: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_requires) COMMA_SOURCE_FILE_AT_LINE (237)) ;
      //-------- @terminalCheckInstructionForGeneration
      var_requiredBank = inCompiler->synthetizedAttribute_uint_33__32_value () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_integer) COMMA_SOURCE_FILE_AT_LINE (238)) ;
      //-------- @assignmentInstructionForGeneration
      //--- @falseExpressionForGeneration
      GALGAS_bool temp_18 (false) ;
      var_preservesBank = temp_18 ;
      //-------- @selectInstructionForGeneration
      switch (select_pic_31__38__5F_bootloader_5F_syntax_6 (inCompiler)) {
      case 1: {
        //-------- @assignmentInstructionForGeneration
        GALGAS_uint temp_19 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (241))) ;
        GALGAS_location temp_20 (inCompiler->here ()) ;
        GALGAS_luint temp_21 (GALGAS_luint::constructor_new (temp_19, temp_20 COMMA_SOURCE_FILE_AT_LINE (241))) ;
        var_returnedBank = temp_21 ;
      } break ;
      case 2: {
        //-------- @terminalCheckInstructionForGeneration
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_ensures) COMMA_SOURCE_FILE_AT_LINE (243)) ;
        //-------- @terminalCheckInstructionForGeneration
        var_returnedBank = inCompiler->synthetizedAttribute_uint_33__32_value () ;
        inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_integer) COMMA_SOURCE_FILE_AT_LINE (244)) ;
        //-------- @ifInstructionForGeneration
        if (var_noreturn.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          GALGAS_location temp_22 (inCompiler->here ()) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_23 ("a \"noreturn\" routine cannot accept \"bank:returned\" setting") ;
          inCompiler->emitSemanticError (temp_22, temp_23 COMMA_SOURCE_FILE_AT_LINE (246)) ;
        }
      } break ;
      default:
        break ;
      }
    } break ;
    case 3: {
      //-------- @terminalCheckInstructionForGeneration
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_ensures) COMMA_SOURCE_FILE_AT_LINE (250)) ;
      //-------- @terminalCheckInstructionForGeneration
      var_returnedBank = inCompiler->synthetizedAttribute_uint_33__32_value () ;
      inCompiler->acceptTerminal (ACCEPT_TERMINAL (C_Lexique_piccolo_5F_lexique::kToken_integer) COMMA_SOURCE_FILE_AT_LINE (251)) ;
      //-------- @ifInstructionForGeneration
      if (var_noreturn.isValidAndTrue ()) {
        //-------- @errorInstructionForGeneration
        GALGAS_location temp_24 (inCompiler->here ()) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_25 ("a \"noreturn\" routine cannot accept \"bank:returned\" setting") ;
        inCompiler->emitSemanticError (temp_24, temp_25 COMMA_SOURCE_FILE_AT_LINE (253)) ;
      }
      //-------- @assignmentInstructionForGeneration
      //--- @falseExpressionForGeneration
      GALGAS_bool temp_26 (false) ;
      var_preservesBank = temp_26 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_uint temp_27 (GALGAS_uint::constructor_max (SOURCE_FILE_AT_LINE (256))) ;
      GALGAS_location temp_28 (inCompiler->here ()) ;
      GALGAS_luint temp_29 (GALGAS_luint::constructor_new (temp_27, temp_28 COMMA_SOURCE_FILE_AT_LINE (256))) ;
      var_requiredBank = temp_29 ;
    } break ;
    default:
      break ;
    }
  } break ;
  default:
    break ;
  }
  //-------- @addAssignInstructionForGeneration
  ioArgument_ioRoutineDefinitionList.addAssign_operation (var_routineName, var_requiredBank, var_returnedBank, var_preservesBank, var_noreturn COMMA_SOURCE_FILE_AT_LINE (260)) ;
}

//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


