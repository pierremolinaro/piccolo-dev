//---------------------------------------------------------------------------*
//                                                                           *
//                        File 'pic18_semantics.cpp'                         *
//             Generated by version GALGAS_BETA_VERSION [debug]              *
//                     october 23th, 2010, at 13h39'51"                      *
//                                                                           *
//---------------------------------------------------------------------------*

//--- START OF USER ZONE 1


//--- END OF USER ZONE 1

#include "version_libpm.h"
#if CURRENT_LIBPM_VERSION != VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER
  #error "This file has been compiled with a version of GALGAS that uses libpm version VERSION_OF_LIBPM_USED_BY_GALGAS_COMPILER, different than the current version (CURRENT_LIBPM_VERSION) of libpm"
#endif

//---------------------------------------------------------------------------*

#include "pic18_semantics.h"
#include "galgas-utilities/C_Compiler.h"
#include "galgas/C_galgas_CLI_Options.h"

//---------------------------------------------------------------------------*

#include "piccoloDevice_grammar.h"
#include "piccolo_options.h"
#include "piccolo_grammar.h"

//---------------------------------------------------------------------------*

#ifndef DO_NOT_GENERATE_CHECKINGS
  #define SOURCE_FILE_AT_LINE(line) "pic18_semantics.gSemantics", line
  #define COMMA_SOURCE_FILE_AT_LINE(line) , SOURCE_FILE_AT_LINE(line)
#else
  #define SOURCE_FILE_AT_LINE(line) 
  #define COMMA_SOURCE_FILE_AT_LINE(line) 
#endif

//---------------------------------------------------------------------------*
//                                                                           *
//              Routine 'pic18_build_listing_of_generated_code'              *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_pic_31__38__5F_build_5F_listing_5F_of_5F_generated_5F_code (const GALGAS_ipic_31__38__5F_instructionList constinArgument_inInstructionList,
                                                                         GALGAS_string & ioArgument_ioListFileContents,
                                                                         C_Compiler * inCompiler
                                                                         COMMA_UNUSED_LOCATION_ARGS) {
  //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
  GALGAS_ipic_31__38__5F_symbolTable var_symbolTable (GALGAS_ipic_31__38__5F_symbolTable::constructor_emptyMap (SOURCE_FILE_AT_LINE (30))) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_0 ((PMUInt32) 0U) ;
  GALGAS_uint var_currentAddress (temp_0) ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_ipic_31__38__5F_instructionList enumerator_1498 (constinArgument_inInstructionList, true) ;
  //--- simple foreach instruction
  while (enumerator_1498.hasCurrentObject ()) {
    //-------- @methodCallInstructionForGeneration
    callCategoryMethod_enterLabelAtAddress ((const cPtr_ipic_31__38__5F_instruction *) enumerator_1498.current_mInstruction ().ptr (), var_symbolTable, var_currentAddress, inCompiler COMMA_SOURCE_FILE_AT_LINE (33)) ;
    //-------- END @methodCallInstructionForGeneration
    enumerator_1498.gotoNextObject () ;
  }
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_1 ("*******************************************************************************\n") ;
  ioArgument_ioListFileContents.dotAssign_operation (temp_1 COMMA_SOURCE_FILE_AT_LINE (35)) ;
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_2 ("*                              GENERATED CODE                                 *\n") ;
  ioArgument_ioListFileContents.dotAssign_operation (temp_2 COMMA_SOURCE_FILE_AT_LINE (36)) ;
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_3 ("*******************************************************************************\n"
    "\n") ;
  ioArgument_ioListFileContents.dotAssign_operation (temp_3 COMMA_SOURCE_FILE_AT_LINE (37)) ;
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_4 (" Line  Address  Code      Assembly\n") ;
  ioArgument_ioListFileContents.dotAssign_operation (temp_4 COMMA_SOURCE_FILE_AT_LINE (38)) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_5 ((PMUInt32) 0U) ;
  GALGAS_uint var_bccLabelIndex (temp_5) ;
  //-------- @assignmentInstructionForGeneration
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_6 ((PMUInt32) 0U) ;
  var_currentAddress = temp_6 ;
  //-------- @foreachInstructionForGeneration
  cEnumerator_ipic_31__38__5F_instructionList enumerator_2070 (constinArgument_inInstructionList, true) ;
  //--- simple foreach instruction
  GALGAS_uint index_2064 ((PMUInt32) 0) ;
  while (enumerator_2070.hasCurrentObject ()) {
    //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
    GALGAS_stringlist var_lineList (GALGAS_stringlist::constructor_emptyList (SOURCE_FILE_AT_LINE (42))) ;
    //-------- @methodCallInstructionForGeneration
    callCategoryMethod_buildAssemblyCode ((const cPtr_ipic_31__38__5F_instruction *) enumerator_2070.current_mInstruction ().ptr (), var_lineList, var_bccLabelIndex, inCompiler COMMA_SOURCE_FILE_AT_LINE (43)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @localVariableOrConstantDeclarationWithConstructorCallForGeneration
    GALGAS_emittedCodeList var_code (GALGAS_emittedCodeList::constructor_emptyList (SOURCE_FILE_AT_LINE (44))) ;
    //-------- @methodCallInstructionForGeneration
    callCategoryMethod_generateBinaryCodeAtAddress ((const cPtr_ipic_31__38__5F_instruction *) enumerator_2070.current_mInstruction ().ptr (), var_symbolTable, var_currentAddress, var_code, inCompiler COMMA_SOURCE_FILE_AT_LINE (45)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @loopInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_uint temp_7 (var_lineList.reader_length (SOURCE_FILE_AT_LINE (46))) ;
    if (temp_7.isValid ()) {
      PMUInt32 variant_2319 = temp_7.uintValue () ;
      bool loop_2319 = true ;
      while (loop_2319) {
        //--- @strictGreaterExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_uint temp_8 (var_lineList.reader_length (SOURCE_FILE_AT_LINE (47))) ;
        //--- @readerCallExpressionForGeneration
        GALGAS_uint temp_9 (var_code.reader_length (SOURCE_FILE_AT_LINE (47))) ;
        GALGAS_bool temp_10 (kIsStrictSup, temp_8.objectCompare (temp_9)) ;
        loop_2319 = temp_10.isValid () ;
        if (loop_2319) {
          loop_2319 = temp_10.boolValue () ;
        }
        if (loop_2319 && (0 == variant_2319)) {
          loop_2319 = false ;
          inCompiler->loopRunTimeVariantError (SOURCE_FILE_AT_LINE (46)) ;
        }
        if (loop_2319) {
          variant_2319 -- ;
          //-------- @addAssignInstructionForGeneration
          GALGAS_uintlist temp_11 (GALGAS_uintlist::constructor_emptyList (SOURCE_FILE_AT_LINE (48))) ;
          var_code.addAssign_operation (temp_11 COMMA_SOURCE_FILE_AT_LINE (48)) ;
        }
      }
    }
    //-------- @ifInstructionForGeneration
    //--- @notEqualExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_uint temp_12 (var_lineList.reader_length (SOURCE_FILE_AT_LINE (50))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_uint temp_13 (var_code.reader_length (SOURCE_FILE_AT_LINE (50))) ;
    GALGAS_bool temp_14 (kIsNotEqual, temp_12.objectCompare (temp_13)) ;
    if (temp_14.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      GALGAS_location temp_15 (inCompiler->here ()) ;
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_16 ("internal error for listing line ") ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_17 (index_2064.reader_string (SOURCE_FILE_AT_LINE (51))) ;
      GALGAS_string temp_18 (temp_16.operator_concat (temp_17 COMMA_SOURCE_FILE_AT_LINE (51))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_19 (" : ") ;
      GALGAS_string temp_20 (temp_18.operator_concat (temp_19 COMMA_SOURCE_FILE_AT_LINE (52))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_uint temp_21 (var_lineList.reader_length (SOURCE_FILE_AT_LINE (52))) ;
      GALGAS_string temp_22 (temp_21.reader_string (SOURCE_FILE_AT_LINE (52))) ;
      GALGAS_string temp_23 (temp_20.operator_concat (temp_22 COMMA_SOURCE_FILE_AT_LINE (52))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_24 (" != ") ;
      GALGAS_string temp_25 (temp_23.operator_concat (temp_24 COMMA_SOURCE_FILE_AT_LINE (52))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_uint temp_26 (var_code.reader_length (SOURCE_FILE_AT_LINE (52))) ;
      GALGAS_string temp_27 (temp_26.reader_string (SOURCE_FILE_AT_LINE (52))) ;
      GALGAS_string temp_28 (temp_25.operator_concat (temp_27 COMMA_SOURCE_FILE_AT_LINE (52))) ;
      inCompiler->emitSemanticError (temp_15, temp_28 COMMA_SOURCE_FILE_AT_LINE (51)) ;
    }
    //-------- @foreachInstructionForGeneration
    cEnumerator_stringlist enumerator_2675 (var_lineList, true) ;
    cEnumerator_emittedCodeList enumerator_2683 (var_code, true) ;
    //--- simple foreach instruction
    while (enumerator_2675.hasCurrentObject () && enumerator_2683.hasCurrentObject ()) {
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_29 ("") ;
      GALGAS_string var_codeString (temp_29) ;
      //-------- @foreachInstructionForGeneration
      cEnumerator_uintlist enumerator_2747 (enumerator_2683.current_mCode (), true) ;
      //--- simple foreach instruction
      while (enumerator_2747.hasCurrentObject ()) {
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_30 (enumerator_2747.current_mValue ().reader_xString (SOURCE_FILE_AT_LINE (57))) ;
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_31 ((PMUInt32) 4U) ;
        //--- @literalCharExpressionForGeneration
        GALGAS_char temp_32 (TO_UNICODE (48)) ;
        GALGAS_string temp_33 (temp_30.reader_stringByLeftPadding (temp_31, temp_32 COMMA_SOURCE_FILE_AT_LINE (57))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_34 (" ") ;
        GALGAS_string temp_35 (temp_33.operator_concat (temp_34 COMMA_SOURCE_FILE_AT_LINE (57))) ;
        var_codeString.dotAssign_operation (temp_35 COMMA_SOURCE_FILE_AT_LINE (57)) ;
        enumerator_2747.gotoNextObject () ;
      }
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_36 (index_2064.reader_string (SOURCE_FILE_AT_LINE (59))) ;
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_37 ((PMUInt32) 5U) ;
      //--- @literalCharExpressionForGeneration
      GALGAS_char temp_38 (TO_UNICODE (32)) ;
      GALGAS_string temp_39 (temp_36.reader_stringByLeftPadding (temp_37, temp_38 COMMA_SOURCE_FILE_AT_LINE (59))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_40 ("  ") ;
      GALGAS_string temp_41 (temp_39.operator_concat (temp_40 COMMA_SOURCE_FILE_AT_LINE (59))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_42 (var_currentAddress.reader_xString (SOURCE_FILE_AT_LINE (60))) ;
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_43 ((PMUInt32) 6U) ;
      //--- @literalCharExpressionForGeneration
      GALGAS_char temp_44 (TO_UNICODE (48)) ;
      GALGAS_string temp_45 (temp_42.reader_stringByLeftPadding (temp_43, temp_44 COMMA_SOURCE_FILE_AT_LINE (60))) ;
      GALGAS_string temp_46 (temp_41.operator_concat (temp_45 COMMA_SOURCE_FILE_AT_LINE (60))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_47 (" : ") ;
      GALGAS_string temp_48 (temp_46.operator_concat (temp_47 COMMA_SOURCE_FILE_AT_LINE (60))) ;
      //--- @readerCallExpressionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_49 ((PMUInt32) 10U) ;
      //--- @literalCharExpressionForGeneration
      GALGAS_char temp_50 (TO_UNICODE (32)) ;
      GALGAS_string temp_51 (var_codeString.reader_stringByRightPadding (temp_49, temp_50 COMMA_SOURCE_FILE_AT_LINE (61))) ;
      GALGAS_string temp_52 (temp_48.operator_concat (temp_51 COMMA_SOURCE_FILE_AT_LINE (61))) ;
      GALGAS_string temp_53 (temp_52.operator_concat (enumerator_2675.current_mValue () COMMA_SOURCE_FILE_AT_LINE (62))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_54 ("\n") ;
      GALGAS_string temp_55 (temp_53.operator_concat (temp_54 COMMA_SOURCE_FILE_AT_LINE (62))) ;
      ioArgument_ioListFileContents.dotAssign_operation (temp_55 COMMA_SOURCE_FILE_AT_LINE (59)) ;
      //-------- @assignmentInstructionForGeneration
      //--- @addExpressionForGeneration
      //--- @multiplicationExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_uint temp_56 (enumerator_2683.current_mCode ().reader_length (SOURCE_FILE_AT_LINE (63))) ;
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_57 ((PMUInt32) 2U) ;
      GALGAS_uint temp_58 (temp_56 .multiply_operation (temp_57, inCompiler COMMA_SOURCE_FILE_AT_LINE (63))) ;
      GALGAS_uint temp_59 (var_currentAddress.add_operation (temp_58, inCompiler COMMA_SOURCE_FILE_AT_LINE (63))) ;
      var_currentAddress = temp_59 ;
      enumerator_2675.gotoNextObject () ;
      enumerator_2683.gotoNextObject () ;
    }
    enumerator_2070.gotoNextObject () ;
    index_2064.increment_operation (inCompiler COMMA_SOURCE_FILE_AT_LINE (41)) ;
  }
  //-------- @appendInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_60 ("\n"
    "*******************************************************************************\n") ;
  ioArgument_ioListFileContents.dotAssign_operation (temp_60 COMMA_SOURCE_FILE_AT_LINE (66)) ;
}


//---------------------------------------------------------------------------*
//                                                                           *
//                          Routine 'pic18_analyze'                          *
//                                                                           *
//---------------------------------------------------------------------------*

void routine_pic_31__38__5F_analyze (const GALGAS_piccoloModel constinArgument_inPiccoloModel,
                                     const GALGAS_string constinArgument_inSourceFileName,
                                     C_Compiler * inCompiler
                                     COMMA_UNUSED_LOCATION_ARGS) {
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_string temp_0 (constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (77))) ;
  GALGAS_string temp_1 (temp_0.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (77))) ;
  GALGAS_string var_sourceFileBaseName (temp_1) ;
  //-------- @ifInstructionForGeneration
  //--- @notEqualExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_lstring temp_2 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (78))) ;
  GALGAS_string temp_3 (temp_2.reader_string (SOURCE_FILE_AT_LINE (78))) ;
  GALGAS_bool temp_4 (kIsNotEqual, var_sourceFileBaseName.objectCompare (temp_3)) ;
  if (temp_4.isValidAndTrue ()) {
    //-------- @errorInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_lstring temp_5 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (79))) ;
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_6 ("the program name ('") ;
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_lstring temp_7 (constinArgument_inPiccoloModel.reader_mProgramName (SOURCE_FILE_AT_LINE (79))) ;
    GALGAS_string temp_8 (temp_7.reader_string (SOURCE_FILE_AT_LINE (79))) ;
    GALGAS_string temp_9 (temp_6.operator_concat (temp_8 COMMA_SOURCE_FILE_AT_LINE (79))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_10 ("') should be identical to the file base name '") ;
    GALGAS_string temp_11 (temp_9.operator_concat (temp_10 COMMA_SOURCE_FILE_AT_LINE (80))) ;
    GALGAS_string temp_12 (temp_11.operator_concat (var_sourceFileBaseName COMMA_SOURCE_FILE_AT_LINE (80))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_13 ("'") ;
    GALGAS_string temp_14 (temp_12.operator_concat (temp_13 COMMA_SOURCE_FILE_AT_LINE (80))) ;
    GALGAS_location location_15 (temp_5.reader_location (HERE)) ; // Implicit use of 'location' reader
    inCompiler->emitSemanticError (location_15, temp_14 COMMA_SOURCE_FILE_AT_LINE (79)) ;
  }
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_16 ("") ;
  GALGAS_string var_listFileContents (temp_16) ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_piccoloDeviceModel var_piccoloDeviceModel ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_uint var_accessBankSplitOffset ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_ramBankTable var_ramBank ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_bootloaderReservedRAMmap var_bootloaderReservedRAMmap ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_bootloaderRoutineDeclarationListForBootloaderImplementation ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_userRoutineDeclarationListForBootloaderImplementation ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_bootloaderRoutineDeclarationListForUserProgramImplementation ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_routineDeclarationList var_userRoutineDeclarationListForUserProgramImplementation ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_luint var_bootloaderReservedROMsize ;
  //-------- @localVariableDeclarationForGeneration
  GALGAS_registerTable var_registerTable ;
  //------- @switchInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_programKind temp_17 (constinArgument_inPiccoloModel.reader_mProgramKind (SOURCE_FILE_AT_LINE (94))) ;
  if (temp_17.isValid ()) {
    switch (temp_17.enumValue ()) {
    case GALGAS_programKind::kNotBuilt:
      break ;
    case GALGAS_programKind::kEnum_regularProgram: {
      { //-------- @routineCallInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_18 (constinArgument_inPiccoloModel.reader_mDeviceNameOrBootLoaderReference (SOURCE_FILE_AT_LINE (96))) ;
      routine_parseDeviceDefinition (temp_18, var_piccoloDeviceModel, inCompiler COMMA_SOURCE_FILE_AT_LINE (96)) ;
      } //-------- @routineCallInstructionForGeneration
      //------- @switchInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_processorType temp_19 (var_piccoloDeviceModel.reader_mProcessorType (SOURCE_FILE_AT_LINE (97))) ;
      if (temp_19.isValid ()) {
        switch (temp_19.enumValue ()) {
        case GALGAS_processorType::kNotBuilt:
          break ;
        case GALGAS_processorType::kEnum_pic_31__38__5F__36__30_: {
          //-------- @assignmentInstructionForGeneration
          //--- @literalUIntExpressionForGeneration
          GALGAS_uint temp_20 ((PMUInt32) 96U) ;
          var_accessBankSplitOffset = temp_20 ;
          } break ;
        case GALGAS_processorType::kEnum_pic_31__38__5F__38__30_: {
          //-------- @assignmentInstructionForGeneration
          //--- @literalUIntExpressionForGeneration
          GALGAS_uint temp_21 ((PMUInt32) 128U) ;
          var_accessBankSplitOffset = temp_21 ;
          } break ;
        case GALGAS_processorType::kEnum_midrange: {
          //-------- @errorInstructionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGAS_lstring temp_22 (constinArgument_inPiccoloModel.reader_mDeviceNameOrBootLoaderReference (SOURCE_FILE_AT_LINE (100))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_23 ("a midrange device is not accepted here") ;
          GALGAS_location location_24 (temp_22.reader_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_24, temp_23 COMMA_SOURCE_FILE_AT_LINE (100)) ;
          var_accessBankSplitOffset.drop () ; // Release error dropped variable
          } break ;
        case GALGAS_processorType::kEnum_baseline: {
          //-------- @errorInstructionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGAS_lstring temp_25 (constinArgument_inPiccoloModel.reader_mDeviceNameOrBootLoaderReference (SOURCE_FILE_AT_LINE (101))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_26 ("a baseline device is not accepted here") ;
          GALGAS_location location_27 (temp_25.reader_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_27, temp_26 COMMA_SOURCE_FILE_AT_LINE (101)) ;
          var_accessBankSplitOffset.drop () ; // Release error dropped variable
          } break ;
        }
      }
      //-------- @assignmentInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_ramBankTable temp_28 (var_piccoloDeviceModel.reader_mRamBankTable (SOURCE_FILE_AT_LINE (103))) ;
      var_ramBank = temp_28 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_bootloaderReservedRAMmap temp_29 (GALGAS_bootloaderReservedRAMmap::constructor_emptyMap (SOURCE_FILE_AT_LINE (104))) ;
      var_bootloaderReservedRAMmap = temp_29 ;
      //-------- @assignmentInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_registerTable temp_30 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (105))) ;
      var_registerTable = temp_30 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_31 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (106))) ;
      var_bootloaderRoutineDeclarationListForBootloaderImplementation = temp_31 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_32 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (107))) ;
      var_userRoutineDeclarationListForBootloaderImplementation = temp_32 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_33 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (108))) ;
      var_bootloaderRoutineDeclarationListForUserProgramImplementation = temp_33 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_34 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (109))) ;
      var_userRoutineDeclarationListForUserProgramImplementation = temp_34 ;
      //-------- @assignmentInstructionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_35 ((PMUInt32) 0U) ;
      GALGAS_location temp_36 (inCompiler->here ()) ;
      GALGAS_luint temp_37 (GALGAS_luint::constructor_new (temp_35, temp_36 COMMA_SOURCE_FILE_AT_LINE (110))) ;
      var_bootloaderReservedROMsize = temp_37 ;
      } break ;
    case GALGAS_programKind::kEnum_bootloaderProgram: {
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_38 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (112))) ;
      var_bootloaderRoutineDeclarationListForUserProgramImplementation = temp_38 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_39 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (113))) ;
      var_userRoutineDeclarationListForUserProgramImplementation = temp_39 ;
      { //-------- @grammarInstructionWithSourceFileForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_40 (constinArgument_inPiccoloModel.reader_mDeviceNameOrBootLoaderReference (SOURCE_FILE_AT_LINE (114))) ;
      cGrammar_piccolo_5F_grammar::_performSourceFileParsing_importBootloaderSpecification (inCompiler, temp_40, var_piccoloDeviceModel, var_accessBankSplitOffset, var_ramBank, var_registerTable, var_bootloaderReservedRAMmap, var_bootloaderRoutineDeclarationListForBootloaderImplementation, var_userRoutineDeclarationListForBootloaderImplementation, var_bootloaderReservedROMsize COMMA_SOURCE_FILE_AT_LINE (114)) ;
      } //-------- END @grammarInstructionWithSourceFileForGeneration
      //-------- @foreachInstructionForGeneration
      cEnumerator_ramBankTable enumerator_6993 (var_ramBank, true) ;
      //--- simple foreach instruction
      while (enumerator_6993.hasCurrentObject ()) {
        { //-------- @modifierCallInstructionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_41 (enumerator_6993.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (125))) ;
        var_ramBank.modifier_setMFirstFreeAddressForKey (enumerator_6993.current_mFirstAddress (), temp_41, inCompiler COMMA_SOURCE_FILE_AT_LINE (125)) ;
        } //-------- END @typeMethodInstructionForGeneration
        enumerator_6993.gotoNextObject () ;
      }
      } break ;
    case GALGAS_programKind::kEnum_userProgram: {
      { //-------- @grammarInstructionWithSourceFileForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_42 (constinArgument_inPiccoloModel.reader_mDeviceNameOrBootLoaderReference (SOURCE_FILE_AT_LINE (128))) ;
      cGrammar_piccolo_5F_grammar::_performSourceFileParsing_importBootloaderSpecification (inCompiler, temp_42, var_piccoloDeviceModel, var_accessBankSplitOffset, var_ramBank, var_registerTable, var_bootloaderReservedRAMmap, var_bootloaderRoutineDeclarationListForUserProgramImplementation, var_userRoutineDeclarationListForUserProgramImplementation, var_bootloaderReservedROMsize COMMA_SOURCE_FILE_AT_LINE (128)) ;
      } //-------- END @grammarInstructionWithSourceFileForGeneration
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_43 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (138))) ;
      var_bootloaderRoutineDeclarationListForBootloaderImplementation = temp_43 ;
      //-------- @assignmentInstructionForGeneration
      GALGAS_routineDeclarationList temp_44 (GALGAS_routineDeclarationList::constructor_emptyList (SOURCE_FILE_AT_LINE (139))) ;
      var_userRoutineDeclarationListForBootloaderImplementation = temp_44 ;
      } break ;
    }
  }
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @falseExpressionForGeneration
  GALGAS_bool temp_45 (false) ;
  GALGAS_bool var_hasHighInterrupt (temp_45) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @falseExpressionForGeneration
  GALGAS_bool temp_46 (false) ;
  GALGAS_bool var_highInterruptIsFast (temp_46) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @falseExpressionForGeneration
  GALGAS_bool temp_47 (false) ;
  GALGAS_bool var_hasLowInterrupt (temp_47) ;
  //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
  //--- @falseExpressionForGeneration
  GALGAS_bool temp_48 (false) ;
  GALGAS_bool var_lowInterruptIsFast (temp_48) ;
  //-------- @foreachInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_interruptDefinitionList temp_49 (constinArgument_inPiccoloModel.reader_mInterruptDefinitionList (SOURCE_FILE_AT_LINE (146))) ;
  cEnumerator_interruptDefinitionList enumerator_8033 (temp_49, true) ;
  //--- simple foreach instruction
  while (enumerator_8033.hasCurrentObject ()) {
    //-------- @ifInstructionForGeneration
    //--- @equalExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_programKind temp_50 (constinArgument_inPiccoloModel.reader_mProgramKind (SOURCE_FILE_AT_LINE (147))) ;
    GALGAS_programKind temp_51 (GALGAS_programKind::constructor_userProgram (SOURCE_FILE_AT_LINE (147))) ;
    GALGAS_bool temp_52 (kIsEqual, temp_50.objectCompare (temp_51)) ;
    if (temp_52.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_53 ("interrupt routine is not allowed for a bootloader user program") ;
      GALGAS_location location_54 (enumerator_8033.current_mInterruptName ().reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_54, temp_53 COMMA_SOURCE_FILE_AT_LINE (148)) ;
    }
    //-------- @ifInstructionForGeneration
    //--- @equalExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_55 (enumerator_8033.current_mInterruptName ().reader_string (SOURCE_FILE_AT_LINE (150))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_56 ("high") ;
    GALGAS_bool temp_57 (kIsEqual, temp_55.objectCompare (temp_56)) ;
    if (temp_57.isValidAndTrue ()) {
      //-------- @assignmentInstructionForGeneration
      var_highInterruptIsFast = enumerator_8033.current_mFastReturn () ;
      //-------- @ifInstructionForGeneration
      if (var_hasHighInterrupt.isValidAndTrue ()) {
        //-------- @errorInstructionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_58 ("Only one 'high' interrupt routine is allowed") ;
        GALGAS_location location_59 (enumerator_8033.current_mInterruptName ().reader_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_59, temp_58 COMMA_SOURCE_FILE_AT_LINE (153)) ;
      }
      //-------- @assignmentInstructionForGeneration
      //--- @trueExpressionForGeneration
      GALGAS_bool temp_60 (true) ;
      var_hasHighInterrupt = temp_60 ;
    }else{
      //-------- @ifInstructionForGeneration
      //--- @equalExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_61 (enumerator_8033.current_mInterruptName ().reader_string (SOURCE_FILE_AT_LINE (156))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_62 ("low") ;
      GALGAS_bool temp_63 (kIsEqual, temp_61.objectCompare (temp_62)) ;
      if (temp_63.isValidAndTrue ()) {
        //-------- @assignmentInstructionForGeneration
        var_lowInterruptIsFast = enumerator_8033.current_mFastReturn () ;
        //-------- @ifInstructionForGeneration
        if (var_hasLowInterrupt.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_64 ("Only one 'low' interrupt routine is allowed") ;
          GALGAS_location location_65 (enumerator_8033.current_mInterruptName ().reader_location (HERE)) ; // Implicit use of 'location' reader
          inCompiler->emitSemanticError (location_65, temp_64 COMMA_SOURCE_FILE_AT_LINE (159)) ;
        }
        //-------- @assignmentInstructionForGeneration
        //--- @trueExpressionForGeneration
        GALGAS_bool temp_66 (true) ;
        var_hasLowInterrupt = temp_66 ;
      }else{
        //-------- @errorInstructionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_67 ("An interrupt routine should be named 'low' or 'high'") ;
        GALGAS_location location_68 (enumerator_8033.current_mInterruptName ().reader_location (HERE)) ; // Implicit use of 'location' reader
        inCompiler->emitSemanticError (location_68, temp_67 COMMA_SOURCE_FILE_AT_LINE (163)) ;
      }
    }
    //-------- @ifInstructionForGeneration
    //--- @andExpressionForGeneration
    GALGAS_bool temp_69 (var_highInterruptIsFast.operator_and (var_lowInterruptIsFast COMMA_SOURCE_FILE_AT_LINE (165))) ;
    if (temp_69.isValidAndTrue ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_70 ("either low interrupt or high interrupt can be \"fast\", not both") ;
      GALGAS_location location_71 (enumerator_8033.current_mInterruptName ().reader_location (HERE)) ; // Implicit use of 'location' reader
      inCompiler->emitSemanticError (location_71, temp_70 COMMA_SOURCE_FILE_AT_LINE (166)) ;
    }
    enumerator_8033.gotoNextObject () ;
  }
  //-------- @localVariableDeclarationForGeneration
  GALGAS_actualConfigurationMap var_actualConfigurationMap ;
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_programKind temp_72 (constinArgument_inPiccoloModel.reader_mProgramKind (SOURCE_FILE_AT_LINE (171))) ;
  GALGAS_programKind temp_73 (GALGAS_programKind::constructor_userProgram (SOURCE_FILE_AT_LINE (171))) ;
  GALGAS_bool temp_74 (kIsEqual, temp_72.objectCompare (temp_73)) ;
  if (temp_74.isValidAndTrue ()) {
    //-------- @foreachInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_configDefinitionList temp_75 (constinArgument_inPiccoloModel.reader_mConfigDefinitionList (SOURCE_FILE_AT_LINE (172))) ;
    cEnumerator_configDefinitionList enumerator_9217 (temp_75, true) ;
    //--- simple foreach instruction
    while (enumerator_9217.hasCurrentObject ()) {
      //-------- @errorInstructionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_76 ("configuration is not allowed for a bootloader user program") ;
      inCompiler->emitSemanticError (enumerator_9217.current_mDefinitionLocation (), temp_76 COMMA_SOURCE_FILE_AT_LINE (173)) ;
      enumerator_9217.gotoNextObject () ;
    }
    //-------- @assignmentInstructionForGeneration
    GALGAS_actualConfigurationMap temp_77 (GALGAS_actualConfigurationMap::constructor_emptyMap (SOURCE_FILE_AT_LINE (175))) ;
    var_actualConfigurationMap = temp_77 ;
  }else{
    { //-------- @routineCallInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_configRegisterMap temp_78 (var_piccoloDeviceModel.reader_mConfigRegisterMap (SOURCE_FILE_AT_LINE (178))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_configDefinitionList temp_79 (constinArgument_inPiccoloModel.reader_mConfigDefinitionList (SOURCE_FILE_AT_LINE (179))) ;
    //--- @readerCallExpressionForGeneration
    GALGAS_bool temp_80 (constinArgument_inPiccoloModel.reader_mAcceptDefaultConfiguration (SOURCE_FILE_AT_LINE (180))) ;
    routine_buildConfig (temp_78, temp_79, temp_80, var_listFileContents, var_actualConfigurationMap, inCompiler COMMA_SOURCE_FILE_AT_LINE (177)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  { //-------- @routineCallInstructionForGeneration
  //--- @literalStringExpressionForGeneration
  GALGAS_string temp_81 ("DECLARED VARIABLES") ;
  //--- @readerCallExpressionForGeneration
  GALGAS_ramDefinitionList temp_82 (constinArgument_inPiccoloModel.reader_mRamDefinitionList (SOURCE_FILE_AT_LINE (188))) ;
  //--- @readerCallExpressionForGeneration
  GALGAS_registerTable temp_83 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (190))) ;
  routine_analyze_5F_ram_5F_sections (temp_81, temp_82, var_ramBank, temp_83, var_listFileContents, var_registerTable, inCompiler COMMA_SOURCE_FILE_AT_LINE (186)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_programKind temp_84 (constinArgument_inPiccoloModel.reader_mProgramKind (SOURCE_FILE_AT_LINE (195))) ;
  GALGAS_programKind temp_85 (GALGAS_programKind::constructor_bootloaderProgram (SOURCE_FILE_AT_LINE (195))) ;
  GALGAS_bool temp_86 (kIsEqual, temp_84.objectCompare (temp_85)) ;
  if (temp_86.isValidAndTrue ()) {
    //-------- @foreachInstructionForGeneration
    cEnumerator_ramBankTable enumerator_10097 (var_ramBank, true) ;
    //--- simple foreach instruction
    while (enumerator_10097.hasCurrentObject ()) {
      //-------- @ifInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_87 (enumerator_10097.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (197))) ;
      GALGAS_bool temp_88 (var_bootloaderReservedRAMmap.reader_hasKey (temp_87 COMMA_SOURCE_FILE_AT_LINE (197))) ;
      if (temp_88.isValidAndTrue ()) {
        //-------- @localVariableDeclarationForGeneration
        GALGAS_luint var_bootloaderReservedSize ;
        //-------- @methodCallInstructionForGeneration
        var_bootloaderReservedRAMmap.method_searchKey (enumerator_10097.current_lkey (), var_bootloaderReservedSize, inCompiler COMMA_SOURCE_FILE_AT_LINE (199)) ;
        //-------- END @methodCallInstructionForGeneration
        //-------- @ifInstructionForGeneration
        //--- @strictGreaterExpressionForGeneration
        //--- @subExpressionForGeneration
        GALGAS_uint temp_89 (enumerator_10097.current_mFirstFreeAddress ().substract_operation (enumerator_10097.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (200))) ;
        //--- @readerCallExpressionForGeneration
        GALGAS_uint temp_90 (var_bootloaderReservedSize.reader_uint (SOURCE_FILE_AT_LINE (200))) ;
        GALGAS_bool temp_91 (kIsStrictSup, temp_89.objectCompare (temp_90)) ;
        if (temp_91.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          GALGAS_location temp_92 (inCompiler->here ()) ;
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_93 ("for '") ;
          //--- @readerCallExpressionForGeneration
          GALGAS_string temp_94 (enumerator_10097.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (201))) ;
          GALGAS_string temp_95 (temp_93.operator_concat (temp_94 COMMA_SOURCE_FILE_AT_LINE (201))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_96 ("' RAM bank, the bootloader implementation declares ") ;
          GALGAS_string temp_97 (temp_95.operator_concat (temp_96 COMMA_SOURCE_FILE_AT_LINE (201))) ;
          //--- @readerCallExpressionForGeneration
          //--- @subExpressionForGeneration
          GALGAS_uint temp_98 (enumerator_10097.current_mFirstFreeAddress ().substract_operation (enumerator_10097.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (202))) ;
          GALGAS_string temp_99 (temp_98.reader_string (SOURCE_FILE_AT_LINE (202))) ;
          GALGAS_string temp_100 (temp_97.operator_concat (temp_99 COMMA_SOURCE_FILE_AT_LINE (202))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_101 (" byte(s), althought the bootloader specification reserves ") ;
          GALGAS_string temp_102 (temp_100.operator_concat (temp_101 COMMA_SOURCE_FILE_AT_LINE (203))) ;
          //--- @readerCallExpressionForGeneration
          //--- @readerCallExpressionForGeneration
          GALGAS_uint temp_103 (var_bootloaderReservedSize.reader_uint (SOURCE_FILE_AT_LINE (204))) ;
          GALGAS_string temp_104 (temp_103.reader_string (SOURCE_FILE_AT_LINE (204))) ;
          GALGAS_string temp_105 (temp_102.operator_concat (temp_104 COMMA_SOURCE_FILE_AT_LINE (204))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_106 (" byte(s)") ;
          GALGAS_string temp_107 (temp_105.operator_concat (temp_106 COMMA_SOURCE_FILE_AT_LINE (205))) ;
          inCompiler->emitSemanticError (temp_92, temp_107 COMMA_SOURCE_FILE_AT_LINE (201)) ;
        }
      }else{
        //-------- @ifInstructionForGeneration
        //--- @strictGreaterExpressionForGeneration
        GALGAS_bool temp_108 (kIsStrictSup, enumerator_10097.current_mFirstFreeAddress ().objectCompare (enumerator_10097.current_mFirstAddress ())) ;
        if (temp_108.isValidAndTrue ()) {
          //-------- @errorInstructionForGeneration
          GALGAS_location temp_109 (inCompiler->here ()) ;
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @concatExpressionForGeneration
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_110 ("for '") ;
          //--- @readerCallExpressionForGeneration
          GALGAS_string temp_111 (enumerator_10097.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (208))) ;
          GALGAS_string temp_112 (temp_110.operator_concat (temp_111 COMMA_SOURCE_FILE_AT_LINE (208))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_113 ("' RAM bank, the bootloader implementation declares ") ;
          GALGAS_string temp_114 (temp_112.operator_concat (temp_113 COMMA_SOURCE_FILE_AT_LINE (208))) ;
          //--- @readerCallExpressionForGeneration
          //--- @subExpressionForGeneration
          GALGAS_uint temp_115 (enumerator_10097.current_mFirstFreeAddress ().substract_operation (enumerator_10097.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (209))) ;
          GALGAS_string temp_116 (temp_115.reader_string (SOURCE_FILE_AT_LINE (209))) ;
          GALGAS_string temp_117 (temp_114.operator_concat (temp_116 COMMA_SOURCE_FILE_AT_LINE (209))) ;
          //--- @literalStringExpressionForGeneration
          GALGAS_string temp_118 (" byte(s), althought the bootloader specification reserves no space") ;
          GALGAS_string temp_119 (temp_117.operator_concat (temp_118 COMMA_SOURCE_FILE_AT_LINE (210))) ;
          inCompiler->emitSemanticError (temp_109, temp_119 COMMA_SOURCE_FILE_AT_LINE (208)) ;
        }
      }
      enumerator_10097.gotoNextObject () ;
    }
  }
  //-------- @localVariableDeclarationForGeneration
  GALGAS_ipic_31__38__5F_instructionList var_generatedInstructionList ;
  { //-------- @routineCallInstructionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_programKind temp_120 (constinArgument_inPiccoloModel.reader_mProgramKind (SOURCE_FILE_AT_LINE (217))) ;
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  //--- @readerCallExpressionForGeneration
  GALGAS_luint temp_121 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (218))) ;
  GALGAS_uint temp_122 (temp_121.reader_uint (SOURCE_FILE_AT_LINE (218))) ;
  GALGAS_sint temp_123 (temp_122.reader_sint (inCompiler COMMA_SOURCE_FILE_AT_LINE (218))) ;
  routine_build_5F_ipic_31__38__5F_assembly_5F_instruction_5F_list (temp_120, temp_123, var_bootloaderRoutineDeclarationListForBootloaderImplementation, var_userRoutineDeclarationListForBootloaderImplementation, var_bootloaderReservedROMsize, var_bootloaderRoutineDeclarationListForUserProgramImplementation, var_userRoutineDeclarationListForUserProgramImplementation, var_accessBankSplitOffset, var_registerTable, constinArgument_inPiccoloModel, var_hasHighInterrupt, var_hasLowInterrupt, var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (216)) ;
  } //-------- @routineCallInstructionForGeneration
  //-------- @ifInstructionForGeneration
  //--- @andExpressionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_124 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (233))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_125 ((PMUInt32) 0U) ;
  GALGAS_bool temp_126 (kIsEqual, temp_124.objectCompare (temp_125)) ;
  //--- @optionValueExpressionForGeneration
  GALGAS_bool temp_127 (gOption_piccolo_5F_options_performOptimizations.mValue) ;
  GALGAS_bool temp_128 (temp_126.operator_and (temp_127 COMMA_SOURCE_FILE_AT_LINE (233))) ;
  if (temp_128.isValidAndTrue ()) {
    { //-------- @routineCallInstructionForGeneration
    routine_performOptimizations (var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (234)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_129 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (237))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_130 ((PMUInt32) 0U) ;
  GALGAS_bool temp_131 (kIsEqual, temp_129.objectCompare (temp_130)) ;
  if (temp_131.isValidAndTrue ()) {
    { //-------- @routineCallInstructionForGeneration
    routine_ipic_31__38__5F_convertRelativeBranchsToAbsoluteWhenNeeded (var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (238)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @equalExpressionForGeneration
  GALGAS_uint temp_132 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (241))) ;
  //--- @literalUIntExpressionForGeneration
  GALGAS_uint temp_133 ((PMUInt32) 0U) ;
  GALGAS_bool temp_134 (kIsEqual, temp_132.objectCompare (temp_133)) ;
  if (temp_134.isValidAndTrue ()) {
    //-------- @localVariableDeclarationForGeneration
    GALGAS_uint var_usedROMsize ;
    { //-------- @routineCallInstructionForGeneration
    //--- @readerCallExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_luint temp_135 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (246))) ;
    GALGAS_uint temp_136 (temp_135.reader_uint (SOURCE_FILE_AT_LINE (246))) ;
    routine_build_5F_ipic_31__38__5F_binary_5F_code (var_generatedInstructionList, temp_136, var_actualConfigurationMap, var_usedROMsize, inCompiler COMMA_SOURCE_FILE_AT_LINE (244)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @localVariableDeclarationForGeneration
    GALGAS_string var_contents ;
    { //-------- @routineCallInstructionForGeneration
    routine_getGeneratedContents (var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (251)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_137 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (252))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_138 (".hex") ;
    GALGAS_string temp_139 (temp_137.operator_concat (temp_138 COMMA_SOURCE_FILE_AT_LINE (252))) ;
    GALGAS_string var_destinationFile (temp_139) ;
    //-------- @methodCallInstructionForGeneration
    GALGAS_bool joker_12715_0 ; // Joker input parameter
    var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_12715_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (253)) ;
    //-------- END @methodCallInstructionForGeneration
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_140 (gOption_piccolo_5F_options_output_5F_C_5F_Array.mValue) ;
    if (temp_140.isValidAndTrue ()) {
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_141 (constinArgument_inSourceFileName.reader_lastPathComponent (SOURCE_FILE_AT_LINE (255))) ;
      GALGAS_string temp_142 (temp_141.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (255))) ;
      GALGAS_string var_baseName (temp_142) ;
      { //-------- @routineCallInstructionForGeneration
      routine_get_5F_C_5F_ArrayImplementation (var_baseName, var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (256)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @assignmentInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_143 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (257))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_144 (".c") ;
      GALGAS_string temp_145 (temp_143.operator_concat (temp_144 COMMA_SOURCE_FILE_AT_LINE (257))) ;
      var_destinationFile = temp_145 ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_13085_0 ; // Joker input parameter
      var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_13085_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (258)) ;
      //-------- END @methodCallInstructionForGeneration
      { //-------- @routineCallInstructionForGeneration
      routine_get_5F_C_5F_ArrayHeader (var_baseName, var_contents, inCompiler COMMA_SOURCE_FILE_AT_LINE (259)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @assignmentInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_146 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (260))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_147 (".h") ;
      GALGAS_string temp_148 (temp_146.operator_concat (temp_147 COMMA_SOURCE_FILE_AT_LINE (260))) ;
      var_destinationFile = temp_148 ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_13286_0 ; // Joker input parameter
      var_contents.method_writeToFileWhenDifferentContents (var_destinationFile, joker_13286_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (261)) ;
      //-------- END @methodCallInstructionForGeneration
    }
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_149 (gOption_galgas_5F_cli_5F_options_verbose_5F_output.mValue) ;
    if (temp_149.isValidAndTrue ()) {
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_150 ("  ROM size: ") ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_luint temp_151 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (265))) ;
      GALGAS_uint temp_152 (temp_151.reader_uint (SOURCE_FILE_AT_LINE (265))) ;
      GALGAS_string temp_153 (temp_152.reader_string (SOURCE_FILE_AT_LINE (265))) ;
      GALGAS_string temp_154 (temp_150.operator_concat (temp_153 COMMA_SOURCE_FILE_AT_LINE (265))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_155 (" bytes;") ;
      GALGAS_string temp_156 (temp_154.operator_concat (temp_155 COMMA_SOURCE_FILE_AT_LINE (265))) ;
      GALGAS_string var_verboseMessage (temp_156) ;
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_157 (" used: ") ;
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_158 (var_usedROMsize.reader_string (SOURCE_FILE_AT_LINE (266))) ;
      GALGAS_string temp_159 (temp_157.operator_concat (temp_158 COMMA_SOURCE_FILE_AT_LINE (266))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_160 (" bytes (") ;
      GALGAS_string temp_161 (temp_159.operator_concat (temp_160 COMMA_SOURCE_FILE_AT_LINE (266))) ;
      var_verboseMessage.dotAssign_operation (temp_161 COMMA_SOURCE_FILE_AT_LINE (266)) ;
      //-------- @appendInstructionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @divisionExpressionForGeneration
      //--- @multiplicationExpressionForGeneration
      //--- @literalUIntExpressionForGeneration
      GALGAS_uint temp_162 ((PMUInt32) 100U) ;
      GALGAS_uint temp_163 (var_usedROMsize .multiply_operation (temp_162, inCompiler COMMA_SOURCE_FILE_AT_LINE (267))) ;
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_luint temp_164 (var_piccoloDeviceModel.reader_mRomSize (SOURCE_FILE_AT_LINE (267))) ;
      GALGAS_uint temp_165 (temp_164.reader_uint (SOURCE_FILE_AT_LINE (267))) ;
      GALGAS_uint temp_166 (temp_163.divide_operation (temp_165, inCompiler COMMA_SOURCE_FILE_AT_LINE (267))) ;
      GALGAS_string temp_167 (temp_166.reader_string (SOURCE_FILE_AT_LINE (267))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_168 ("%).\n") ;
      GALGAS_string temp_169 (temp_167.operator_concat (temp_168 COMMA_SOURCE_FILE_AT_LINE (267))) ;
      var_verboseMessage.dotAssign_operation (temp_169 COMMA_SOURCE_FILE_AT_LINE (267)) ;
      //-------- @foreachInstructionForGeneration
      cEnumerator_ramBankTable enumerator_13691 (var_ramBank, true) ;
      //--- simple foreach instruction
      while (enumerator_13691.hasCurrentObject ()) {
        //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
        //--- @subExpressionForGeneration
        GALGAS_uint temp_170 (enumerator_13691.current_mLastAddressPlusOne ().substract_operation (enumerator_13691.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (269))) ;
        GALGAS_uint var_bankSize (temp_170) ;
        //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
        //--- @subExpressionForGeneration
        GALGAS_uint temp_171 (enumerator_13691.current_mFirstFreeAddress ().substract_operation (enumerator_13691.current_mFirstAddress (), inCompiler COMMA_SOURCE_FILE_AT_LINE (270))) ;
        GALGAS_uint var_usedSize (temp_171) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @concatExpressionForGeneration
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_172 ("  RAM bank '") ;
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_173 (enumerator_13691.current_lkey ().reader_string (SOURCE_FILE_AT_LINE (271))) ;
        GALGAS_string temp_174 (temp_172.operator_concat (temp_173 COMMA_SOURCE_FILE_AT_LINE (271))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_175 ("': ") ;
        GALGAS_string temp_176 (temp_174.operator_concat (temp_175 COMMA_SOURCE_FILE_AT_LINE (271))) ;
        var_verboseMessage.dotAssign_operation (temp_176 COMMA_SOURCE_FILE_AT_LINE (271)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_177 (var_bankSize.reader_string (SOURCE_FILE_AT_LINE (272))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_178 (" bytes, used ") ;
        GALGAS_string temp_179 (temp_177.operator_concat (temp_178 COMMA_SOURCE_FILE_AT_LINE (272))) ;
        var_verboseMessage.dotAssign_operation (temp_179 COMMA_SOURCE_FILE_AT_LINE (272)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        GALGAS_string temp_180 (var_usedSize.reader_string (SOURCE_FILE_AT_LINE (273))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_181 (" bytes (") ;
        GALGAS_string temp_182 (temp_180.operator_concat (temp_181 COMMA_SOURCE_FILE_AT_LINE (273))) ;
        var_verboseMessage.dotAssign_operation (temp_182 COMMA_SOURCE_FILE_AT_LINE (273)) ;
        //-------- @appendInstructionForGeneration
        //--- @concatExpressionForGeneration
        //--- @readerCallExpressionForGeneration
        //--- @divisionExpressionForGeneration
        //--- @multiplicationExpressionForGeneration
        //--- @literalUIntExpressionForGeneration
        GALGAS_uint temp_183 ((PMUInt32) 100U) ;
        GALGAS_uint temp_184 (var_usedSize .multiply_operation (temp_183, inCompiler COMMA_SOURCE_FILE_AT_LINE (274))) ;
        GALGAS_uint temp_185 (temp_184.divide_operation (var_bankSize, inCompiler COMMA_SOURCE_FILE_AT_LINE (274))) ;
        GALGAS_string temp_186 (temp_185.reader_string (SOURCE_FILE_AT_LINE (274))) ;
        //--- @literalStringExpressionForGeneration
        GALGAS_string temp_187 ("%).\n") ;
        GALGAS_string temp_188 (temp_186.operator_concat (temp_187 COMMA_SOURCE_FILE_AT_LINE (274))) ;
        var_verboseMessage.dotAssign_operation (temp_188 COMMA_SOURCE_FILE_AT_LINE (274)) ;
        enumerator_13691.gotoNextObject () ;
      }
      //-------- @messageInstructionForGeneration
      inCompiler->printMessage (var_verboseMessage COMMA_SOURCE_FILE_AT_LINE (276)) ;
    }
    //-------- @ifInstructionForGeneration
    //--- @optionValueExpressionForGeneration
    GALGAS_bool temp_189 (gOption_piccolo_5F_options_generateAssembly.mValue) ;
    if (temp_189.isValidAndTrue ()) {
      //-------- @localVariableDeclarationForGeneration
      GALGAS_string var_assemblyCode ;
      { //-------- @routineCallInstructionForGeneration
      //--- @readerCallExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_lstring temp_190 (var_piccoloDeviceModel.reader_mDeviceName (SOURCE_FILE_AT_LINE (282))) ;
      GALGAS_string temp_191 (temp_190.reader_string (SOURCE_FILE_AT_LINE (282))) ;
      //--- @readerCallExpressionForGeneration
      GALGAS_registerTable temp_192 (var_piccoloDeviceModel.reader_mRegisterTable (SOURCE_FILE_AT_LINE (283))) ;
      routine_pic_31__38__5F_build_5F_assembly_5F_code (temp_191, temp_192, var_registerTable, var_generatedInstructionList, var_actualConfigurationMap, var_assemblyCode, inCompiler COMMA_SOURCE_FILE_AT_LINE (281)) ;
      } //-------- @routineCallInstructionForGeneration
      //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
      //--- @concatExpressionForGeneration
      //--- @readerCallExpressionForGeneration
      GALGAS_string temp_193 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (289))) ;
      //--- @literalStringExpressionForGeneration
      GALGAS_string temp_194 (".asm") ;
      GALGAS_string temp_195 (temp_193.operator_concat (temp_194 COMMA_SOURCE_FILE_AT_LINE (289))) ;
      GALGAS_string var_asmDestinationFile (temp_195) ;
      //-------- @methodCallInstructionForGeneration
      GALGAS_bool joker_14703_0 ; // Joker input parameter
      var_assemblyCode.method_writeToFileWhenDifferentContents (var_asmDestinationFile, joker_14703_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (290)) ;
      //-------- END @methodCallInstructionForGeneration
    }
  }else{
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_196 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (293))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_197 (".hex") ;
    GALGAS_string temp_198 (temp_196.operator_concat (temp_197 COMMA_SOURCE_FILE_AT_LINE (293))) ;
    GALGAS_string var_hexDestinationFile (temp_198) ;
    { //-------- @typeMethodInstructionForGeneration
    GALGAS_string::class_method_deleteFileIfExists (var_hexDestinationFile, inCompiler COMMA_SOURCE_FILE_AT_LINE (294)) ;
    } //-------- @routineCallInstructionForGeneration
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_199 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (295))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_200 (".asm") ;
    GALGAS_string temp_201 (temp_199.operator_concat (temp_200 COMMA_SOURCE_FILE_AT_LINE (295))) ;
    GALGAS_string var_asmDestinationFile (temp_201) ;
    { //-------- @typeMethodInstructionForGeneration
    GALGAS_string::class_method_deleteFileIfExists (var_asmDestinationFile, inCompiler COMMA_SOURCE_FILE_AT_LINE (296)) ;
    } //-------- @routineCallInstructionForGeneration
  }
  //-------- @ifInstructionForGeneration
  //--- @optionValueExpressionForGeneration
  GALGAS_bool temp_202 (gOption_piccolo_5F_options_ouputListingFile.mValue) ;
  if (temp_202.isValidAndTrue ()) {
    //-------- @ifInstructionForGeneration
    //--- @equalExpressionForGeneration
    GALGAS_uint temp_203 (GALGAS_uint::constructor_errorCount (inCompiler COMMA_SOURCE_FILE_AT_LINE (300))) ;
    //--- @literalUIntExpressionForGeneration
    GALGAS_uint temp_204 ((PMUInt32) 0U) ;
    GALGAS_bool temp_205 (kIsEqual, temp_203.objectCompare (temp_204)) ;
    if (temp_205.isValidAndTrue ()) {
      { //-------- @routineCallInstructionForGeneration
      routine_pic_31__38__5F_build_5F_listing_5F_of_5F_generated_5F_code (var_generatedInstructionList, var_listFileContents, inCompiler COMMA_SOURCE_FILE_AT_LINE (301)) ;
      } //-------- @routineCallInstructionForGeneration
    }
    //-------- @localVariableOrConstantDeclarationWithSourceExpressionForGeneration
    //--- @concatExpressionForGeneration
    //--- @readerCallExpressionForGeneration
    GALGAS_string temp_206 (constinArgument_inSourceFileName.reader_stringByDeletingPathExtension (SOURCE_FILE_AT_LINE (306))) ;
    //--- @literalStringExpressionForGeneration
    GALGAS_string temp_207 (".list") ;
    GALGAS_string temp_208 (temp_206.operator_concat (temp_207 COMMA_SOURCE_FILE_AT_LINE (306))) ;
    GALGAS_string var_listFile (temp_208) ;
    //-------- @methodCallInstructionForGeneration
    GALGAS_bool joker_15507_0 ; // Joker input parameter
    var_listFileContents.method_writeToFileWhenDifferentContents (var_listFile, joker_15507_0, inCompiler COMMA_SOURCE_FILE_AT_LINE (307)) ;
    //-------- END @methodCallInstructionForGeneration
  }
}


//--- START OF USER ZONE 2


//--- END OF USER ZONE 2


